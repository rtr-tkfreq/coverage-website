globalThis.$localize=Object.assign(globalThis.$localize || {},{locale:"en"});
"use strict";(function(global,_global$ng,_global$ng2,_global$ng2$common,_global$ng$common,_global$ng$common$loc){(_global$ng=global.ng)!==null&&_global$ng!==void 0?_global$ng:global.ng={};(_global$ng2$common=(_global$ng2=global.ng).common)!==null&&_global$ng2$common!==void 0?_global$ng2$common:_global$ng2.common={};(_global$ng$common$loc=(_global$ng$common=global.ng.common).locales)!==null&&_global$ng$common$loc!==void 0?_global$ng$common$loc:_global$ng$common.locales={};const u=undefined;function plural(val){const n=val,i=Math.floor(Math.abs(val)),v=val.toString().replace(/^[^.]*\.?/,"").length;if(i===1&&v===0)return 1;return 5}global.ng.common.locales["en"]=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],u,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],u,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",u,u,u],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",plural,[[["mi","n","in the morning","in the afternoon","in the evening","at night"],["midnight","noon","in the morning","in the afternoon","in the evening","at night"],u],[["midnight","noon","morning","afternoon","evening","night"],u,u],["00:00","12:00",["00:00","12:00"],["12:00","18:00"],["18:00","21:00"],["21:00","24:00"]]]]})(globalThis);;
(self.webpackChunkfrq_map=self.webpackChunkfrq_map||[]).push([[792],{146:(ic,oc,qr)=>{"use strict";let xt=null,ze=!1,sc=1;const ht=Symbol("SIGNAL");function J(t){const e=xt;return xt=t,e}const Rr={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Si(t){if(ze)throw new Error("");if(null===xt)return;xt.consumerOnSignalRead(t);const e=xt.producersTail;if(void 0!==e&&e.producer===t)return;let n;const r=xt.recomputing;if(r&&(n=void 0!==e?e.nextProducer:xt.producers,void 0!==n&&n.producer===t))return xt.producersTail=n,void(n.lastReadVersion=t.version);const i=t.consumersTail;if(void 0!==i&&i.consumer===xt&&(!r||function Di(t,e){const n=e.producersTail;if(void 0!==n){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(void 0!==r)}return!1}(i,xt)))return;const o=xe(xt),s={producer:t,consumer:xt,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};xt.producersTail=s,void 0!==e?e.nextProducer=s:xt.producers=s,o&&Oe(t,s)}function dr(t){if((!xe(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==sc)){if(!t.producerMustRecompute(t)&&!Se(t))return void $(t);t.producerRecomputeValue(t),$(t)}}function lc(t){if(void 0===t.consumers)return;const e=ze;ze=!0;try{for(let n=t.consumers;void 0!==n;n=n.nextConsumer){const r=n.consumer;r.dirty||R(r)}}finally{ze=e}}function T(){return!1!==xt?.consumerAllowSignalWrites}function R(t){t.dirty=!0,lc(t),t.consumerMarkedDirty?.(t)}function $(t){t.dirty=!1,t.lastCleanEpoch=sc}function q(t){return t&&function Z(t){t.producersTail=void 0,t.recomputing=!0}(t),J(t)}function W(t,e){J(e),t&&function re(t){t.recomputing=!1;const e=t.producersTail;let n=void 0!==e?e.nextProducer:t.producers;if(void 0!==n){if(xe(t))do{n=ft(n)}while(void 0!==n);void 0!==e?e.nextProducer=void 0:t.producers=void 0}}(t)}function Se(t){for(let e=t.producers;void 0!==e;e=e.nextProducer){const n=e.producer,r=e.lastReadVersion;if(r!==n.version||(dr(n),r!==n.version))return!0}return!1}function Ae(t){if(xe(t)){let e=t.producers;for(;void 0!==e;)e=ft(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function Oe(t,e){const n=t.consumersTail,r=xe(t);if(void 0!==n?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;void 0!==i;i=i.nextProducer)Oe(i.producer,i)}function ft(t){const e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,void 0!==r?r.prevConsumer=i:e.consumersTail=i,void 0!==i)i.nextConsumer=r;else if(e.consumers=r,!xe(e)){let o=e.producers;for(;void 0!==o;)o=ft(o)}return n}function xe(t){return t.consumerIsAlwaysLive||void 0!==t.consumers}function Yr(t,e){return Object.is(t,e)}const wi=Symbol("UNSET"),Ar=Symbol("COMPUTING"),Fn=Symbol("ERRORED"),Jn={...Rr,value:wi,dirty:!0,error:null,equal:Yr,kind:"computed",producerMustRecompute:t=>t.value===wi||t.value===Ar,producerRecomputeValue(t){if(t.value===Ar)throw new Error("");const e=t.value;t.value=Ar;const n=q(t);let r,i=!1;try{r=t.computation(),J(null),i=e!==wi&&e!==Fn&&r!==Fn&&t.equal(e,r)}catch(o){r=Fn,t.error=o}finally{W(t,n)}i?t.value=e:(t.value=r,t.version++)}};let TM=function kL(){throw new Error};function MM(t){TM(t)}function xL(t,e){const n=Object.create(l_);n.value=t,void 0!==e&&(n.equal=e);const r=()=>function FL(t){return Si(t),t.value}(n);return r[ht]=n,[r,s=>Od(n,s),s=>function SM(t,e){T()||MM(t),Od(t,e(t.value))}(n,s)]}function Od(t,e){T()||MM(t),t.equal(t.value,e)||(t.value=e,function LL(t){t.version++,function va(){sc++}(),lc(t)}(t))}const l_={...Rr,equal:Yr,value:void 0,kind:"signal"},VL={...Rr,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"};function gt(t){return"function"==typeof t}function c_(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const u_=c_(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function d_(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class er{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(gt(r))try{r()}catch(o){e=o instanceof u_?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{IM(o)}catch(s){e=e??[],s instanceof u_?e=[...e,...s.errors]:e.push(s)}}if(e)throw new u_(e)}}add(e){var n;if(e&&e!==this)if(this.closed)IM(e);else{if(e instanceof er){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&d_(n,e)}remove(e){const{_finalizers:n}=this;n&&d_(n,e),e instanceof er&&e._removeParent(this)}}er.EMPTY=(()=>{const t=new er;return t.closed=!0,t})();const DM=er.EMPTY;function wM(t){return t instanceof er||t&&"closed"in t&&gt(t.remove)&&gt(t.add)&&gt(t.unsubscribe)}function IM(t){gt(t)?t():t.unsubscribe()}const Jo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},xd={setTimeout(t,e,...n){const{delegate:r}=xd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=xd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function RM(t){xd.setTimeout(()=>{const{onUnhandledError:e}=Jo;if(!e)throw t;e(t)})}function h_(){}const BL=f_("C",void 0,void 0);function f_(t,e,n){return{kind:t,value:e,error:n}}let es=null;function Fd(t){if(Jo.useDeprecatedSynchronousErrorHandling){const e=!es;if(e&&(es={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=es;if(es=null,n)throw r}}else t()}class g_ extends er{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,wM(e)&&e.add(this)):this.destination=qL}static create(e,n,r){return new __(e,n,r)}next(e){this.isStopped?m_(function UL(t){return f_("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?m_(function GL(t){return f_("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?m_(BL,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const zL=Function.prototype.bind;function p_(t,e){return zL.call(t,e)}class XL{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ld(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ld(r)}else Ld(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ld(n)}}}class __ extends g_{constructor(e,n,r){let i;if(super(),gt(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Jo.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&p_(e.next,o),error:e.error&&p_(e.error,o),complete:e.complete&&p_(e.complete,o)}):i=e}this.destination=new XL(i)}}function Ld(t){Jo.useDeprecatedSynchronousErrorHandling?function HL(t){Jo.useDeprecatedSynchronousErrorHandling&&es&&(es.errorThrown=!0,es.error=t)}(t):RM(t)}function m_(t,e){const{onStoppedNotification:n}=Jo;n&&xd.setTimeout(()=>n(t,e))}const qL={closed:!0,next:h_,error:function WL(t){throw t},complete:h_},y_="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ca(t){return t}function AM(t){return 0===t.length?Ca:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Pt=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function ZL(t){return t&&t instanceof g_||function YL(t){return t&&gt(t.next)&&gt(t.error)&&gt(t.complete)}(t)&&wM(t)}(n)?n:new __(n,r,i);return Fd(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=bM(r))((i,o)=>{const s=new __({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[y_](){return this}pipe(...n){return AM(n)(this)}toPromise(n){return new(n=bM(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function bM(t){var e;return null!==(e=t??Jo.Promise)&&void 0!==e?e:Promise}const QL=c_(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let v_,hr=(()=>{class t extends Pt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new PM(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new QL}next(n){Fd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Fd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Fd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?DM:(this.currentObservers=null,o.push(n),new er(()=>{this.currentObservers=null,d_(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Pt;return n.source=this,n}}return t.create=(e,n)=>new PM(e,n),t})();class PM extends hr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:DM}}class fr extends hr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function E_(){return v_}function co(t){const e=v_;return v_=t,e}const JL=Symbol("NotFound");function C_(t){return t===JL||"\u0275NotFound"===t?.name}Error;class D extends Error{code;constructor(e,n){super(Ln(e,n)),this.code=e}}function Ln(t,e){return`${function e2(t){return`NG0${Math.abs(t)}`}(t)}${e?": "+e:""}`}const wt=globalThis;function ue(t){for(let e in t)if(t[e]===ue)return e;throw Error("")}function t2(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function $n(t){if("string"==typeof t)return t;if(Array.isArray(t))return`[${t.map($n).join(", ")}]`;if(null==t)return""+t;const e=t.overriddenName||t.name;if(e)return`${e}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return r>=0?n.slice(0,r):n}function T_(t,e){return t?e?`${t} ${e}`:t:e||""}const n2=ue({__forward_ref__:ue});function rt(t){return t.__forward_ref__=rt,t.toString=function(){return $n(this())},t}function Ce(t){return Vd(t)?t():t}function Vd(t){return"function"==typeof t&&t.hasOwnProperty(n2)&&t.__forward_ref__===rt}function ts(t,e,n){t!=e&&function ee(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(n,t,e,"==")}function U(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Zr(t){return{providers:t.providers||[],imports:t.imports||[]}}function jd(t){return function c2(t,e){return t.hasOwnProperty(e)&&t[e]||null}(t,Gd)}function Bd(t){return t&&t.hasOwnProperty(M_)?t[M_]:null}const Gd=ue({\u0275prov:ue}),M_=ue({\u0275inj:ue});class O{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=U({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function D_(t){return t&&!!t.\u0275providers}const w_=ue({\u0275cmp:ue}),p2=ue({\u0275dir:ue}),_2=ue({\u0275pipe:ue}),OM=ue({\u0275mod:ue}),rs=ue({\u0275fac:ue}),cc=ue({__NG_ELEMENT_ID__:ue}),xM=ue({__NG_ENV_ID__:ue});function Ee(t){return"string"==typeof t?t:null==t?"":String(t)}const I_=ue({ngErrorCode:ue}),FM=ue({ngErrorMessage:ue}),uc=ue({ngTokenPath:ue});function R_(t,e){return LM("",-200,e)}function A_(t,e){throw new D(-201,!1)}function LM(t,e,n){const r=new D(e,t);return r[I_]=e,r[FM]=t,n&&(r[uc]=n),r}let b_;function $M(){return b_}function Vn(t){const e=b_;return b_=t,e}function VM(t,e,n){const r=jd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:8&n?null:void 0!==e?e:void A_()}const is={};class T2{injector;constructor(e){this.injector=e}retrieve(e,n){const r=dc(n)||0;try{return this.injector.get(e,8&r?null:is,r)}catch(i){if(C_(i))return i;throw i}}}function M2(t,e=0){const n=E_();if(void 0===n)throw new D(-203,!1);if(null===n)return VM(t,void 0,e);{const r=function S2(t){return{optional:!!(8&t),host:!!(1&t),self:!!(2&t),skipSelf:!!(4&t)}}(e),i=n.retrieve(t,r);if(C_(i)){if(r.optional)return null;throw i}return i}}function ie(t,e=0){return($M()||M2)(Ce(t),e)}function S(t,e){return ie(t,dc(e))}function dc(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function N_(t){const e=[];for(let n=0;n<t.length;n++){const r=Ce(t[n]);if(Array.isArray(r)){if(0===r.length)throw new D(900,!1);let i,o=0;for(let s=0;s<r.length;s++){const a=r[s],l=D2(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(ie(i,o))}else e.push(ie(r))}return e}function D2(t){return t.__NG_DI_FLAG__}function os(t,e){return t.hasOwnProperty(rs)?t[rs]:null}function Sa(t,e){t.forEach(n=>Array.isArray(n)?Sa(n,e):e(n))}function BM(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Hd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Xd(t,e,n){let r=fc(t,e);return r>=0?t[1|r]=n:(r=~r,function UM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function k_(t,e){const n=fc(t,e);if(n>=0)return t[1|n]}function fc(t,e){return function I2(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const Qr={},lt=[],ss=new O(""),HM=new O("",-1),O_=new O("");class Wd{get(e,n=is){if(n===is){const i=LM("",-201);throw i.name="\u0275NotFound",i}return n}}function Jr(t){return t[OM]||null}function Xe(t){return t[w_]||null}function mn(t){return t[p2]||null}function br(t){return t[_2]||null}function qd(t){return{\u0275providers:t}}function A2(...t){return{\u0275providers:F_(0,t),\u0275fromNgModule:!0}}function F_(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Sa(e,s=>{const a=s;Kd(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&zM(i,o),n}function zM(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];L_(i,o=>{e(o,r)})}}function Kd(t,e,n,r){if(!(t=Ce(t)))return!1;let i=null,o=Bd(t);const s=!o&&Xe(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const l=t.ngModule;if(o=Bd(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)Kd(c,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Sa(o.imports,u=>{Kd(u,e,n,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&zM(c,e)}if(!a){const c=os(i)||(()=>new i);e({provide:i,useFactory:c,deps:lt},i),e({provide:O_,useValue:i,multi:!0},i),e({provide:ss,useValue:()=>ie(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const c=t;L_(l,u=>{e(u,c)})}}}return i!==t&&void 0!==t.providers}function L_(t,e){for(let n of t)D_(n)&&(n=n.\u0275providers),Array.isArray(n)?L_(n,e):e(n)}const b2=ue({provide:String,useValue:ue});function $_(t){return null!==t&&"object"==typeof t&&b2 in t}function Ii(t){return"function"==typeof t}const V_=new O(""),Yd={},KM={};let j_;function B_(){return void 0===j_&&(j_=new Wd),j_}class Yt{}class as extends Yt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,U_(e,s=>this.processProvider(s)),this.records.set(HM,wa(void 0,this)),i.has("environment")&&this.records.set(Yt,wa(void 0,this));const o=this.records.get(V_);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(O_,lt,{self:!0}))}retrieve(e,n){const r=dc(n)||0;try{return this.get(e,is,r)}catch(i){if(C_(i))return i;throw i}}destroy(){gc(this),this._destroyed=!0;const e=J(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),J(e)}}onDestroy(e){return gc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){gc(this);const n=co(this),r=Vn(void 0);try{return e()}finally{co(n),Vn(r)}}get(e,n=is,r){if(gc(this),e.hasOwnProperty(xM))return e[xM](this);const i=dc(r),s=co(this),a=Vn(void 0);try{if(!(4&i)){let c=this.records.get(e);if(void 0===c){const u=function x2(t){return"function"==typeof t||"object"==typeof t&&"InjectionToken"===t.ngMetadataName}(e)&&jd(e);c=u&&this.injectableDefInScope(u)?wa(G_(e),Yd):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c,i)}return(2&i?B_():this.parent).get(e,n=8&i&&n===is?null:n)}catch(l){const c=function E2(t){return t[I_]}(l);throw-200===c||-201===c?new D(c,null):l}finally{Vn(a),co(s)}}resolveInjectorInitializers(){const e=J(null),n=co(this),r=Vn(void 0);try{const o=this.get(ss,lt,{self:!0});for(const s of o)s()}finally{co(n),Vn(r),J(e)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push($n(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){let n=Ii(e=Ce(e))?e:Ce(e&&e.provide);const r=function N2(t){return $_(t)?wa(void 0,t.useValue):wa(YM(t),Yd)}(e);if(!Ii(e)&&!0===e.multi){let i=this.records.get(n);i||(i=wa(void 0,Yd,!0),i.factory=()=>N_(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){const i=J(null);try{if(n.value===KM)throw R_($n(e));return n.value===Yd&&(n.value=KM,n.value=n.factory(void 0,r)),"object"==typeof n.value&&n.value&&function O2(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{J(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Ce(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function G_(t){const e=jd(t),n=null!==e?e.factory:os(t);if(null!==n)return n;if(t instanceof O)throw new D(204,!1);if(t instanceof Function)return function P2(t){if(t.length>0)throw new D(204,!1);const n=function u2(t){return(t?.[Gd]??null)||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new D(204,!1)}function YM(t,e,n){let r;if(Ii(t)){const i=Ce(t);return os(i)||G_(i)}if($_(t))r=()=>Ce(t.useValue);else if(function WM(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...N_(t.deps||[]));else if(function XM(t){return!(!t||!t.useExisting)}(t))r=(i,o)=>ie(Ce(t.useExisting),void 0!==o&&8&o?8:void 0);else{const i=Ce(t&&(t.useClass||t.provide));if(!function k2(t){return!!t.deps}(t))return os(i)||G_(i);r=()=>new i(...N_(t.deps))}return r}function gc(t){if(t.destroyed)throw new D(205,!1)}function wa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function U_(t,e){for(const n of t)Array.isArray(n)?U_(n,e):n&&D_(n)?U_(n.\u0275providers,e):e(n)}function jn(t,e){let n;t instanceof as?(gc(t),n=t):n=new T2(t);const i=co(n),o=Vn(void 0);try{return e()}finally{co(i),Vn(o)}}function H_(){return void 0!==$M()||null!=E_()}function Tt(t){return Array.isArray(t)&&"object"==typeof t[1]}function yn(t){return Array.isArray(t)&&!0===t[1]}function QM(t){return!!(4&t.flags)}function ei(t){return t.componentOffset>-1}function Pa(t){return!(1&~t.flags)}function Pr(t){return!!t.template}function po(t){return!!(512&t[2])}function bi(t){return!(256&~t[2])}function zt(t){for(;Array.isArray(t);)t=t[0];return t}function Na(t,e){return zt(e[t])}function Mt(t,e){return zt(e[t.index])}function ka(t,e){return t.data[e]}function ds(t,e){return t[e]}function vn(t,e){const n=e[t];return Tt(n)?n:n[0]}function q_(t){return!(128&~t[2])}function an(t,e){return null==e?null:t[e]}function iS(t){t[17]=0}function oS(t){1024&t[2]||(t[2]|=1024,q_(t)&&Oa(t))}function eh(t){return!!(9216&t[2]||t[24]?.dirty)}function K_(t){t[10].changeDetectionScheduler?.notify(8),64&t[2]&&(t[2]|=1024),eh(t)&&Oa(t)}function Oa(t){t[10].changeDetectionScheduler?.notify(0);let e=Pi(t);for(;null!==e&&!(8192&e[2])&&(e[2]|=8192,q_(e));)e=Pi(e)}function th(t,e){if(bi(t))throw new D(911,!1);null===t[21]&&(t[21]=[]),t[21].push(e)}function Pi(t){const e=t[3];return yn(e)?e[3]:e}const ye={lFrame:SS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Q_=!1;function J_(){return ye.bindingsEnabled}function I(){return ye.lFrame.lView}function me(){return ye.lFrame.tView}function mc(t){return ye.lFrame.contextLView=t,t[8]}function yc(t){return ye.lFrame.contextLView=null,t}function ve(){let t=gS();for(;null!==t&&64===t.type;)t=t.parent;return t}function gS(){return ye.lFrame.currentTNode}function vc(){const t=ye.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ni(t,e){const n=ye.lFrame;n.currentTNode=t,n.isParent=e}function pS(){return ye.lFrame.isParent}function vS(){return Q_}function nh(t){const e=Q_;return Q_=t,e}function En(){const t=ye.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ti(){return ye.lFrame.bindingIndex}function ln(){return ye.lFrame.bindingIndex++}function ki(t){const e=ye.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function CS(t){ye.lFrame.inI18n=t}function W2(t,e){const n=ye.lFrame;n.bindingIndex=n.bindingRootIndex=t,em(e)}function em(t){ye.lFrame.currentDirectiveIndex=t}function rh(t){ye.lFrame.currentQueryIndex=t}function K2(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[5]:null}function TS(t,e,n){if(4&n){let i=e,o=t;for(;!(i=i.parent,null!==i||1&n||(i=K2(o),null===i||(o=o[14],10&i.type))););if(null===i)return!1;e=i,t=o}const r=ye.lFrame=MS();return r.currentTNode=e,r.lView=t,!0}function rm(t){const e=MS(),n=t[1];ye.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function MS(){const t=ye.lFrame,e=null===t?null:t.child;return null===e?SS(t):e}function SS(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function DS(){const t=ye.lFrame;return ye.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const wS=DS;function im(){const t=DS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Zt(){return ye.lFrame.selectedIndex}function hs(t){ye.lFrame.selectedIndex=t}function Nr(){const t=ye.lFrame;return ka(t.tView,t.selectedIndex)}let AS=!0;function ih(){return AS}function Ec(t){AS=t}function bS(t,e=null,n=null,r){const i=PS(t,e,n,r);return i.resolveInjectorInitializers(),i}function PS(t,e=null,n=null,r,i=new Set){const o=[n||lt,A2(t)];return r=r||("object"==typeof t?void 0:$n(t)),new as(o,e||B_(),r||null,i)}class Bn{static THROW_IF_NOT_FOUND=is;static NULL=new Wd;static create(e,n){if(Array.isArray(e))return bS({name:""},n,e,"");{const r=e.name??"";return bS({name:r},e.parent,e.providers,r)}}static \u0275prov=U({token:Bn,providedIn:"any",factory:()=>ie(HM)});static __NG_ELEMENT_ID__=-1}const Cn=new O("");let kr=(()=>class t{static __NG_ELEMENT_ID__=e$;static __NG_ENV_ID__=n=>n})();class NS extends kr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return bi(this._lView)}onDestroy(e){const n=this._lView;return th(n,e),()=>function Y_(t,e){if(null===t[21])return;const n=t[21].indexOf(e);-1!==n&&t[21].splice(n,1)}(n,e)}}function e$(){return new NS(I())}const t$=!1;let _o=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new fr(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Pt(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})();const kt=class n$ extends hr{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,H_()&&(this.destroyRef=S(kr,{optional:!0})??void 0,this.pendingTasks=S(_o,{optional:!0})??void 0)}emit(e){const n=J(null);try{super.next(e)}finally{J(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof er&&e.add(a),a}wrapInTimeout(e){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{void 0!==r&&this.pendingTasks?.remove(r)}})}}};function oh(...t){}function kS(t){let e,n;function r(){t=oh;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==e&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function OS(t){return queueMicrotask(()=>t()),()=>{t=oh}}const om="isAngularZone",sh=om+"_ID";let r$=0;class ot{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new kt(!1);onMicrotaskEmpty=new kt(!1);onStable=new kt(!1);onError=new kt(!1);constructor(e){const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=t$}=e;if(typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,function s$(t){const e=()=>{!function o$(t){function e(){kS(()=>{t.callbackScheduled=!1,am(t),t.isCheckStableRunning=!0,sm(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),am(t))}(t)},n=r$++;t._inner=t._inner.fork({name:"angular",properties:{[om]:!0,[sh]:n,[sh+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(function l$(t){return LS(t,"__ignore_ng_zone__")}(l))return r.invokeTask(o,s,a,l);try{return xS(t),r.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),FS(t)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return xS(t),r.invoke(o,s,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function c$(t){return LS(t,"__scheduler_tick__")}(l)&&e(),FS(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,am(t),sm(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(om)}static assertInAngularZone(){if(!ot.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(ot.isInAngularZone())throw new D(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,i$,oh,oh);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const i$={};function sm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function am(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function xS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function FS(t){t._nesting--,sm(t)}class a${hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new kt;onMicrotaskEmpty=new kt;onStable=new kt;onError=new kt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}function LS(t,e){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[e]}class Cc{_console=console;handleError(e){this._console.error("ERROR",e)}}const ni=new O("",{factory:()=>{const t=S(ot),e=S(Yt);let n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(Cc),n.handleError(r))})}}}),u$={provide:ss,useValue:()=>{S(Cc,{optional:!0})},multi:!0};function ri(t,e){const[n,r,i]=xL(t,e?.equal),o=n;return o.set=r,o.update=i,o.asReadonly=lm.bind(o),o}function lm(){const t=this[ht];if(void 0===t.readonlyFn){const e=()=>this();e[ht]=t,t.readonlyFn=e}return t.readonlyFn}let cm=(()=>class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=h$})();function h$(){return new cm(I(),ve())}class Fa{}const um=new O("",{factory:()=>!0}),f$=new O("");let ah=(()=>{class t{internalPendingTasks=S(_o);scheduler=S(Fa);errorHandler=S(ni);add(){const n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){const r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})(),$S=(()=>{class t{static \u0275prov=U({token:t,providedIn:"root",factory:()=>new g$})}return t})();class g${dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){const r=this.queues.get(e.zone);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){const n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);const r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(const[n,r]of this.queues)e||=null===n?this.flushQueue(r):n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(const r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}}function Je(t){return function $L(t){const e=J(null);try{return t()}finally{J(e)}}(t)}let BS=null;function mo(){return BS}class C${}let lh=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>S(M$),providedIn:"platform"})}return t})();const T$=new O("");let M$=(()=>{class t extends lh{_location;_history;_doc=S(Cn);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return mo().getBaseHref(this._doc)}onPopState(n){const r=mo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=mo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function GS(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}class US{}let D$=(()=>{class t{static \u0275prov=U({token:t,providedIn:"root",factory:()=>new w$(S(Cn),window)})}return t})();class w${document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,n){this.window.scrollTo({...n,left:e[0],top:e[1]})}scrollToAnchor(e,n){const r=function I$(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Ln(2400,!1))}}scrollToElement(e,n){const r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo({...n,left:i-s[0],top:o-s[1]})}}function tD(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(c){return void n(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function tt(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(l){tD(o,r,i,s,a,"next",l)}function a(l){tD(o,r,i,s,a,"throw",l)}s(void 0)})}}function Tn(t){return e=>{if(function tV(t){return gt(t?.lift)}(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function cn(t,e,n,r,i){return new nV(t,e,n,r,i)}class nV extends g_{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function vt(t,e){return Tn((n,r)=>{let i=0;n.subscribe(cn(r,o=>{r.next(t.call(e,o,i++))}))})}function Oi(t){return{toString:t}.toString()}function iD(t,e,n,r){null!==e?e.applyValueToInputSignal(e,r):t[n]=r}class pV{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}const Or=(()=>{const t=()=>oD;return t.ngInherit=!0,t})();function oD(t){return t.type.prototype.ngOnChanges&&(t.setInput=mV),_V}function _V(){const t=aD(this),e=t?.current;if(e){const n=t.previous;if(n===Qr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function mV(t,e,n,r,i){const o=this.declaredInputs[r],s=aD(t)||function yV(t,e){return t[sD]=e}(t,{previous:Qr,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new pV(c&&c.currentValue,n,l===Qr),iD(t,e,i,n)}const sD="__ngSimpleChanges__";function aD(t){return t[sD]||null}const fs=[],Ye=function(t,e=null,n){for(let r=0;r<fs.length;r++)(0,fs[r])(t,e,n)};var G=function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t}(G||{});function lD(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function fh(t,e,n){cD(t,e,3,n)}function gh(t,e,n,r){(3&t[2])===n&&cD(t,e,n,r)}function mm(t,e){let n=t[2];(3&n)===e&&(n&=16383,n+=1,t[2]=n)}function cD(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&t[17]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[17]+=65536),(a<o||-1==o)&&(MV(t,n,e,l),t[17]=(4294901760&t[17])+l+2),l++}function uD(t,e){Ye(G.LifecycleHookStart,t,e);const n=J(null);try{e.call(t)}finally{J(n),Ye(G.LifecycleHookEnd,t,e)}}function MV(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>14<t[17]>>16&&(3&t[2])===e&&(t[2]+=16384,uD(a,o)):uD(a,o)}class wc{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}}function vm(t){return 3===t||4===t||6===t}function hD(t){return 64===t.charCodeAt(0)}function Ga(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||fD(t,n,i,0,-1===n||2===n?e[++r]:null)}}return t}function fD(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n)return void(null!==i&&(t[o+1]=i));o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==i&&t.splice(o++,0,i)}function Em(t){return-1!==t}function Ic(t){return 32767&t}function Rc(t,e){let n=function IV(t){return t>>16}(t),r=e;for(;n>0;)r=r[14],n--;return r}let Cm=!0;function ph(t){const e=Cm;return Cm=t,e}let RV=0;const ii={};function _h(t,e){const n=_D(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Tm(r.data,t),Tm(e,null),Tm(r.blueprint,null));const i=mh(t,e),o=t.injectorIndex;if(Em(i)){const s=Ic(i),a=Rc(i,e),l=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function Tm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function _D(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function mh(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=MD(i),null===r)return-1;if(n++,i=i[14],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Mm(t,e,n){!function AV(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(cc)&&(r=n[cc]),null==r&&(r=n[cc]=RV++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function mD(t,e,n){if(8&n||void 0!==t)return t;A_()}function yD(t,e,n,r){if(8&n&&void 0===r&&(r=null),!(3&n)){const i=t[9],o=Vn(void 0);try{return i?i.get(e,r,8&n):VM(e,r,8&n)}finally{Vn(o)}}return mD(r,0,n)}function vD(t,e,n,r=0,i){if(null!==t){if(2048&e[2]&&!(2&r)){const s=function OV(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[2]&&!po(s);){const a=ED(o,s,n,2|r,ii);if(a!==ii)return a;let l=o.parent;if(!l){const c=s[20];if(c){const u=c.get(n,ii,r);if(u!==ii)return u}l=MD(s),s=s[14]}o=l}return i}(t,e,n,r,ii);if(s!==ii)return s}const o=ED(t,e,n,r,ii);if(o!==ii)return o}return yD(e,n,r,i)}function ED(t,e,n,r,i){const o=function NV(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(cc)?t[cc]:void 0;return"number"==typeof e?e>=0?255&e:kV:e}(n);if("function"==typeof o){if(!TS(e,t,r))return 1&r?mD(i,0,r):yD(e,n,r,i);try{let s;if(s=o(r),null!=s||8&r)return s;A_()}finally{wS()}}else if("number"==typeof o){let s=null,a=_D(t,e),l=-1,c=1&r?e[15][5]:null;for((-1===a||4&r)&&(l=-1===a?mh(t,e):e[a+8],-1!==l&&TD(r,!1)?(s=e[1],a=Ic(l),e=Rc(l,e)):a=-1);-1!==a;){const u=e[1];if(CD(o,a,u.data)){const d=PV(a,e,n,s,r,c);if(d!==ii)return d}l=e[a+8],-1!==l&&TD(r,e[1].data[a+8]===c)&&CD(o,a,e)?(s=u,a=Ic(l),e=Rc(l,e)):a=-1}}return i}function PV(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=function yh(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,u=o>>20,h=i?a+u:t.directiveEnd;for(let f=r?a:a+u;f<h;f++){const g=s[f];if(f<l&&n===g||f>=l&&g.type===n)return f}if(i){const f=s[l];if(f&&Pr(f)&&f.type===n)return l}return null}(a,s,n,null==r?ei(a)&&Cm:r!=s&&!!(3&a.type),1&i&&o===a);return null!==u?Ac(e,s,u,a,i):ii}function Ac(t,e,n,r,i){let o=t[n];const s=e.data;if(o instanceof wc){const a=o;if(a.resolving)throw function $e(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ee(t)}(s[n]),R_();const l=ph(a.canSeeViewProviders);a.resolving=!0;const d=a.injectImpl?Vn(a.injectImpl):null;TS(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function TV(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=oD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,s[n],e)}finally{null!==d&&Vn(d),ph(l),a.resolving=!1,wS()}}return o}function CD(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function TD(t,e){return!(2&t||1&t&&e)}class Rt{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return vD(this._tNode,this._lView,e,dc(r),n)}}function kV(){return new Rt(ve(),I())}function Lt(t){return Oi(()=>{const e=t.prototype.constructor,n=e[rs]||Sm(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[rs]||Sm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Sm(t){return Vd(t)?()=>{const e=Sm(Ce(t));return e&&e()}:os(t)}function MD(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[5]:null}function GV(){return Ua(ve(),I())}function Ua(t,e){return new rr(Mt(t,e))}let rr=(()=>class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=GV})();function Pc(t){return!(128&~t.flags)}Symbol;var Eh=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Eh||{});const Ch=new Map;let WV=0;function Im(t){Ch.delete(t[19])}const Am="__ngContext__";function Un(t,e){Tt(e)?(t[Am]=e[19],function KV(t){Ch.set(t[19],t)}(e)):t[Am]=e}function VD(t){return BD(t[12])}function jD(t){return BD(t[4])}function BD(t){for(;null!==t&&!yn(t);)t=t[4];return t}let bm;const Ha=new O("",{factory:()=>_8}),_8="ng",qD=new O(""),KD=new O("",{providedIn:"platform",factory:()=>"unknown"}),YD=new O("",{factory:()=>S(Cn).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),M8=new O("",{factory:()=>!1}),I8=new O("");function Ih(t){return!(32&~t.flags)}function Sw(t,e){const n=t.contentQueries;if(null!==n){const r=J(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=t.data[s];rh(n[i]),a.contentQueries(2,e[s],s)}}}finally{J(r)}}}function zm(t,e,n){rh(0);const r=J(null);try{e(t,n)}finally{J(r)}}function Xm(t,e,n){if(QM(e)){const r=J(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{J(r)}}}var mr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t}(mr||{});let Oh;function Xa(t){return function Rw(){if(void 0===Oh&&(Oh=null,wt.trustedTypes))try{Oh=wt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Oh}()?.createHTML(t)||t}class Nw{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss)`}}class cj{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Xa(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}}class uj{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Xa(e),n}}const hj=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ym(t){return(t=String(t)).match(hj)?t:"unsafe:"+t}function xi(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function $c(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const Ow=xi("area,br,col,hr,img,wbr"),xw=xi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fw=xi("rp,rt"),Zm=$c(Ow,$c(xw,xi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$c(Fw,xi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$c(Fw,xw)),Qm=xi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Lw=$c(Qm,xi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),xi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));const Tj=/^>|^->|<!--|-->|--!>|<!-$/g,Mj=/(<|>)/g;function ey(t,e){return t.createText(e)}function Gw(t,e,n){t.setValue(e,n)}function ty(t,e){return t.createComment(function Bw(t){return t.replace(Tj,e=>e.replace(Mj,"\u200b$1\u200b"))}(e))}function Lh(t,e,n){return t.createElement(e,n)}function ps(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Uw(t,e,n){t.appendChild(e,n)}function Hw(t,e,n,r,i){null!==r?ps(t,e,n,r,i):Uw(t,e,n)}function Vc(t,e,n,r){t.removeChild(null,e,n,r)}function Xw(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&function wV(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];hD(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}}(t,e,r),null!==i&&function wj(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}(t,e,i),null!==o&&function Dj(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function oi(t){return t instanceof Function?t():t}function Hj(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}const eI="ng-template";function zj(t,e,n,r){let i=0;if(r){for(;i<e.length&&"string"==typeof e[i];i+=2)if("class"===e[i]&&-1!==Hj(e[i+1].toLowerCase(),n,0))return!0}else if(ny(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&"string"==typeof(o=e[i]);)if(o.toLowerCase()===n)return!0}return!1}function ny(t){return 4===t.type&&t.value!==eI}function Xj(t,e,n){return e===(4!==t.type||n?t.value:eI)}function Wj(t,e,n){let r=4;const i=t.attrs,o=null!==i?function Yj(t){for(let e=0;e<t.length;e++)if(vm(t[e]))return e;return t.length}(i):0;let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!Xj(t,l,n)||""===l&&1===e.length){if(xr(r))return!1;s=!0}}else if(8&r){if(null===i||!zj(t,i,l,n)){if(xr(r))return!1;s=!0}}else{const c=e[++a],u=qj(l,i,ny(t),n);if(-1===u){if(xr(r))return!1;s=!0;continue}if(""!==c){let d;if(d=u>o?"":i[u+1].toLowerCase(),2&r&&c!==d){if(xr(r))return!1;s=!0}}}}else{if(!s&&!xr(r)&&!xr(l))return!1;if(s&&xr(l))continue;s=!1,r=l|1&r}}return xr(r)||s}function xr(t){return!(1&t)}function qj(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function Zj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function tI(t,e,n=!1){for(let r=0;r<e.length;r++)if(Wj(t,e[r],n))return!0;return!1}function nI(t,e){return t?":not("+e.trim()+")":e}function Jj(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!xr(s)&&(e+=nI(o,i),i=""),r=s,o=o||!xr(r);n++}return""!==i&&(e+=nI(o,i)),e}const We={};function ry(t,e,n,r,i,o,s,a,l,c,u){const d=27+r,h=d+i,f=function nB(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:We);return n}(d,h),g="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function Vh(t,e,n,r,i,o,s,a,l,c,u){const d=e.blueprint.slice();return d[0]=i,d[2]=1228|r,(null!==c||t&&2048&t[2])&&(d[2]|=2048),iS(d),d[3]=d[14]=t,d[8]=n,d[10]=s||t&&t[10],d[11]=a||t&&t[11],d[9]=l||t&&t[9]||null,d[5]=o,d[19]=function qV(){return WV++}(),d[6]=u,d[20]=c,d[15]=2==e.type?t[15]:d,d}function iy(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Bc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function oy(t,e){return t[12]?t[13][4]=e:t[12]=e,t[13]=e,e}function Y(t=1){iI(me(),I(),Zt()+t,!1)}function iI(t,e,n,r){if(!r)if(3&~e[2]){const o=t.preOrderHooks;null!==o&&gh(e,o,0,n)}else{const o=t.preOrderCheckHooks;null!==o&&fh(e,o,n)}hs(n)}var Gc=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Gc||{});function Ka(t,e,n,r){const i=J(null);try{const[o,s,a]=t.inputs[n];let l=null;0!==(s&Gc.SignalBased)&&(l=e[o][ht]),null!==l&&void 0!==l.transformFn?r=l.transformFn(r):null!==a&&(r=a.call(e,r)),null!==t.setInput?t.setInput(e,l,r,n,o):iD(e,l,o,r)}finally{J(i)}}var To=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(To||{});let sy;function ay(t,e){return sy(t,e)}const _s=new Set;var ly=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(ly||{});const Za=new O(""),lI=new Set;function Qt(t){lI.has(t)||(lI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}let cI=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})();const uI=[0,1,2,3];let cB=(()=>{class t{ngZone=S(ot);scheduler=S(Fa);errorHandler=S(Cc,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){S(Za,{optional:!0})}execute(){const n=this.sequences.size>0;n&&Ye(G.AfterRenderHooksStart),this.executing=!0;for(const r of uI)for(const i of this.sequences)if(!i.erroredOrDestroyed&&i.hooks[r])try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,i.hooks[r])(i.pipelinedValue),i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Ye(G.AfterRenderHooksEnd)}register(n){const{view:r}=n;void 0!==r?((r[25]??=[]).push(n),Oa(r),r[2]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(ly.AFTER_NEXT_RENDER,n):n()}static \u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})();class dI{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const e=this.view?.[25];e&&(this.view[25]=e.filter(n=>n!==this))}}function Bh(t,e){const n=e?.injector??S(Bn);return Qt("NgAfterNextRender"),function hI(t,e,n,r){const i=e.get(cI);i.impl??=e.get(cB);const o=e.get(Za,null,{optional:!0}),s=!0!==n?.manualCleanup?e.get(kr):null,a=e.get(cm,null,{optional:!0}),l=new dI(i.impl,function dB(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}(t),a?.view,r,s,o?.snapshot(null));return i.impl.register(l),l}(t,n,e,!0)}const Gh=new O("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:S(Yt)})});function fI(t,e,n){const r=t.get(Gh);if(Array.isArray(e))for(const i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function gI(t,e,n,r){const i=t?.[26]?.enter;null!==e&&i&&i.has(n.index)&&function cy(t,e){for(const[n,r]of e)fI(t,r.animateFns)}(r,i)}function Qa(t,e,n,r,i,o,s,a){if(null!=i){let l,c=!1;yn(i)?l=i:Tt(i)&&(c=!0,i=i[0]);const u=zt(i);0===t&&null!==r?(gI(a,r,o,n),null==s?Uw(e,r,u):ps(e,r,u,s||null,!0)):1===t&&null!==r?(gI(a,r,o,n),ps(e,r,u,s||null,!0)):2===t?mI(a,o,n,d=>{Vc(e,u,c,d)}):3===t&&mI(a,o,n,()=>{e.destroyNode(u)}),null!=l&&function EB(t,e,n,r,i,o,s){const a=r[7];a!==zt(r)&&Qa(e,t,n,o,a,i,s);for(let c=10;c<r.length;c++){const u=r[c];zh(u[1],u,t,e,o,a)}}(e,t,n,l,o,r,s)}}function _I(t,e){e[10].changeDetectionScheduler?.notify(9),zh(t,e,e[11],2,null,null)}function uy(t,e){const n=t[9],r=n.indexOf(e);n.splice(r,1)}function Uc(t,e){if(bi(e))return;const n=e[11];n.destroyNode&&zh(t,e,n,3,null,null),function pB(t){let e=t[12];if(!e)return dy(t[1],t);for(;e;){let n=null;if(Tt(e))n=e[12];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Tt(e)&&dy(e[1],e),e=e[3];null===e&&(e=t),Tt(e)&&dy(e[1],e),n=e&&e[4]}e=n}}(e)}function dy(t,e){if(bi(e))return;const n=J(null);try{e[2]&=-129,e[2]|=256,e[24]&&Ae(e[24]),function yB(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof wc)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];Ye(G.LifecycleHookStart,a,l);try{l.call(a)}finally{Ye(G.LifecycleHookEnd,a,l)}}else{Ye(G.LifecycleHookStart,i,o);try{o.call(i)}finally{Ye(G.LifecycleHookEnd,i,o)}}}}}(t,e),function mB(t,e){const n=t.cleanup,r=e[7];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[7]=null);const i=e[21];if(null!==i){e[21]=null;for(let s=0;s<i.length;s++)(0,i[s])()}const o=e[23];if(null!==o){e[23]=null;for(const s of o)s.destroy()}}(t,e),1===e[1].type&&e[11].destroy();const r=e[16];if(null!==r&&yn(e[3])){r!==e[3]&&uy(r,e);const i=e[18];null!==i&&i.detachView(t)}Im(e)}finally{J(n)}}function mI(t,e,n,r){const i=t?.[26];if(null==i||null==i.leave||!i.leave.has(e.index))return r(!1);t&&_s.add(t),fI(n,()=>{if(i.leave&&i.leave.has(e.index)){const s=i.leave.get(e.index),a=[];if(s){for(let l=0;l<s.animateFns.length;l++){const c=s.animateFns[l],{promise:u}=c();a.push(u)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),function _B(t,e){const n=t[26]?.running;n?n.then(()=>{t[26].running=void 0,_s.delete(t),e(!0)}):e(!1)}(t,r)}else t&&_s.delete(t),r(!1)},i)}function yI(t,e,n){let r=e;for(;null!==r&&168&r.type;)r=(e=r).parent;if(null===r)return n[0];if(ei(r)){const{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===mr.None||i===mr.Emulated)return null}return Mt(r,n)}function EI(t,e,n){return 40&t.type?Mt(t,n):null}let fy,CI=EI;function TI(t,e){CI=t,fy=e}function gy(t,e,n,r){const i=function hy(t,e,n){return yI(t,e.parent,n)}(t,r,e),o=e[11],a=function vI(t,e,n){return CI(t,e,n)}(r.parent||e[5],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)Hw(o,i,n[l],a,!1);else Hw(o,i,n,a,!1);void 0!==fy&&fy(o,r,e,n,i)}function ms(t,e){if(null!==e){const n=e.type;if(3&n)return Mt(e,t);if(4&n)return Hh(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return ms(t,r);{const i=t[e.index];return yn(i)?Hh(-1,i):zt(i)}}if(128&n)return ms(t,e.next);if(32&n)return ay(e,t)()||zt(t[e.index]);{const r=MI(t,e);return null!==r?Array.isArray(r)?r[0]:ms(Pi(t[15]),r):ms(t,e.next)}}return null}function MI(t,e){return null!==e?t[15][5].projection[e.projection]:null}function Hh(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return ms(r,i)}return e[7]}function py(t,e,n,r,i,o,s){for(;null!=n;){const a=r[9];if(128===n.type){n=n.next;continue}const l=r[n.index],c=n.type;if(s&&0===e&&(l&&Un(zt(l),r),n.flags|=2),!Ih(n))if(8&c)py(t,e,n.child,r,i,o,!1),Qa(e,t,a,i,l,n,o,r);else if(32&c){const u=ay(n,r);let d;for(;d=u();)Qa(e,t,a,i,d,n,o,r);Qa(e,t,a,i,l,n,o,r)}else 16&c?SI(t,e,r,n,i,o):Qa(e,t,a,i,l,n,o,r);n=s?n.projectionNext:n.next}}function zh(t,e,n,r,i,o){py(n,r,t.firstChild,e,i,o,!1)}function SI(t,e,n,r,i,o){const s=n[15],l=s[5].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Qa(e,t,n[9],i,l[c],r,o,n);else{let c=l;const u=s[3];Pc(r)&&(c.flags|=128),py(t,e,c,u,i,o,!0)}}function DI(t,e,n,r,i){const o=Zt(),s=2&r;try{hs(-1),s&&e.length>27&&iI(t,e,27,!1),Ye(s?G.TemplateUpdateStart:G.TemplateCreateStart,i,n),n(r,i)}finally{hs(o),Ye(s?G.TemplateUpdateEnd:G.TemplateCreateEnd,i,n)}}function Xh(t,e,n){(function wB(t,e,n){const r=n.directiveStart,i=n.directiveEnd;ei(n)&&function rB(t,e,n){const r=Mt(e,t),i=function rI(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ry(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}(n),o=t[10].rendererFactory,s=oy(t,Vh(t,i,null,iy(n),r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=s}(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||_h(n,e);const o=n.initialInputs;for(let s=r;s<i;s++){const a=t.data[s],l=Ac(e,t,s,n);Un(l,e),null!==o&&bB(0,s-r,l,a,0,o),Pr(a)&&(vn(n.index,e)[8]=Ac(e,t,s,n))}})(t,e,n),!(64&~n.flags)&&function IB(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function q2(){return ye.lFrame.currentDirectiveIndex}();try{hs(o);for(let a=r;a<i;a++){const l=t.data[a],c=e[a];em(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&RB(l,c)}}finally{hs(-1),em(s)}}(t,e,n)}function Ja(t,e,n=Mt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}let wI=()=>null;function Wh(t,e,n,r,i,o){Zh(t,e[1],e,n,r)?ei(t)&&function II(t,e){const n=vn(e,t);16&n[2]||(n[2]|=64)}(e,t.index):(3&t.type&&(n=function DB(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(n)),function _y(t,e,n,r,i,o){if(3&t.type){const s=Mt(t,e);r=null!=o?o(r,t.value||"",n):r,i.setProperty(s,n,r)}}(t,e,n,r,i,o))}function RB(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function my(t,e){const n=t.directiveRegistry;let r=null;if(n)for(let i=0;i<n.length;i++){const o=n[i];tI(e,o.selectors,!1)&&(r??=[],Pr(o)?r.unshift(o):r.push(o))}return r}function qh(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?Ee(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function bB(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;a+=2)Ka(r,n,s[a],s[a+1])}function Kh(t,e,n,r,i){const o=27+n,s=e[1],a=i(s,e,t,r,n);e[o]=a,Ni(t,!0);const l=2===t.type;return l?(Xw(e[11],a,t),(0===function G2(){return ye.lFrame.elementDepthCount}()||Pa(t))&&Un(a,e),function U2(){ye.lFrame.elementDepthCount++}()):Un(a,e),ih()&&(!l||!Ih(t))&&gy(s,e,a,t),t}function Yh(t){let e=t;return pS()?function _S(){ye.lFrame.isParent=!1}():(e=e.parent,Ni(e,!1)),e}function Zh(t,e,n,r,i){const o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r];let a=!1;if(s)for(let l=0;l<s.length;l+=2){const c=s[l];Ka(e.data[c],n[c],s[l+1],i),a=!0}if(o)for(const l of o)Ka(e.data[l],n[l],r,i),a=!0;return a}function NB(t,e){const n=vn(e,t),r=n[1];!function kB(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[0];null!==i&&null===n[6]&&(n[6]=null),Ye(G.ComponentStart);try{Qh(r,n,n[8])}finally{Ye(G.ComponentEnd,n[8])}}function Qh(t,e,n){rm(e);try{const r=t.viewQuery;null!==r&&zm(1,r,n);const i=t.template;null!==i&&DI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[18]?.finishViewCreation(t),t.staticContentQueries&&Sw(t,e),t.staticViewQueries&&zm(2,t.viewQuery,n);const o=t.components;null!==o&&function OB(t,e){for(let n=0;n<e.length;n++)NB(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,im()}}function ys(t,e){return!e||null===e.firstChild||Pc(t)}function Hc(t,e,n,r,i=!1){for(;null!==n;){if(128===n.type){n=i?n.projectionNext:n.next;continue}const o=e[n.index];null!==o&&r.push(zt(o)),yn(o)&&xB(o,r);const s=n.type;if(8&s)Hc(t,e,n.child,r);else if(32&s){const a=ay(n,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=MI(e,n);if(Array.isArray(a))r.push(...a);else{const l=Pi(e[15]);Hc(l[1],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function xB(t,e){for(let n=10;n<t.length;n++){const r=t[n],i=r[1].firstChild;null!==i&&Hc(r[1],r,i,e)}t[7]!==t[0]&&e.push(t[7])}function bI(t){if(null!==t[25]){for(const e of t[25])e.impl.addSequence(e);t[25].length=0}}let PI=[];const VB={...Rr,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Oa(t.lView)},consumerOnSignalRead(){this.lView[24]=this}},BB={...Rr,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Pi(t.lView);for(;e&&!NI(e[1]);)e=Pi(e);e&&oS(e)},consumerOnSignalRead(){this.lView[24]=this}};function NI(t){return 2!==t.type}function kI(t){if(null===t[23])return;let e=!0;for(;e;){let n=!1;for(const r of t[23])r.dirty&&(n=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(8192&t[2])}}function Jh(t,e=0){const r=t[10].rendererFactory;r.begin?.();try{!function UB(t,e){const n=vS();try{nh(!0),vy(t,e);let r=0;for(;eh(t);){if(100===r)throw new D(103,!1);r++,vy(t,1)}}finally{nh(n)}}(t,e)}finally{r.end?.()}}function OI(t,e,n,r){if(bi(e))return;const i=e[2];rm(e);let a=!0,l=null,c=null;NI(t)?(c=function FB(t){return t[24]??function LB(t){const e=PI.pop()??Object.create(VB);return e.lView=t,e}(t)}(e),l=q(c)):null===function ac(){return xt}()?(a=!1,c=function jB(t){const e=t[24]??Object.create(BB);return e.lView=t,e}(e),l=q(c)):e[24]&&(Ae(e[24]),e[24]=null);try{iS(e),function ES(t){return ye.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&DI(t,e,n,2,r);const u=!(3&~i);if(u){const f=t.preOrderCheckHooks;null!==f&&fh(e,f,null)}else{const f=t.preOrderHooks;null!==f&&gh(e,f,0,null),mm(e,0)}if(function HB(t){for(let e=VD(t);null!==e;e=jD(e)){if(!(2&e[2]))continue;const n=e[9];for(let r=0;r<n.length;r++)oS(n[r])}}(e),kI(e),xI(e,0),null!==t.contentQueries&&Sw(t,e),u){const f=t.contentCheckHooks;null!==f&&fh(e,f)}else{const f=t.contentHooks;null!==f&&gh(e,f,1),mm(e,1)}!function XB(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)hs(~i);else{const o=i,s=n[++r],a=n[++r];W2(s,o);const l=e[o];Ye(G.HostBindingsUpdateStart,l);try{a(2,l)}finally{Ye(G.HostBindingsUpdateEnd,l)}}}}finally{hs(-1)}}(t,e);const d=t.components;null!==d&&LI(e,d,0);const h=t.viewQuery;if(null!==h&&zm(2,h,r),u){const f=t.viewCheckHooks;null!==f&&fh(e,f)}else{const f=t.viewHooks;null!==f&&gh(e,f,2),mm(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[22]){for(const f of e[22])f();e[22]=null}bI(e),e[2]&=-73}catch(u){throw Oa(e),u}finally{null!==c&&(W(c,l),a&&function $B(t){t.lView[24]!==t&&(t.lView=null,PI.push(t))}(c)),im()}}function xI(t,e){for(let n=VD(t);null!==n;n=jD(n))for(let r=10;r<n.length;r++)FI(n[r],e)}function zB(t,e,n){Ye(G.ComponentStart);const r=vn(e,t);try{FI(r,n)}finally{Ye(G.ComponentEnd,r[8])}}function FI(t,e){q_(t)&&vy(t,e)}function vy(t,e){const r=t[1],i=t[2],o=t[24];let s=!!(0===e&&16&i);if(s||=!!(64&i&&0===e),s||=!!(1024&i),s||=!(!o?.dirty||!Se(o)),s||=!1,o&&(o.dirty=!1),t[2]&=-9217,s)OI(r,t,r.template,t[8]);else if(8192&i){const a=J(null);try{kI(t),xI(t,1);const l=r.components;null!==l&&LI(t,l,1),bI(t)}finally{J(a)}}}function LI(t,e,n){for(let r=0;r<e.length;r++)zB(t,e[r],n)}function tl(t,e){const n=vS()?64:1088;for(t[10].changeDetectionScheduler?.notify(e);t;){t[2]|=n;const r=Pi(t);if(po(t)&&!r)return t;t=r}return null}function $I(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function zc(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[16];null!==i&&i!==t&&uy(i,r),e>0&&(t[n-1][4]=r[4]);const o=Hd(t,10+e);!function pI(t,e){_I(t,e),e[0]=null,e[5]=null}(r[1],r);const s=o[18];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function jI(t,e){const n=t[9],r=e[3];(Tt(r)||e[15]!==r[3][15])&&(t[2]|=2),null===n?t[9]=[e]:n.push(e)}class Xc{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const e=this._lView,n=e[1];return Hc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return bi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(yn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(zc(e,r),Hd(n,r))}this._attachedToViewContainer=!1}Uc(this._lView[1],this._lView)}onDestroy(e){th(this._lView,e)}markForCheck(){tl(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){K_(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,Jh(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const e=po(this._lView),n=this._lView[16];null!==n&&!e&&uy(n,this._lView),_I(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=e;const n=po(this._lView),r=this._lView[16];null!==r&&!n&&jI(r,this._lView),K_(this._lView)}}let Fi=(()=>class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=qB;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){const o=function el(t,e,n,r){const i=J(null);try{const o=e.tView,l=Vh(t,o,n,4096&t[2]?4096:16,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);l[16]=t[e.index];const u=t[18];return null!==u&&(l[18]=u.createEmbeddedView(o)),Qh(o,l,n),l}finally{J(i)}}(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Xc(o)}})();function qB(){return function ef(t,e){return 4&t.type?new Fi(e,t,Ua(t,e)):null}(ve(),I())}function UI(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?EI(t,0,n):zt(n[i])}function HI(t,e,n,r,i){const o=e.insertBeforeIndex;if(Array.isArray(o)){let s=r,a=null;if(3&e.type||(a=s,s=i),null!==s&&-1===e.componentOffset)for(let l=1;l<o.length;l++)ps(t,s,n[o[l]],a,!1)}}function vs(t,e,n,r,i){let o=t.data[e];if(null===o)o=Sy(t,e,n,r,i),function X2(){return ye.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=vc();o.injectorIndex=null===s?-1:s.injectorIndex}return Ni(o,!0),o}function Sy(t,e,n,r,i){const o=gS(),s=pS(),l=t.data[e]=function rG(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function dS(){return null!==ye.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return function nG(t,e,n,r){null===t.firstChild&&(t.firstChild=e),null!==n&&(r?null==n.child&&null!==e.parent&&(n.child=e):null===n.next&&(n.next=e,e.prev=n))}(t,l,o,s),l}function zI(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];XI(r)||iG(r,e)&&null===oG(r)&&sG(r,e.index)}}function XI(t){return!(64&t.type)}function iG(t,e){return XI(e)||t.index>e.index}function oG(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function sG(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(TI(UI,HI),t.insertBeforeIndex=e)}function Yc(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function cG(t,e,n){const r=Sy(t,n,64,null,null);return zI(e,r),r}function nf(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}function WI(t){return t>>>17}function qI(t){return(131070&t)>>>1}function Dy(t,e,n){t.index=0;const r=nf(e,n);t.removes=null!==r?e.remove[r]:lt}function rf(t){if(t.index<t.removes.length){const e=t.removes[t.index++];return e>0?t.lView[e]:(t.stack.push(t.index,t.removes),Dy(t,t.lView[1].data[~e],t.lView),rf(t))}return 0===t.stack.length?(t.lView=void 0,null):(t.removes=t.stack.pop(),t.index=t.stack.pop(),rf(t))}function dG(){const t={stack:[],index:-1};return function e(n,r){for(t.lView=r;t.stack.length;)t.stack.pop();return Dy(t,n.value,r),rf.bind(null,t)}}let VG=class{},h0=class{};class jG{resolveComponentFactory(e){throw new D(917,!1)}}let uf=class{static NULL=new jG};class Py{}let Li=(()=>class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>function BG(){const t=I(),n=vn(ve().index,t);return(Tt(n)?n:t)[11]}()})(),GG=(()=>{class t{static \u0275prov=U({token:t,providedIn:"root",factory:()=>null})}return t})();const ky={};class il{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){const i=this.injector.get(e,ky,r);return i!==ky||n===ky?i:this.parentInjector.get(e,n,r)}}function hf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=T_(i,a):2==o&&(r=T_(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function x(t,e=0){const n=I();return null===n?ie(t,e):vD(ve(),n,Ce(t),e)}function p0(t,e,n,r,i){const o=null===r?null:{"":-1},s=i(t,n);if(null!==s){let a=s,l=null,c=null;for(const u of s)if(null!==u.resolveHostDirectives){[a,l,c]=u.resolveHostDirectives(s);break}!function qG(t,e,n,r,i,o,s){const a=r.length;let l=null;for(let h=0;h<a;h++){const f=r[h];null===l&&Pr(f)&&(l=f,WG(t,n,h)),Mm(_h(n,e),t,f.type)}(function eU(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e})(n,t.data.length,a),l?.viewProvidersResolver&&l.viewProvidersResolver(l);for(let h=0;h<a;h++){const f=r[h];f.providersResolver&&f.providersResolver(f)}let c=!1,u=!1,d=Bc(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){const f=r[h];if(n.mergedAttrs=Ga(n.mergedAttrs,f.hostAttrs),YG(t,n,e,d,f),JG(d,f,i),null!==s&&s.has(f)){const[p,_]=s.get(f);n.directiveToIndex.set(f.type,[d,p+n.directiveStart,_+n.directiveStart])}else(null===o||!o.has(f))&&n.directiveToIndex.set(f.type,d);null!==f.contentQueries&&(n.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(n.flags|=64);const g=f.type.prototype;!c&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),c=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}!function KG(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){const i=t.data[r];if(null!==n&&n.has(i)){const o=n.get(i);m0(0,e,o,r),m0(1,e,o,r),v0(e,r,!0)}else _0(0,e,i,r),_0(1,e,i,r),v0(e,r,!1)}}(t,n,o)}(t,e,n,a,o,l,c)}null!==o&&null!==r&&function XG(t,e,n){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new D(-301,!1);r.push(e[i],o)}}(n,r,o)}function WG(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function _0(t,e,n,r){const i=0===t?n.inputs:n.outputs;for(const o in i)if(i.hasOwnProperty(o)){let s;s=0===t?e.inputs??={}:e.outputs??={},s[o]??=[],s[o].push(r),y0(e,o)}}function m0(t,e,n,r){const i=0===t?n.inputs:n.outputs;for(const o in i)if(i.hasOwnProperty(o)){const s=i[o];let a;a=0===t?e.hostDirectiveInputs??={}:e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),y0(e,s)}}function y0(t,e){"class"===e?t.flags|=8:"style"===e&&(t.flags|=16)}function v0(t,e,n){const{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(null===r||!n&&null===i||n&&null===o||ny(t))return t.initialInputs??=[],void t.initialInputs.push(null);let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;if(!n&&i.hasOwnProperty(l)){const c=i[l];for(const u of c)if(u===e){s??=[],s.push(l,r[a+1]);break}}else if(n&&o.hasOwnProperty(l)){const c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===e){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}else a+=2;else a+=4}t.initialInputs??=[],t.initialInputs.push(s)}function YG(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=os(i.type)),s=new wc(o,Pr(i),x,null);t.blueprint[r]=s,n[r]=s,function ZG(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function QG(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,Bc(t,n,i.hostVars,We),i)}function JG(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Pr(e)&&(n[""]=t)}}function Oy(t,e,n,r,i,o,s,a){const l=e[1],c=l.consts,d=vs(l,t,n,r,an(c,s));return o&&p0(l,e,d,an(c,a),i),d.mergedAttrs=Ga(d.mergedAttrs,d.attrs),null!==d.attrs&&hf(d,d.attrs,!1),null!==d.mergedAttrs&&hf(d,d.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,d),d}function xy(t,e){lD(t,e),QM(e)&&t.queries.elementEnd(e)}function ff(t){return!!function Fy(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function si(t,e,n){return t[e]=n}function ct(t,e,n){return n!==We&&(!Object.is(t[e],n)&&(t[e]=n,!0))}function Ts(t,e,n,r){const i=ct(t,e,n);return ct(t,e+1,r)||i}function $i(t,e,n){return function r(i){tl(ei(t)?vn(t.index,e):e,5);const s=e[8];let a=T0(e,s,n,i),l=r.__ngNextListenerFn__;for(;l;)a=T0(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function T0(t,e,n,r){const i=J(null);try{return Ye(G.OutputStart,e,n),!1!==n(r)}catch(o){return function yy(t,e){const n=t[9];if(!n)return;let r;try{r=n.get(ni,null)}catch{r=null}r?.(e)}(t,o),!1}finally{Ye(G.OutputEnd,e,n),J(i)}}function M0(t,e,n,r,i,o,s){const a=e.firstCreatePass?function lS(t){return t.cleanup??=[]}(e):null,l=function aS(t){return t[7]??=[]}(n),c=l.length;l.push(i,o),a&&a.push(r,t,c,(c+1)*(s?-1:1))}function ol(t,e,n,r,i,o){const a=e[1],d=e[n][a.data[n].outputs[r]].subscribe(o);M0(t.index,a,e,i,o,d,!0)}const Vi=Symbol("BINDING");class w0 extends uf{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Xe(e);return new _f(n,this.ngModule)}}class _f extends h0{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function fU(t){return Object.keys(t).map(e=>{const[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:0!==(r&Gc.SignalBased)};return i&&(o.transform=i),o})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function gU(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function eB(t){return t.map(Jj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){Ye(G.DynamicComponentStart);const a=J(null);try{const l=this.componentDef,c=function vU(t,e,n,r){const i=t?["ng-version","21.0.3"]:function tB(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!xr(i))break;i=o}r++}return n.length&&e.push(1,...n),e}(e.selectors[0]);let o=null,s=null,a=0;if(n)for(const u of n)a+=u[Vi].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){const d=r[u];if("function"!=typeof d)for(const h of d.bindings){a+=h[Vi].requiredVars;const f=u+1;h.create&&(h.targetIdx=f,(o??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}const l=[e];if(r)for(const u of r){const h=mn("function"==typeof u?u:u.type);l.push(h)}return ry(0,null,function EU(t,e){return t||e?n=>{if(1&n&&t)for(const r of t)r.create();if(2&n&&e)for(const r of e)r.update()}:null}(o,s),1,a,l,null,null,null,[i],null)}(r,l,s,o),u=function pU(t,e,n){let r=e instanceof Yt?e:e?.injector;return r&&null!==t.getStandaloneInjector&&(r=t.getStandaloneInjector(r)||r),r?new il(n,r):n}(l,i||this.ngModule,e),d=function _U(t){const e=t.get(Py,null);if(null===e)throw new D(407,!1);return{rendererFactory:e,sanitizer:t.get(GG,null),changeDetectionScheduler:t.get(Fa,null),ngReflect:!1}}(u),h=d.rendererFactory.createRenderer(null,l),f=r?function TB(t,e,n,r){const o=r.get(M8,!1)||n===mr.ShadowDom||n===mr.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,o);return function MB(t){wI(t)}(s),s}(h,r,l.encapsulation,u):function mU(t,e){const n=function yU(t){return(t.selectors[0][0]||"div").toLowerCase()}(t);return Lh(e,n,"svg"===n?"svg":"math"===n?"math":null)}(l,h),g=s?.some(I0)||o?.some(m=>"function"!=typeof m&&m.bindings.some(I0)),p=Vh(null,c,null,512|iy(l),null,null,d,h,u,null,null);p[27]=f,rm(p);let _=null;try{const m=Oy(27,p,2,"#host",()=>c.directiveRegistry,!0,0);Xw(h,f,m),Un(f,p),Xh(c,p,m),Xm(c,m,p),xy(c,m),void 0!==n&&function TU(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o&&o.length?Array.from(o):null)}}(m,this.ngContentSelectors,n),_=vn(m.index,p),p[8]=_[8],Qh(c,p,null)}catch(m){throw null!==_&&Im(_),Im(p),m}finally{Ye(G.DynamicComponentEnd),im()}return new CU(this.componentType,p,!!g)}finally{J(a)}}}function I0(t){const e=t[Vi].kind;return"input"===e||"twoWay"===e}class CU extends VG{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=ka(n[1],27),this.location=Ua(this._tNode,n),this.instance=vn(this._tNode.index,n)[8],this.hostView=this.changeDetectorRef=new Xc(n,void 0),this.componentType=e}setInput(e,n){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const i=this._rootLView;Zh(r,i[1],i,e,n),this.previousInputValues.set(e,n),tl(vn(r.index,i),1)}get injector(){return new Rt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}let Fr=(()=>class t{static __NG_ELEMENT_ID__=MU})();function MU(){return function b0(t,e){let n;const r=e[t.index];return yn(r)?n=r:(n=$I(r,e,null,t),e[t.index]=n,oy(e,n)),P0(n,e,t,r),new R0(n,t,e)}(ve(),I())}const SU=Fr,R0=class extends SU{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ua(this._hostTNode,this._hostLView)}get injector(){return new Rt(this._hostTNode,this._hostLView)}get parentInjector(){const e=mh(this._hostTNode,this._hostLView);if(Em(e)){const n=Rc(e,this._hostLView),r=Ic(e);return new Rt(n[1].data[r+8],n)}return new Rt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=A0(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,ys(this._hostTNode,null)),a}createComponent(e,n,r,i,o,s,a){const l=e&&!function Dc(t){return"function"==typeof t}(e);let c;if(l)c=n;else{const _=n||{};c=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef,s=_.directives,a=_.bindings}const u=l?e:new _f(Xe(e)),d=r||this.parentInjector;if(!o&&null==u.ngModule){const m=(l?d:this.parentInjector).get(Yt,null);m&&(o=m)}Xe(u.componentType??{});const p=u.create(d,i,null,o,s,a);return this.insertImpl(p.hostView,c,ys(this._hostTNode,null)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const i=e._lView;if(function B2(t){return yn(t[3])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const l=i[3],c=new R0(l,l[5],l[3]);c.detach(c.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;return function nl(t,e,n,r=!0){const i=e[1];if(function WB(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],BM(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[16];null!==s&&n!==s&&jI(s,e);const a=e[18];null!==a&&a.insertView(t),K_(e),e[2]|=128}(i,e,t,n),r){const s=Hh(n,t),a=e[11],l=a.parentNode(t[7]);null!==l&&function gB(t,e,n,r,i,o){r[0]=i,r[5]=e,zh(t,r,n,1,i,o)}(i,t[5],a,e,l,s)}const o=e[6];null!==o&&null!==o.firstChild&&(o.firstChild=null)}(s,i,o,r),e.attachToViewContainerRef(),BM(Ly(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=A0(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=zc(this._lContainer,n);r&&(Hd(Ly(this._lContainer),n),Uc(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=zc(this._lContainer,n);return r&&null!=Hd(Ly(this._lContainer),n)?new Xc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function A0(t){return t[8]}function Ly(t){return t[8]||(t[8]=[])}let P0=function k0(t,e,n,r){if(t[7])return;let i;i=8&n.type?zt(r):function DU(t,e){const n=t[11],r=n.createComment(""),i=Mt(e,t),o=n.parentNode(i);return ps(n,o,r,n.nextSibling(i),!1),r}(e,n),t[7]=i};let Ss=class{},z0=class{};class Yy extends Ss{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new w0(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;const o=Jr(e);this._bootstrapComponents=oi(o.bootstrap),this._r3Injector=PS(e,n,[{provide:Ss,useValue:this},{provide:uf,useValue:this.componentFactoryResolver},...r],$n(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class X0 extends z0{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Yy(this.moduleType,e,[])}}class GU extends Ss{injector;componentFactoryResolver=new w0(this);instance=null;constructor(e){super();const n=new as([...e.providers,{provide:Ss,useValue:this},{provide:uf,useValue:this.componentFactoryResolver}],e.parent||B_(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function mf(t,e,n=null){return new GU({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let UU=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=F_(0,n.type),i=r.length>0?mf([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=U({token:t,providedIn:"environment",factory:()=>new t(ie(Yt))})}return t})();function yf(t){return Oi(()=>{const e=q0(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Eh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(UU).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||mr.Emulated,styles:t.styles||lt,_:null,schemas:t.schemas||null,tView:null,id:""};e.standalone&&Qt("NgStandalone"),K0(n);const r=t.dependencies;return n.directiveDefs=vf(r,W0),n.pipeDefs=vf(r,br),n.id=function WU(t){let e=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,"function"==typeof t.consts?"":t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(const o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)|0;return e+=2147483648,"c"+e}(n),n})}function W0(t){return Xe(t)||mn(t)}function ji(t){return Oi(()=>({type:t.type,bootstrap:t.bootstrap||lt,declarations:t.declarations||lt,imports:t.imports||lt,exports:t.exports||lt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function HU(t,e){if(null==t)return Qr;const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];let o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Gc.None,l=null),n[o]=[r,a,l],e[o]=s}return n}function zU(t){if(null==t)return Qr;const e={};for(const n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function he(t){return Oi(()=>{const e=q0(t);return K0(e),e})}function Mn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function q0(t){const e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Qr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:!0===t.signals,selectors:t.selectors||lt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:HU(t.inputs,e),outputs:zU(t.outputs),debugInfo:null}}function K0(t){t.features?.forEach(e=>e(t))}function vf(t,e){return t?()=>{const n="function"==typeof t?t():t,r=[];for(const i of n){const o=e(i);null!==o&&r.push(o)}return r}:null}function Ue(t){let e=function ZU(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Pr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new D(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=Qy(t.inputs),s.declaredInputs=Qy(t.declaredInputs),s.outputs=Qy(t.outputs);const a=i.hostBindings;a&&n3(t,a);const l=i.viewQuery,c=i.contentQueries;if(l&&e3(t,l),c&&t3(t,c),QU(t,i),t2(t.outputs,i.outputs),Pr(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Ue&&(n=!1)}}e=Object.getPrototypeOf(e)}!function JU(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ga(i.hostAttrs,n=Ga(n,i.hostAttrs))}}(r)}function QU(t,e){for(const n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;const r=e.inputs[n];void 0!==r&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function Qy(t){return t===Qr?{}:t===lt?[]:t}function e3(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function t3(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function n3(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Jt(t,e,n,r,i,o,s,a){const l=I(),c=me();return function r3(t,e,n,r,i,o,s,a,l,c,u){const d=n+27;let h;e.firstCreatePass?(h=vs(e,d,4,s||null,a||null),J_()&&p0(e,t,h,an(e.consts,c),my),lD(e,h)):h=e.data[d],function eR(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=Ga(t.mergedAttrs,t.attrs);const u=t.tView=ry(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);null!==n.queries&&(n.queries.template(n,t),u.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),Ni(t,!1);const l=nR(n,e,t,r);ih()&&gy(n,e,l,t),Un(l,e);const c=$I(l,e,l,t);e[r+27]=c,oy(e,c)}(h,t,e,n,r,i,o,l),Pa(h)&&Xh(e,t,h),null!=c&&Ja(t,h,u)}(l,c,t,e,n,r,i,an(c.consts,o),void 0,s,a),Jt}let nR=function rR(t,e,n,r){return Ec(!0),e[11].createComment("")};let _R=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function vR(t){return function yR(t){return"function"==typeof t&&void 0!==t[ht]}(t)&&"function"==typeof t.set}const OR=new O(""),xR=new O("");let sv,ov=(()=>{class t{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(n,r,i){this._ngZone=n,this.registry=r,H_()&&(this._destroyRef=S(kr,{optional:!0})??void 0),sv||(function dH(t){sv=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const n=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{ot.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{n.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static \u0275fac=function(r){return new(r||t)(ie(ot),ie(uH),ie(xR))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),uH=(()=>{class t{_applications=new Map;registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return sv?.findTestabilityInTree(this,n,r)??null}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function lu(t){return!!t&&"function"==typeof t.then}function FR(t){return!!t&&"function"==typeof t.subscribe}const LR=new O("");function $R(t){return qd([{provide:LR,multi:!0,useValue:t}])}let VR=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=S(LR,{optional:!0})??[];injector=S(Bn);constructor(){}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=jn(this.injector,i);if(lu(o))n.push(o);else if(FR(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const jR=new O("");function BR(t,e){return Array.isArray(e)?e.reduce(BR,t):{...t,...e}}let Bi=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=S(ni);afterRenderManager=S(cI);zonelessEnabled=S(um);rootEffectScheduler=S($S);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new hr;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=S(_o);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(vt(n=>!n))}constructor(){S(Za,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=S(Yt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Bn.NULL){return this._injector.get(ot).run(()=>{Ye(G.BootstrapComponentStart);const s=n instanceof h0;if(!this._injector.get(VR).done)throw new D(405,"");let l;l=s?n:this._injector.get(uf).resolveComponentFactory(n),this.componentTypes.push(l.componentType);const c=function fH(t){return t.isBoundToModule}(l)?void 0:this._injector.get(Ss),d=l.create(i,[],r||l.selector,c),h=d.location.nativeElement,f=d.injector.get(OR,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),If(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),Ye(G.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ye(G.ChangeDetectionStart),null!==this.tracingSnapshot?this.tracingSnapshot.run(ly.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw Ye(G.ChangeDetectionEnd),new D(101,!1);const n=J(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,J(n),this.afterTick.next(),Ye(G.ChangeDetectionEnd)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Py,null,{optional:!0}));let n=0;for(;0!==this.dirtyFlags&&n++<10;){Ye(G.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{Ye(G.ChangeDetectionSyncEnd)}}}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews)(r||eh(i))&&(Jh(i,r&&!this.zonelessEnabled?0:1),n=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>eh(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;If(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(jR,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>If(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new D(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function If(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}typeof document<"u"&&document;function Te(t,e,n){const r=I();return ct(r,ln(),e)&&(me(),Wh(Nr(),r,t,e,r[11],n)),Te}function Mv(t,e,n,r,i){Zh(e,t,n,i?"class":"style",r)}function w(t,e,n,r){const i=I(),o=i[1],s=t+27,a=o.firstCreatePass?Oy(s,i,2,e,my,J_(),n,r):o.data[s];if(Kh(a,i,t,e,wv),Pa(a)){const l=i[1];Xh(l,i,a),Xm(l,a,i)}return null!=r&&Ja(i,a),w}function M(){const t=me(),n=Yh(ve());return t.firstCreatePass&&xy(t,n),function hS(t){return ye.skipHydrationRootTNode===t}(n)&&function fS(){ye.skipHydrationRootTNode=null}(),function uS(){ye.lFrame.elementDepthCount--}(),null!=n.classesWithoutHost&&function SV(t){return!!(8&t.flags)}(n)&&Mv(t,n,I(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function DV(t){return!!(16&t.flags)}(n)&&Mv(t,n,I(),n.stylesWithoutHost,!1),M}function fe(t,e,n,r){return w(t,e,n,r),M(),fe}Object.keys({disabled:"disabled",disabledReasons:"disabledReasons",errors:"errors",invalid:"invalid",max:"max",maxLength:"maxLength",min:"min",minLength:"minLength",name:"name",pattern:"pattern",readonly:"readonly",required:"required",touched:"touched"});let wv=(t,e,n,r,i)=>(Ec(!0),Lh(e[11],r,function J2(){return ye.lFrame.currentNamespace}()));function De(t,e,n){const r=I(),i=r[1],o=t+27,s=i.firstCreatePass?Oy(o,r,8,"ng-container",my,J_(),e,n):i.data[o];if(Kh(s,r,t,"ng-container",Rv),Pa(s)){const a=r[1];Xh(a,r,s),Xm(a,s,r)}return null!=n&&Ja(r,s),De}function ne(){const t=me(),n=Yh(ve());return t.firstCreatePass&&xy(t,n),ne}function jf(t,e,n){return De(t,e,n),ne(),jf}let Rv=(t,e,n,r,i)=>(Ec(!0),ty(e[11],""));function Av(){return I()}const uu=void 0;var r4=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],uu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],uu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202fa","h:mm:ss\u202fa","h:mm:ss\u202fa z","h:mm:ss\u202fa zzzz"],["{1}, {0}",uu,uu,uu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function n4(t){const e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let gl={};function Sn(t){const e=function i4(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=EA(e);if(n)return n;const r=e.split("-")[0];if(n=EA(r),n)return n;if("en"===r)return r4;throw new D(701,!1)}function EA(t){return t in gl||(gl[t]=wt.ng&&wt.ng.common&&wt.ng.common.locales&&wt.ng.common.locales[t]),gl[t]}var pt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(pt||{});const o4=["zero","one","two","few","many"],Bf="en-US",Gf={marker:"element"},Uf={marker:"ICU"};var Xn=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(Xn||{});let CA=Bf,du=0,hu=0;let fu=(t,e,n,r)=>(Ec(!0),function TA(t,e,n){const r=t[11];switch(n){case Node.COMMENT_NODE:return ty(r,e);case Node.TEXT_NODE:return ey(r,e);case Node.ELEMENT_NODE:return Lh(r,e,null)}}(t,n,r));function MA(t,e,n,r){const i=n[11];let s,o=null;for(let a=0;a<e.length;a++){const l=e[a];if("string"==typeof l){const c=e[++a];null===n[c]&&(n[c]=fu(n,0,l,Node.TEXT_NODE))}else if("number"==typeof l)switch(1&l){case 0:const c=WI(l);let u,d;if(null===o&&(o=c,s=i.parentNode(r)),c===o?(u=r,d=s):(u=null,d=zt(n[c])),null!==d){const p=qI(l);ps(i,d,n[p],u,!1);const m=Yc(t,p);if(null!==m&&"object"==typeof m){const y=nf(m,n);null!==y&&MA(t,m.create[y],n,n[m.anchorIdx])}}break;case 1:const f=e[++a],g=e[++a];qh(i,Na(l>>>1,n),null,null,f,g,null)}else switch(l){case Uf:const c=e[++a],u=e[++a];null===n[u]&&Un(n[u]=fu(n,0,c,Node.COMMENT_NODE),n);break;case Gf:const d=e[++a],h=e[++a];null===n[h]&&Un(n[h]=fu(n,0,d,Node.ELEMENT_NODE),n)}}}function SA(t,e,n,r,i){for(let o=0;o<n.length;o++){const s=n[o],a=n[++o];if(s&i){let l="";for(let c=o+1;c<=o+a;c++){const u=n[c];if("string"==typeof u)l+=u;else if("number"==typeof u)if(u<0)l+=Ee(e[r-u]);else{const d=u>>>2;switch(3&u){case 1:const h=n[++c],f=n[++c],g=t.data[d];"string"==typeof g?qh(e[11],e[d],null,g,h,l,f):Wh(g,e,h,l,e[11],f);break;case 0:const p=e[d];null!==p&&Gw(e[11],p,l);break;case 2:g4(t,Yc(t,d),e,l);break;case 3:DA(t,Yc(t,d),r,e)}}}}else{const l=n[o+1];if(l>0&&!(3&~l)){const u=Yc(t,l>>>2);e[u.currentCaseLViewIndex]<0&&DA(t,u,r,e)}}o+=a}}function DA(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let o=du;i<0&&(i=r[e.currentCaseLViewIndex]=~i,o=-1),SA(t,r,e.update[i],n,o)}}function g4(t,e,n,r){const i=function p4(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function s4(t,e){const n=function vA(t){return Sn(t)[pt.PluralCase]}(e)(parseInt(t,10)),r=o4[n];return void 0!==r?r:"other"}(e,function c4(){return CA}());n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(nf(e,n)!==i&&(wA(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const s=n[e.anchorIdx];s&&MA(t,e.create[i],n,s)}}function wA(t,e,n){let r=nf(e,n);if(null!==r){const i=e.remove[r];for(let o=0;o<i.length;o++){const s=i[o];if(s>0){const a=Na(s,n);null!==a&&Vc(n[11],a)}else wA(t,Yc(t,~s),n)}}}const Hf=/\ufffd(\d+):?\d*\ufffd/gi,m4=/\ufffd(\d+)\ufffd/,RA=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,y4=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,v4=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,E4=/\uE500/g;function AA(t,e,n,r,i,o,s){const a=Bc(t,r,1,null);let l=a<<Xn.SHIFT,c=vc();e===c&&(c=null),null===c&&(l|=Xn.APPEND_EAGERLY),s&&(l|=Xn.COMMENT,function iB(t){void 0===sy&&(sy=t())}(dG)),i.push(l,null===o?"":o);const u=Sy(t,a,s?32:1,null===o?"":o,null);zI(n,u);const d=u.index;return Ni(u,!1),null!==c&&e!==c&&function lG(t,e){let n=t.insertBeforeIndex;null===n?(TI(UI,HI),n=t.insertBeforeIndex=[null,e]):(ts(Array.isArray(n),!0,"Expecting array here"),n.push(e))}(c,d),u}function M4(t,e,n,r,i,o,s,a){const l=a.match(Hf),u=AA(e,n,r,s,i,l?null:a,!1).index;l&&pu(o,a,u,null,0,null),t.push({kind:0,index:u})}function pu(t,e,n,r,i,o){const s=t.length,a=s+1;t.push(null,null);const l=s+2,c=e.split(Hf);let u=0;for(let d=0;d<c.length;d++){const h=c[d];if(1&d){const f=i+parseInt(h,10);t.push(-1-f),u|=bA(f)}else""!==h&&t.push(h)}return t.push(n<<2|(r?1:0)),r&&t.push(r,o),t[s]=u,t[a]=t.length-l,u}function bA(t){return 1<<Math.min(t,31)}function PA(t){let e,o,n="",r=0,i=!1;for(;null!==(e=y4.exec(t));)i?e[0]===`\ufffd/*${o}\ufffd`&&(r=e.index,i=!1):(n+=t.substring(r,e.index+e[0].length),o=e[1],i=!0);return n+=t.slice(r),n}function NA(t,e,n,r,i,o,s){let a=0;const l={type:o.type,currentCaseLViewIndex:Bc(e,n,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};(function b4(t,e,n){t.push(bA(e.mainBinding),2,-1-e.mainBinding,n<<2|2)})(r,o,s),function aG(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(e,s,l);const c=o.values,u=[];for(let d=0;d<c.length;d++){const h=c[d],f=[];for(let p=0;p<h.length;p++){const _=h[p];if("string"!=typeof _){const m=f.push(_)-1;h[p]=`\x3c!--\ufffd${m}\ufffd--\x3e`}}const g=[];u.push(g),a=R4(g,e,l,n,r,i,o.cases[d],h.join(""),f)|a}a&&function P4(t,e,n){t.push(e,1,n<<2|3)}(r,a,s),t.push({kind:3,index:s,cases:u,currentCaseLViewIndex:l.currentCaseLViewIndex})}function I4(t){const e=[],n=[];let r=1,i=0;const o=bv(t=t.replace(RA,function(s,a,l){return r="select"===l?0:1,i=parseInt(a.slice(1),10),""}));for(let s=0;s<o.length;){let a=o[s++].trim();1===r&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&e.push(a);const l=bv(o[s++]);e.length>n.length&&n.push(l)}return{type:r,mainBinding:i,cases:e,values:n}}function bv(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const a=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const l=t.substring(e,a);RA.test(l)?r.push(I4(l)):r.push(l),e=a+1}}else{if(0==n.length){const l=t.substring(e,a);r.push(l),e=a+1}n.push("{")}}const s=t.substring(e);return r.push(s),r}function R4(t,e,n,r,i,o,s,a,l){const c=[],u=[],d=[];n.cases.push(s),n.create.push(c),n.remove.push(u),n.update.push(d);const f=function kw(t){const e=new uj(t);return function dj(){try{return!!(new window.DOMParser).parseFromString(Xa(""),"text/html")}catch{return!1}}()?new cj(e):e}(function kc(){if(void 0!==bm)return bm;if(typeof document<"u")return document;throw new D(210,!1)}()).getInertBodyElement(a),g=function Jm(t){return"content"in t&&function Cj(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}(f)||f;return g?kA(t,e,n,r,i,c,u,d,g,o,l,0):0}function kA(t,e,n,r,i,o,s,a,l,c,u,d){let h=0,f=l.firstChild;for(;f;){const g=Bc(e,r,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:const p=f,_=p.tagName.toLowerCase();if(Zm.hasOwnProperty(_)){Pv(o,Gf,_,c,g),e.data[g]=_;const E=p.attributes;for(let N=0;N<E.length;N++){const P=E.item(N),L=P.name.toLowerCase();P.value.match(Hf)?Lw.hasOwnProperty(L)&&pu(a,P.value,g,P.name,0,Qm[L]?Ym:null):N4(o,g,P)}const C={kind:1,index:g,children:[]};t.push(C),h=kA(C.children,e,n,r,i,o,s,a,f,g,u,d+1)|h,OA(s,g,d)}break;case Node.TEXT_NODE:const m=f.textContent||"",y=m.match(Hf);Pv(o,null,y?"":m,c,g),OA(s,g,d),y&&(h=pu(a,m,g,null,0,null)|h),t.push({kind:0,index:g});break;case Node.COMMENT_NODE:const v=m4.exec(f.textContent||"");if(v){const C=u[parseInt(v[1],10)];Pv(o,Uf,"",c,g),NA(t,e,r,i,c,C,g),A4(s,g,d)}}f=f.nextSibling}return h}function OA(t,e,n){0===n&&t.push(e)}function A4(t,e,n){0===n&&(t.push(~e),t.push(e))}function Pv(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,function uG(t,e,n){return t|e<<17|n<<1}(0,r,i))}function N4(t,e,n){t.push(e<<1|1,n.name,n.value)}const k4=/\[(\ufffd.+?\ufffd?)\]/,O4=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,x4=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,F4=/{([A-Z0-9_]+)}/g,L4=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,$4=/\/\*/,V4=/\d+\:(\d+)/;function Os(t,e,n=-1){const r=me(),i=I(),o=27+t,s=an(r.consts,e),a=vc();r.firstCreatePass&&function T4(t,e,n,r,i,o){const s=vc(),a=[],l=[],c=[[]],u=[[]];i=function w4(t,e){if(function YI(t){return-1===t}(e))return PA(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return PA(t.substring(n,r))}}(i,o);const d=function C4(t){return t.replace(E4," ")}(i).split(v4);for(let h=0;h<d.length;h++){let f=d[h];if(1&h){const g=47===f.charCodeAt(0),p=f.charCodeAt(g?1:0),_=27+Number.parseInt(f.substring(g?2:1));if(g)c.shift(),u.shift(),Ni(vc(),!1);else{const m=cG(t,c[0],_);c.unshift([]),Ni(m,!0);const y={kind:2,index:_,children:[],type:35===p?0:1};u[0].push(y),u.unshift(y.children)}}else{const g=bv(f);for(let p=0;p<g.length;p++){let _=g[p];if(1&p){const m=_;if("object"!=typeof m)throw new Error(`Unable to parse ICU expression in "${i}" message.`);const v=AA(t,s,c[0],n,a,"",!0).index;NA(u[0],t,n,l,e,m,v)}else""!==_&&M4(u[0],t,s,c[0],a,l,n,_)}}}t.data[r]={create:a,update:l,ast:u[0],parentTNodeIndex:e}}(r,null===a?0:a.index,i,o,s,n),2===r.type?i[15][2]|=32:i[2]|=32;const l=r.data[o],u=yI(r,a===i[5]?null:a,i);(function f4(t,e,n,r){const i=t[11];for(let o=0;o<e.length;o++){const s=e[o++],c=(s&Xn.APPEND_EAGERLY)===Xn.APPEND_EAGERLY,u=s>>>Xn.SHIFT;let d=t[u],h=!1;null===d&&(d=t[u]=fu(t,0,e[o],(s&Xn.COMMENT)===Xn.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),h=ih()),c&&null!==n&&h&&ps(i,n,d,r,!1)}})(i,l.create,u,a&&8&a.type?i[a.index]:null),CS(!0)}function xs(){CS(!1)}function b(t,e,n){Os(t,e,n),xs()}function zf(t){return function u4(t){t&&(du|=1<<Math.min(hu,31)),hu++}(ct(I(),ln(),t)),zf}function Nv(t){!function d4(t,e,n){if(hu>0){const r=t.data[n];SA(t,e,Array.isArray(r)?r:r.update,ti()-hu-1,du)}du=0,hu=0}(me(),I(),t+27)}function Xf(t,e={}){return function j4(t,e={}){let n=t;if(k4.test(t)){const r={},i=[0];n=n.replace(O4,(o,s,a)=>{const l=s||a,c=r[l]||[];if(c.length||(l.split("|").forEach(p=>{const _=p.match(V4),m=_?parseInt(_[1],10):0,y=$4.test(p);c.push([m,y,p])}),r[l]=c),!c.length)throw new Error(`i18n postprocess: unmatched placeholder - ${l}`);const u=i[i.length-1];let d=0;for(let p=0;p<c.length;p++)if(c[p][0]===u){d=p;break}const[h,f,g]=c[d];return f?i.pop():u!==h&&i.push(h),c.splice(d,1),g})}return Object.keys(e).length&&(n=n.replace(x4,(r,i,o,s,a,l)=>e.hasOwnProperty(o)?`${i}${e[o]}${l}`:r),n=n.replace(F4,(r,i)=>e.hasOwnProperty(i)?e[i]:r),n=n.replace(L4,(r,i)=>{if(e.hasOwnProperty(i)){const o=e[i];if(!o.length)throw new Error(`i18n postprocess: unmatched ICU - ${r} with key: ${i}`);return o.shift()}return r})),n}(t,e)}function Dn(t,e,n){const r=I(),i=me(),o=ve();return kv(i,r,r[11],o,t,e,n),Dn}function kv(t,e,n,r,i,o,s){let a=!0,l=null;if((3&r.type||s)&&(l??=$i(r,e,o),function pf(t,e,n,r,i,o,s,a){const l=Pa(t);let c=!1,u=null;if(!r&&l&&(u=function oU(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[7],l=i[o+2];return a&&a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,n,o,t.index)),null!==u)(u.__ngLastListenerFn__||u).__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,c=!0;else{const d=Mt(t,n),h=r?r(d):d,f=i.listen(h,o,a);(function iU(t){return t.startsWith("animation")||t.startsWith("transition")})(o)||M0(r?p=>r(zt(p[t.index])):t.index,e,n,o,a,f,!1)}return c}(r,t,e,s,n,i,o,l)&&(a=!1)),a){const c=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){const h=u[d],f=u[d+1];l??=$i(r,e,o),ol(r,e,h,f,i,l)}if(c&&c.length)for(const d of c)l??=$i(r,e,o),ol(r,e,d,i,i,l)}}function qe(t=1){return function Y2(t){return(ye.lFrame.contextLView=function sS(t,e){for(;t>0;)e=e[14],t--;return e}(t,ye.lFrame.contextLView))[8]}(t)}function Wf(t,e){return t<<17|e<<2}function Fs(t){return t>>17&32767}function Ov(t){return 2|t}function pl(t){return(131068&t)>>2}function xv(t,e){return-131069&t|e<<2}function Fv(t){return 1|t}function BA(t,e,n,r){const i=t[n+1],o=null===e;let s=r?Fs(i):pl(i),a=!1;for(;0!==s&&(!1===a||o);){const c=t[s+1];n5(t[s],e)&&(a=!0,t[s+1]=r?Fv(c):Ov(c)),s=r?Fs(c):pl(c)}a&&(t[n+1]=r?Ov(i):Fv(i))}function n5(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&fc(t,e)>=0}function qf(t,e){return function KA(t,e,n,r){const i=I(),o=me(),s=ki(2);o.firstUpdatePass&&function QA(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Zt()],s=function ZA(t,e){return e>=t.expandoStartIndex}(t,n);(function nb(t,e){return!!(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function f5(t,e,n,r){const i=function tm(t){const e=ye.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=_u(n=Lv(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Lv(i,t,e,n,r),null===o){let l=function g5(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==pl(r))return t[Fs(r)]}(t,e,r);void 0!==l&&Array.isArray(l)&&(l=Lv(null,t,e,l[1],r),l=_u(l,e.attrs,r),function p5(t,e,n,r){t[Fs(n?e.classBindings:e.styleBindings)]=r}(t,e,r,l))}else o=function _5(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=_u(r,t[o].hostAttrs,n);return _u(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function e5(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Fs(s),l=pl(s);t[r]=n;let u,c=!1;if(Array.isArray(n)?(u=n[1],(null===u||fc(n,u)>0)&&(c=!0)):u=n,i)if(0!==l){const h=Fs(t[a+1]);t[r+1]=Wf(h,a),0!==h&&(t[h+1]=xv(t[h+1],r)),t[a+1]=function Q4(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Wf(a,0),0!==a&&(t[a+1]=xv(t[a+1],r)),a=r;else t[r+1]=Wf(l,0),0===a?a=r:t[l+1]=xv(t[l+1],r),l=r;c&&(t[r+1]=Ov(t[r+1])),BA(t,u,r,!0),BA(t,u,r,!1),function t5(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&fc(o,e)>=0&&(n[r+1]=Fv(n[r+1]))}(e,u,t,r,o),s=Wf(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==We&&ct(i,s,e)&&function eb(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const l=t.data,c=l[a+1],u=function J4(t){return!(1&~t)}(c)?tb(l,e,n,i,pl(c),s):void 0;Kf(u)||(Kf(o)||function Z4(t){return!(2&~t)}(c)&&(o=tb(l,null,n,i,a,s)),function CB(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:To.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=To.Important),t.setStyle(n,r,i,o))}}(r,s,Na(Zt(),n),i,o))}(o,o.data[Zt()],i,i[11],t,i[s+1]=function E5(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=$n(function Co(t){return t instanceof Nw?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,s)}(t,e,null,!0),qf}function Lv(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=_u(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function _u(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Xd(t,s,!!n||e[++o]))}return void 0===t?null:t}function tb(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=n[i+1];h===We&&(h=d?lt:void 0);let f=d?k_(h,r):u===r?h:void 0;if(c&&!Kf(f)&&(f=k_(l,r)),Kf(f)&&(a=f,s))return a;const g=t[i+1];i=s?Fs(g):pl(g)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=k_(l,r))}return a}function Kf(t){return void 0!==t}function Et(t,e=""){const n=I(),r=me(),i=t+27,o=r.firstCreatePass?vs(r,i,1,e,null):r.data[i],s=rb(r,n,o,e,t);n[i]=s,ih()&&gy(r,n,s,o),Ni(o,!1)}let rb=(t,e,n,r,i)=>(Ec(!0),ey(e[11],r));function $v(t){return Gt("",t),$v}function Gt(t,e,n){const r=I(),i=function ob(t,e,n,r=""){return ct(t,ln(),n)?e+Ee(n)+r:We}(r,t,e,n);return i!==We&&Gi(r,Zt(),i),Gt}function mu(t,e,n,r,i){const o=I(),s=function sb(t,e,n,r,i,o=""){const a=Ts(t,ti(),n,i);return ki(2),a?e+Ee(n)+r+Ee(i)+o:We}(o,t,e,n,r,i);return s!==We&&Gi(o,Zt(),s),mu}function Gi(t,e,n){const r=Na(e,t);Gw(t[11],r,n)}function Yf(t,e,n){vR(e)&&(e=e());const r=I();return ct(r,ln(),e)&&(me(),Wh(Nr(),r,t,e,r[11],n)),Yf}function Vv(t,e){const n=vR(t);return n&&t.set(e),n}function Zf(t,e){const n=I(),r=me(),i=ve();return kv(r,n,n[11],i,t,e),Zf}function Tb(t,e,n){const r=me();r.firstCreatePass&&Mb(e,r.data,r.blueprint,Pr(t),n)}function Mb(t,e,n,r,i){if(t=Ce(t),Array.isArray(t))for(let o=0;o<t.length;o++)Mb(t[o],e,n,r,i);else{const o=me(),s=I(),a=ve();let l=Ii(t)?t:Ce(t.provide);const c=YM(t),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Ii(t)||!t.multi){const f=new wc(c,i,x,null),g=Bv(l,e,i?u:u+h,d);-1===g?(Mm(_h(a,s),o,l),jv(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[g]=f,s[g]=f)}else{const f=Bv(l,e,u+h,d),g=Bv(l,e,u,u+h),_=g>=0&&n[g];if(i&&!_||!i&&!(f>=0&&n[f])){Mm(_h(a,s),o,l);const m=function L5(t,e,n,r,i){const s=new wc(t,n,x,null);return s.multi=[],s.index=e,s.componentProviders=0,Sb(s,i,r&&!n),s}(i?F5:x5,n.length,i,r,c);!i&&_&&(n[g].providerFactory=m),jv(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(m),s.push(m)}else jv(o,t,f>-1?f:g,Sb(n[i?g:f],c,!i&&r));!i&&r&&_&&n[g].componentProviders++}}}function jv(t,e,n,r){const i=Ii(e),o=function qM(t){return!!t.useClass}(e);if(i||o){const l=(o?Ce(e.useClass):e).prototype.ngOnDestroy;if(l){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(n);-1===u?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function Sb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Bv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function x5(t,e,n,r,i){return Gv(this.multi,[])}function F5(t,e,n,r,i){const o=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,l=Ac(r,r[1],this.providerFactory.index,i);s=l.slice(0,a),Gv(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],Gv(o,s);return s}function Gv(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function _t(t,e){return n=>{n.providersResolver=(r,i)=>Tb(r,i?i(t):t,!1),e&&(n.viewProvidersResolver=(r,i)=>Tb(r,i?i(e):e,!0))}}function yu(t,e){const n=t[e];return n===We?void 0:n}function ml(t,e){const n=me();let r;const i=t+27;n.firstCreatePass?(r=function Y5(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=os(r.type)),a=Vn(x);try{const l=ph(!1),c=o();return ph(l),function W_(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,I(),i,c),c}finally{Vn(a)}}function vu(t,e,n){const r=t+27,i=I(),o=ds(i,r);return Eu(i,r)?function Ib(t,e,n,r,i,o){const s=e+n;return ct(t,s,i)?si(t,s+1,o?r.call(o,i):r(i)):yu(t,s+1)}(i,En(),e,o.transform,n,o):o.transform(n)}function Nb(t,e,n,r){const i=t+27,o=I(),s=ds(o,i);return Eu(o,i)?function Rb(t,e,n,r,i,o,s){const a=e+n;return Ts(t,a,i,o)?si(t,a+2,s?r.call(s,i,o):r(i,o)):yu(t,a+2)}(o,En(),e,s.transform,n,r,s):s.transform(n,r)}function Eu(t,e){return t[1].data[e].pure}class RX{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let AX=(()=>{class t{compileModuleSync(n){return new X0(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=oi(Jr(n).declarations).reduce((s,a)=>{const l=Xe(a);return l&&s.push(new _f(l)),s},[]);return new RX(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),PX=(()=>{class t{applicationErrorHandler=S(ni);appRef=S(Bi);taskService=S(_o);ngZone=S(ot);zonelessEnabled=S(um);tracing=S(Za,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new er;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(sh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(S(f$,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&5===n)return;switch(n){case 0:case 6:case 13:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 12:this.appRef.dirtyFlags|=16;break;case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;const r=this.useMicrotaskScheduler?OS:kS;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>r(()=>this.tick())):this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(sh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,OS(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Io=new O("",{factory:()=>S(Io,{optional:!0,skipSelf:!0})||function NX(){return typeof $localize<"u"&&$localize.locale||Bf}()}),rg=Symbol("InputSignalNode#UNSET"),nP={...l_,transformFn:void 0,applyValueToInputSignal(t,e){Od(t,e)}};function rP(t,e){const n=Object.create(nP);function r(){if(Si(n),n.value===rg)throw new D(-950,null);return n.value}return n.value=t,n.transformFn=e?.transform,r[ht]=n,r}function iP(t,e){return rP(t,e)}const UX=(iP.required=function GX(t){return rP(rg,t)},iP),ig=new O(""),QX=new O("");function Tu(t){return!t.moduleRef}let dP;function hP(){dP=JX}function JX(t,e){const n=t.injector.get(Bi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new D(-403,!1);t.instance.ngDoBootstrap(n)}e.push(t)}let fP=(()=>{class t{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(n){this._injector=n}bootstrapModuleFactory(n,r){const i=[[{provide:Fa,useExisting:PX},{provide:ot,useClass:a$},{provide:um,useValue:!0}],...r?.applicationProviders??[],u$],o=function BU(t,e,n){return new Yy(t,e,n,!1)}(n.moduleType,this.injector,i);return hP(),function uP(t){const e=Tu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ot);return n.run(()=>{Tu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const r=e.get(ni);let i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Tu(t)){const o=()=>e.destroy(),s=t.platformInjector.get(ig);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{const o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(ig);s.add(o),t.moduleRef.onDestroy(()=>{If(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return function eW(t,e,n){try{const r=n();return lu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}(r,n,()=>{const o=e.get(_o),s=o.add(),a=e.get(VR);return a.runInitializers(),a.donePromise.then(()=>{if(function l4(t){"string"==typeof t&&(CA=t.toLowerCase().replace(/_/g,"-"))}(e.get(Io,Bf)||Bf),!e.get(QX,!0))return Tu(t)?e.get(Bi):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Tu(t)){const u=e.get(Bi);return void 0!==t.rootComponent&&u.bootstrap(t.rootComponent),u}return dP?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>{o.remove(s)})})})}({moduleRef:o,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,r=[]){const i=BR({},r);return hP(),function HX(t,e,n){const r=new X0(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new D(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(ig,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||t)(ie(Bn))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),El=null;function gP(t,e,n=[]){const r=`Platform: ${e}`,i=new O(r);return(o=[])=>{let s=og();if(!s){const a=[...n,...o,{provide:i,useValue:!0}];s=t?.(a)??function tW(t){if(og())throw new D(400,!1);(function hH(){!function OL(t){TM=t}(()=>{throw new D(600,"")})})(),El=t;const e=t.get(fP);return function _P(t){const e=t.get(qD,null);jn(t,()=>{e?.forEach(n=>n())})}(t),e}(function pP(t=[],e){return Bn.create({name:e,providers:[{provide:V_,useValue:"platform"},{provide:ig,useValue:new Set([()=>El=null])},...t]})}(a,r))}return function nW(){const e=og();if(!e)throw new D(-401,!1);return e}()}}function og(){return El?.get(fP)??null}let Mu=(()=>class t{static __NG_ELEMENT_ID__=iW})();function iW(t){return function oW(t,e,n){if(ei(t)&&!n){const r=vn(t.index,e);return new Xc(r,r)}return 175&t.type?new Xc(e[15],e):null}(ve(),I(),!(16&~t))}class yP{constructor(){}supports(e){return ff(e)}create(e){return new aW(e)}}const sW=(t,e)=>e;class aW{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||sW}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<EP(r,i,o)?n:r,a=EP(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,g=f+h;u<=g&&g<c&&(o[h]=f+1)}o[s.previousIndex]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!ff(e))throw new D(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function nU(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new lW(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new vP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class lW{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}}class cW{_head=null;_tail=null;add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class vP{map=new Map;put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new cW,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function EP(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function TP(){return new Zv([new yP])}let Zv=(()=>{class t{factories;static \u0275prov=U({token:t,providedIn:"root",factory:TP});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{const r=S(t,{optional:!0,skipSelf:!0});return t.create(n,r||TP())}}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new D(901,!1)}}return t})();const gW=gP(null,"core",[]);let pW=(()=>{class t{constructor(n){}static \u0275fac=function(r){return new(r||t)(ie(Bi))};static \u0275mod=ji({type:t});static \u0275inj=Zr({})}return t})();function eE(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function $P(t){const e=t.search(/#|\?|$/);return"/"===t[e-1]?t.slice(0,e-1)+t.slice(e):t}function Ui(t){return t&&"?"!==t[0]?`?${t}`:t}let $s=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>S(jP),providedIn:"root"})}return t})();const VP=new O("");let jP=(()=>{class t extends $s{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??S(Cn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return eE(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ui(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Ui(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Ui(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(ie(lh),ie(VP,8))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Du=(()=>{class t{_subject=new hr;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function zW(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}($P(BP(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ui(r))}normalize(n){return t.stripTrailingSlash(function HW(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,BP(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ui(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ui(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ui;static joinWithSlash=eE;static stripTrailingSlash=$P;static \u0275fac=function(r){return new(r||t)(ie($s))};static \u0275prov=U({token:t,factory:()=>function UW(){return new Du(ie($s))}(),providedIn:"root"})}return t})();function BP(t){return t.replace(/\/index.html$/,"")}let XW=(()=>{class t extends $s{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=eE(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Ui(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Ui(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(ie(lh),ie(VP,8))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})();var wn=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(wn||{}),st=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(st||{}),ir=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(ir||{});function hg(t,e){return Er(Sn(t)[pt.DateFormat],e)}function fg(t,e){return Er(Sn(t)[pt.TimeFormat],e)}function gg(t,e){return Er(Sn(t)[pt.DateTimeFormat],e)}function vr(t,e){const n=Sn(t),r=n[pt.NumberSymbols][e];if(typeof r>"u"){if(12===e)return n[pt.NumberSymbols][0];if(13===e)return n[pt.NumberSymbols][1]}return r}function UP(t){if(!t[pt.ExtraData])throw new D(2303,!1)}function Er(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new D(2304,!1)}function nE(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const s6=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,pg={},a6=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function l6(t,e,n,r){let i=function m6(t){if(XP(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,o=1,s=1]=t.split("-").map(a=>+a);return _g(i,o-1,s)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(s6))return function y6(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,l=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,l,c),e}(r)}const e=new Date(t);if(!XP(e))throw new D(2311,!1);return e}(t);e=Hi(n,e)||e;let a,s=[];for(;e;){if(a=a6.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const u=s.pop();if(!u)break;e=u}}let l=i.getTimezoneOffset();r&&(l=zP(r,l),i=function _6(t,e){const i=t.getTimezoneOffset();return function p6(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(zP(e,i)-i))}(i,r));let c="";return s.forEach(u=>{const d=function g6(t){if(iE[t])return iE[t];let e;switch(t){case"G":case"GG":case"GGG":e=ut(3,st.Abbreviated);break;case"GGGG":e=ut(3,st.Wide);break;case"GGGGG":e=ut(3,st.Narrow);break;case"y":e=Vt(0,1,0,!1,!0);break;case"yy":e=Vt(0,2,0,!0,!0);break;case"yyy":e=Vt(0,3,0,!1,!0);break;case"yyyy":e=Vt(0,4,0,!1,!0);break;case"Y":e=Eg(1);break;case"YY":e=Eg(2,!0);break;case"YYY":e=Eg(3);break;case"YYYY":e=Eg(4);break;case"M":case"L":e=Vt(1,1,1);break;case"MM":case"LL":e=Vt(1,2,1);break;case"MMM":e=ut(2,st.Abbreviated);break;case"MMMM":e=ut(2,st.Wide);break;case"MMMMM":e=ut(2,st.Narrow);break;case"LLL":e=ut(2,st.Abbreviated,wn.Standalone);break;case"LLLL":e=ut(2,st.Wide,wn.Standalone);break;case"LLLLL":e=ut(2,st.Narrow,wn.Standalone);break;case"w":e=rE(1);break;case"ww":e=rE(2);break;case"W":e=rE(1,!0);break;case"d":e=Vt(2,1);break;case"dd":e=Vt(2,2);break;case"c":case"cc":e=Vt(7,1);break;case"ccc":e=ut(1,st.Abbreviated,wn.Standalone);break;case"cccc":e=ut(1,st.Wide,wn.Standalone);break;case"ccccc":e=ut(1,st.Narrow,wn.Standalone);break;case"cccccc":e=ut(1,st.Short,wn.Standalone);break;case"E":case"EE":case"EEE":e=ut(1,st.Abbreviated);break;case"EEEE":e=ut(1,st.Wide);break;case"EEEEE":e=ut(1,st.Narrow);break;case"EEEEEE":e=ut(1,st.Short);break;case"a":case"aa":case"aaa":e=ut(0,st.Abbreviated);break;case"aaaa":e=ut(0,st.Wide);break;case"aaaaa":e=ut(0,st.Narrow);break;case"b":case"bb":case"bbb":e=ut(0,st.Abbreviated,wn.Standalone,!0);break;case"bbbb":e=ut(0,st.Wide,wn.Standalone,!0);break;case"bbbbb":e=ut(0,st.Narrow,wn.Standalone,!0);break;case"B":case"BB":case"BBB":e=ut(0,st.Abbreviated,wn.Format,!0);break;case"BBBB":e=ut(0,st.Wide,wn.Format,!0);break;case"BBBBB":e=ut(0,st.Narrow,wn.Format,!0);break;case"h":e=Vt(3,1,-12);break;case"hh":e=Vt(3,2,-12);break;case"H":e=Vt(3,1);break;case"HH":e=Vt(3,2);break;case"m":e=Vt(4,1);break;case"mm":e=Vt(4,2);break;case"s":e=Vt(5,1);break;case"ss":e=Vt(5,2);break;case"S":e=Vt(6,1);break;case"SS":e=Vt(6,2);break;case"SSS":e=Vt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=yg(0);break;case"ZZZZZ":e=yg(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=yg(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=yg(2);break;default:return null}return iE[t]=e,e}(u);c+=d?d(i,n,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function _g(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Hi(t,e){const n=function qW(t){return Sn(t)[pt.LocaleId]}(t);if(pg[n]??={},pg[n][e])return pg[n][e];let r="";switch(e){case"shortDate":r=hg(t,ir.Short);break;case"mediumDate":r=hg(t,ir.Medium);break;case"longDate":r=hg(t,ir.Long);break;case"fullDate":r=hg(t,ir.Full);break;case"shortTime":r=fg(t,ir.Short);break;case"mediumTime":r=fg(t,ir.Medium);break;case"longTime":r=fg(t,ir.Long);break;case"fullTime":r=fg(t,ir.Full);break;case"short":const i=Hi(t,"shortTime"),o=Hi(t,"shortDate");r=mg(gg(t,ir.Short),[i,o]);break;case"medium":const s=Hi(t,"mediumTime"),a=Hi(t,"mediumDate");r=mg(gg(t,ir.Medium),[s,a]);break;case"long":const l=Hi(t,"longTime"),c=Hi(t,"longDate");r=mg(gg(t,ir.Long),[l,c]);break;case"full":const u=Hi(t,"fullTime"),d=Hi(t,"fullDate");r=mg(gg(t,ir.Full),[u,d])}return r&&(pg[n][e]=r),r}function mg(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return null!=e&&r in e?e[r]:n})),t}function Lr(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function Vt(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function u6(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new D(2301,!1)}}(t,o);if((n>0||a>-n)&&(a+=n),3===t)0===a&&-12===n&&(a=12);else if(6===t)return function c6(t,e){return Lr(t,3).substring(0,e)}(a,e);const l=vr(s,5);return Lr(a,e,l,r,i)}}function ut(t,e,n=wn.Format,r=!1){return function(i,o){return function d6(t,e,n,r,i,o){switch(n){case 2:return function ZW(t,e,n){const r=Sn(t),o=Er([r[pt.MonthsFormat],r[pt.MonthsStandalone]],e);return Er(o,n)}(e,i,r)[t.getMonth()];case 1:return function YW(t,e,n){const r=Sn(t),o=Er([r[pt.DaysFormat],r[pt.DaysStandalone]],e);return Er(o,n)}(e,i,r)[t.getDay()];case 0:const s=t.getHours(),a=t.getMinutes();if(o){const c=function t6(t){const e=Sn(t);return UP(e),(e[pt.ExtraData][2]||[]).map(r=>"string"==typeof r?nE(r):[nE(r[0]),nE(r[1])])}(e),u=function n6(t,e,n){const r=Sn(t);UP(r);const o=Er([r[pt.ExtraData][0],r[pt.ExtraData][1]],e)||[];return Er(o,n)||[]}(e,i,r),d=c.findIndex(h=>{if(Array.isArray(h)){const[f,g]=h,p=s>=f.hours&&a>=f.minutes,_=s<g.hours||s===g.hours&&a<g.minutes;if(f.hours<g.hours){if(p&&_)return!0}else if(p||_)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(-1!==d)return u[d]}return function KW(t,e,n){const r=Sn(t),o=Er([r[pt.DayPeriodsFormat],r[pt.DayPeriodsStandalone]],e);return Er(o,n)}(e,i,r)[s<12?0:1];case 3:return function QW(t,e){return Er(Sn(t)[pt.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new D(2302,!1)}}(i,o,t,e,n,r)}}function yg(t){return function(e,n,r){const i=-1*r,o=vr(n,5),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+Lr(s,2,o)+Lr(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Lr(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Lr(s,2,o)+":"+Lr(Math.abs(i%60),2,o);case 3:return 0===r?"Z":(i>=0?"+":"")+Lr(s,2,o)+":"+Lr(Math.abs(i%60),2,o);default:throw new D(2310,!1)}}}const h6=0,vg=4;function HP(t){const e=t.getDay(),n=0===e?-3:vg-e;return _g(t.getFullYear(),t.getMonth(),t.getDate()+n)}function rE(t,e=!1){return function(n,r){let i;if(e){const o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{const o=HP(n),s=function f6(t){const e=_g(t,h6,1).getDay();return _g(t,0,1+(e<=vg?vg:vg+7)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Lr(i,t,vr(r,5))}}function Eg(t,e=!1){return function(n,r){return Lr(HP(n).getFullYear(),t,vr(r,5),e)}}const iE={};function zP(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function XP(t){return t instanceof Date&&!isNaN(t.valueOf())}class k6{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ZP=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new k6(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),QP(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{QP(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(x(Fr),x(Fi),x(Zv))};static \u0275dir=he({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function QP(t,e){t.context.$implicit=e.item}let JP=(()=>{class t{_viewContainer;_context=new O6;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){e1(n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){e1(n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(x(Fr),x(Fi))};static \u0275dir=he({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})();class O6{$implicit=null;ngIf=null}function e1(t,e){if(t&&!t.createEmbeddedView)throw new D(2020,!1)}const W6=new O(""),q6=new O("");let n1=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(null==n||""===n||n!=n)return null;try{return l6(n,r??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function $r(t,e){return new D(2100,!1)}()}}static \u0275fac=function(r){return new(r||t)(x(Io,16),x(W6,24),x(q6,24))};static \u0275pipe=Mn({name:"date",type:t,pure:!0})}return t})(),iq=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ji({type:t});static \u0275inj=Zr({})}return t})();class i1{_doc;constructor(e){this._doc=e}manager}let pE=(()=>{class t extends i1{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(ie(Cn))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})();const _E=new O("");let o1=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});const i=n.filter(s=>!(s instanceof pE));this._plugins=i.slice().reverse();const o=n.find(s=>s instanceof pE);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new D(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(ie(_E),ie(ot))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})();const mE="ng-app-id";function s1(t){for(const e of t)e.remove()}function a1(t,e){const n=e.createElement("style");return n.textContent=t,n}function yE(t,e){const n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}let l1=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,function oq(t,e,n,r){const i=t.head?.querySelectorAll(`style[${mE}="${e}"],link[${mE}="${e}"]`);if(i)for(const o of i)o.removeAttribute(mE),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(const i of n)this.addUsage(i,this.inline,a1);r?.forEach(i=>this.addUsage(i,this.external,yE))}removeStyles(n,r){for(const i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){const o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){const i=r.get(n);i&&(i.usage--,i.usage<=0&&(s1(i.elements),r.delete(n)))}ngOnDestroy(){for(const[,{elements:n}]of[...this.inline,...this.external])s1(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(const[r,{elements:i}]of this.inline)i.push(this.addElement(n,a1(r,this.doc)));for(const[r,{elements:i}]of this.external)i.push(this.addElement(n,yE(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(ie(Cn),ie(Ha),ie(YD,8),ie(KD))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})();const vE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},EE=/%COMP%/g,dq=new O("",{factory:()=>!0});function u1(t,e){return e.map(n=>n.replace(EE,t))}let d1=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,l=null,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=l,this.tracingService=c,this.platformIsServer=!1,this.defaultRenderer=new CE(n,s,a,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof g1?i.applyToHost(n):i instanceof TE&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case mr.Emulated:o=new g1(l,c,r,this.appId,u,s,a,d,h);break;case mr.ShadowDom:return new f1(l,n,r,s,a,this.nonce,d,h,c);case mr.ExperimentalIsolatedShadowDom:return new f1(l,n,r,s,a,this.nonce,d,h);default:o=new TE(l,c,r,u,s,a,d,h)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(ie(o1),ie(l1),ie(Ha),ie(dq),ie(Cn),ie(ot),ie(YD),ie(Za,8))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})();class CE{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(vE[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(h1(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(h1(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new D(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=vE[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=vE[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(To.DashCase|To.Important)?e.style.setProperty(n,r,i&To.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&To.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if("string"==typeof e&&!(e=mo().getGlobalEventTarget(this.doc,e)))throw new D(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===e(n)&&n.preventDefault()}}}function h1(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class f1 extends CE{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,o,s,a,l,c){super(e,i,o,a,l),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=u1(r.id,u);for(const h of u){const f=document.createElement("style");s&&f.setAttribute("nonce",s),f.textContent=h,this.shadowRoot.appendChild(f)}const d=r.getExternalStyles?.();if(d)for(const h of d){const f=yE(h,i);s&&f.setAttribute("nonce",s),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}}class TE extends CE{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,l,c){super(e,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?u1(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&0===_s.size&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class g1 extends TE{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,l,c){const u=i+"-"+r.id;super(e,n,r,o,s,a,l,c,u),this.contentAttr=function hq(t){return"_ngcontent-%COMP%".replace(EE,t)}(u),this.hostAttr=function fq(t){return"_nghost-%COMP%".replace(EE,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class ME extends C${supportsDOMEvents=!0;static makeCurrent(){!function E$(t){BS??=t}(new ME)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function pq(){return Iu=Iu||document.head.querySelector("base"),Iu?Iu.getAttribute("href"):null}();return null==n?null:function _q(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){Iu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return GS(document.cookie,e)}}let Iu=null,yq=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})();const p1=["alt","control","meta","shift"],vq={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Eq={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Cq=(()=>{class t extends i1{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i,o){const s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mo().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),p1.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=vq[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),p1.forEach(s=>{s!==i&&(0,Eq[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static \u0275fac=function(r){return new(r||t)(ie(Cn))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})();const Dq=gP(gW,"browser",[{provide:KD,useValue:"browser"},{provide:qD,useValue:function Tq(){ME.makeCurrent()},multi:!0},{provide:Cn,useFactory:function Sq(){return function p8(t){bm=t}(document),document}}]),y1=[{provide:xR,useClass:class mq{addToWindow(e){wt.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new D(5103,!1);return o},wt.getAllAngularTestabilities=()=>e.getAllTestabilities(),wt.getAllAngularRootElements=()=>e.getAllRootElements(),wt.frameworkStabilizers||(wt.frameworkStabilizers=[]),wt.frameworkStabilizers.push(r=>{const i=wt.getAllAngularTestabilities();let o=i.length;const s=function(){o--,0==o&&r()};i.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?mo().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}}},{provide:OR,useClass:ov},{provide:ov,useClass:ov}],v1=[{provide:V_,useValue:"root"},{provide:Cc,useFactory:function Mq(){return new Cc}},{provide:_E,useClass:pE,multi:!0},{provide:_E,useClass:Cq,multi:!0},d1,l1,o1,{provide:Py,useExisting:d1},{provide:US,useClass:yq},[]];let wq=(()=>{class t{constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ji({type:t});static \u0275inj=Zr({providers:[...v1,...y1],imports:[iq,pW]})}return t})();function E1(t){return!!t&&(t instanceof Pt||gt(t.lift)&&gt(t.subscribe))}function Ro(t){return this instanceof Ro?(this.v=t,this):new Ro(t)}function S1(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function IE(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const D1=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function w1(t){return gt(t?.then)}function I1(t){return gt(t[y_])}function R1(t){return Symbol.asyncIterator&&gt(t?.[Symbol.asyncIterator])}function A1(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const b1=function Jq(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function P1(t){return gt(t?.[b1])}function N1(t){return function M1(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(f){return function(g){return Promise.resolve(g).then(f,d)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(f,g){r[f]&&(i[f]=function(p){return new Promise(function(_,m){o.push([f,p,_,m])>1||l(f,p)})},g&&(i[f]=g(i[f])))}function l(f,g){try{!function c(f){f.value instanceof Ro?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}(r[f](g))}catch(p){h(o[0][3],p)}}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,g){f(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Ro(n.read());if(i)return yield Ro(void 0);yield yield Ro(r)}}finally{n.releaseLock()}})}function k1(t){return gt(t?.getReader)}function li(t){if(t instanceof Pt)return t;if(null!=t){if(I1(t))return function e9(t){return new Pt(e=>{const n=t[y_]();if(gt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(D1(t))return function t9(t){return new Pt(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(w1(t))return function n9(t){return new Pt(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,RM)})}(t);if(R1(t))return O1(t);if(P1(t))return function r9(t){return new Pt(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(k1(t))return function i9(t){return O1(N1(t))}(t)}throw A1(t)}function O1(t){return new Pt(e=>{(function o9(t,e){var n,r,i,o;return function C1(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=S1(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function zi(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function x1(t,e=0){return Tn((n,r)=>{n.subscribe(cn(r,i=>zi(r,t,()=>r.next(i),e),()=>zi(r,t,()=>r.complete(),e),i=>zi(r,t,()=>r.error(i),e)))})}function F1(t,e=0){return Tn((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function L1(t,e){if(!t)throw new Error("Iterable cannot be null");return new Pt(n=>{zi(n,e,()=>{const r=t[Symbol.asyncIterator]();zi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function tn(t,e){return e?function d9(t,e){if(null!=t){if(I1(t))return function s9(t,e){return li(t).pipe(F1(e),x1(e))}(t,e);if(D1(t))return function l9(t,e){return new Pt(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(w1(t))return function a9(t,e){return li(t).pipe(F1(e),x1(e))}(t,e);if(R1(t))return L1(t,e);if(P1(t))return function c9(t,e){return new Pt(n=>{let r;return zi(n,e,()=>{r=t[b1](),zi(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>gt(r?.return)&&r.return()})}(t,e);if(k1(t))return function u9(t,e){return L1(N1(t),e)}(t,e)}throw A1(t)}(t,e):li(t)}function AE(t){return t[t.length-1]}function $1(t){return gt(AE(t))?t.pop():void 0}function Tg(t){return function h9(t){return t&&gt(t.schedule)}(AE(t))?t.pop():void 0}function we(...t){return tn(t,Tg(t))}const{isArray:f9}=Array,{getPrototypeOf:g9,prototype:p9,keys:_9}=Object;function V1(t){if(1===t.length){const e=t[0];if(f9(e))return{args:e,keys:null};if(function m9(t){return t&&"object"==typeof t&&g9(t)===p9}(e)){const n=_9(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:y9}=Array;function j1(t){return vt(e=>function v9(t,e){return y9(e)?t(...e):t(e)}(t,e))}function B1(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function G1(...t){const e=Tg(t),n=$1(t),{args:r,keys:i}=V1(t);if(0===r.length)return tn([],e);const o=new Pt(function E9(t,e,n=Ca){return r=>{U1(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)U1(e,()=>{const c=tn(t[l],e);let u=!1;c.subscribe(cn(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>B1(i,s):Ca));return n?o.pipe(j1(n)):o}function U1(t,e,n){t?zi(n,t,e):e()}const bE=c_(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Cr(t,e,n=1/0){return gt(e)?Cr((r,i)=>vt((o,s)=>e(r,o,i,s))(li(t(r,i))),n):("number"==typeof e&&(n=e),Tn((r,i)=>function C9(t,e,n,r,i,o,s,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=p=>c<r?g(p):l.push(p),g=p=>{o&&e.next(p),c++;let _=!1;li(n(p,u++)).subscribe(cn(e,m=>{i?.(m),o?f(m):e.next(m)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<r;){const m=l.shift();s?zi(e,s,()=>g(m)):g(m)}h()}catch(m){e.error(m)}}))};return t.subscribe(cn(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Ru(t=1/0){return Cr(Ca,t)}function PE(...t){return function T9(){return Ru(1)}()(tn(t,Tg(t)))}function NE(t){return new Pt(e=>{li(t()).subscribe(e)})}const Vr=new Pt(t=>t.complete());function Xi(t,e){return Tn((n,r)=>{let i=0;n.subscribe(cn(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Ml(t){return t<=0?()=>Vr:Tn((e,n)=>{let r=0;e.subscribe(cn(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function w9(t=I9){return Tn((e,n)=>{let r=!1;e.subscribe(cn(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function I9(){return new bE}function Vs(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Xi((i,o)=>t(i,o,r)):Ca,Ml(1),n?function D9(t){return Tn((e,n)=>{let r=!1;e.subscribe(cn(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}(e):w9(()=>new bE))}function ci(t,e){return Tn((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(cn(r,l=>{i?.unsubscribe();let c=0;const u=o++;li(t(l,u)).subscribe(i=cn(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function kE(t){return Tn((e,n)=>{li(t).subscribe(cn(n,()=>n.complete(),h_)),!n.closed&&e.subscribe(n)})}function Mg(t,e){return gt(e)?Cr(t,e,1):Cr(t,1)}function or(t,e,n){const r=gt(t)||e||n?{next:t,error:e,complete:n}:t;return r?Tn((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(cn(o,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),o.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ca}function H1(t){return t<=0?()=>Vr:Tn((e,n)=>{let r=[];e.subscribe(cn(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function OE(t){return Tn((e,n)=>{let o,r=null,i=!1;r=e.subscribe(cn(n,void 0,void 0,s=>{o=li(t(s,OE(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function xE(t){return Tn((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}let A9=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(ie(Cn))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const le="primary",bu=Symbol("RouteTitle");class k9{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Sl(t){return new k9(t)}function O9(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(":"===s[0])i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Sg(t){return new Promise((e,n)=>{t.pipe(Vs()).subscribe({next:r=>e(r),error:r=>n(r)})})}function ui(t,e){const n=t?FE(t):void 0,r=e?FE(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!W1(t[i],e[i]))return!1;return!0}function FE(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function W1(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function q1(t){return t.length>0?t[t.length-1]:null}function bo(t){return E1(t)?t:lu(t)?tn(Promise.resolve(t)):we(t)}function K1(t){return E1(t)?Sg(t):Promise.resolve(t)}const F9={exact:function Q1(t,e,n){if(!js(t.segments,e.segments)||!Dg(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!Q1(t.children[r],e.children[r],n))return!1;return!0},subset:J1},Y1={exact:function L9(t,e){return ui(t,e)},subset:function $9(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>W1(t[n],e[n]))},ignored:()=>!0};function Z1(t,e,n){return F9[n.paths](t.root,e.root,n.matrixParams)&&Y1[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function J1(t,e,n){return eN(t,e,e.segments,n)}function eN(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!js(i,n)||e.hasChildren()||!Dg(i,n,r))}if(t.segments.length===n.length){if(!js(t.segments,n)||!Dg(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!J1(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(js(t.segments,i)&&Dg(t.segments,i,r)&&t.children[le])&&eN(t.children[le],e,o,r)}}function Dg(t,e,n){return e.every((r,i)=>Y1[n](t[i].parameters,r.parameters))}class di{root;queryParams;fragment;_queryParamMap;constructor(e=new Ze([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Sl(this.queryParams),this._queryParamMap}toString(){return B9.serialize(this)}}class Ze{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wg(this)}}class Pu{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Sl(this.parameters),this._parameterMap}toString(){return rN(this)}}function js(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Nu=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>new ku,providedIn:"root"})}return t})();class ku{parse(e){const n=new Q9(e);return new di(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Ou(e.root,!0)}`,r=function H9(t){const e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ig(n)}=${Ig(i)}`).join("&"):`${Ig(n)}=${Ig(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function G9(t){return encodeURI(t)}(e.fragment)}`:""}`}}const B9=new ku;function wg(t){return t.segments.map(e=>rN(e)).join("/")}function Ou(t,e){if(!t.hasChildren())return wg(t);if(e){const n=t.children[le]?Ou(t.children[le],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==le&&r.push(`${i}:${Ou(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function j9(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===le&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==le&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===le?[Ou(t.children[le],!1)]:[`${i}:${Ou(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[le]?`${wg(t)}/${n[0]}`:`${wg(t)}/(${n.join("//")})`}}function tN(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ig(t){return tN(t).replace(/%3B/gi,";")}function LE(t){return tN(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rg(t){return decodeURIComponent(t)}function nN(t){return Rg(t.replace(/\+/g,"%20"))}function rN(t){return`${LE(t.path)}${function U9(t){return Object.entries(t).map(([e,n])=>`;${LE(e)}=${LE(n)}`).join("")}(t.parameters)}`}const z9=/^[^\/()?;#]+/;function $E(t){const e=t.match(z9);return e?e[0]:""}const X9=/^[^\/()?;=#]+/,q9=/^[^=?&#]+/,Y9=/^[^&#]+/;class Q9{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ze([],{}):new Ze([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[le]=new Ze(e,n)),r}parseSegment(){const e=$E(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(e),new Pu(Rg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function W9(t){const e=t.match(X9);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=$E(this.remaining);i&&(r=i,this.capture(r))}e[Rg(n)]=Rg(r)}parseQueryParam(e){const n=function K9(t){const e=t.match(q9);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function Z9(t){const e=t.match(Y9);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=nN(n),o=nN(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=$E(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new D(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=le);const s=this.parseChildren();n[o??le]=1===Object.keys(s).length&&s[le]?s[le]:new Ze([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new D(4011,!1)}}function iN(t){return t.segments.length>0?new Ze([],{[le]:t}):t}function oN(t){const e={};for(const[r,i]of Object.entries(t.children)){const o=oN(i);if(r===le&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function J9(t){if(1===t.numberOfChildren&&t.children[le]){const e=t.children[le];return new Ze(t.segments.concat(e.segments),e.children)}return t}(new Ze(t.segments,e))}function Bs(t){return t instanceof di}function aN(t){let e;const i=iN(function n(o){const s={};for(const l of o.children){const c=n(l);s[l.outlet]=c}const a=new Ze(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function lN(t,e,n,r,i){let o=t;for(;o.parent;)o=o.parent;if(0===e.length)return VE(o,o,o,n,r,i);const s=function e7(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new dN(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new dN(n,e,r)}(e);if(s.toRoot())return VE(o,o,new Ze([],{}),n,r,i);const a=function t7(t,e,n){if(t.isAbsolute)return new bg(e,!0,0);if(!n)return new bg(e,!1,NaN);if(null===n.parent)return new bg(n,!0,0);const r=Ag(t.commands[0])?0:1;return function n7(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new D(4005,!1);i=r.segments.length}return new bg(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,o,t),l=a.processChildren?Fu(a.segmentGroup,a.index,s.commands):hN(a.segmentGroup,a.index,s.commands);return VE(o,a.segmentGroup,l,n,r,i)}function Ag(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function xu(t){return"object"==typeof t&&null!=t&&t.outlets}function cN(t,e,n){t||="\u0275";const r=new di;return r.queryParams={[t]:e},n.parse(n.serialize(r)).queryParams[t]}function VE(t,e,n,r,i,o){const s={};for(const[c,u]of Object.entries(r??{}))s[c]=Array.isArray(u)?u.map(d=>cN(c,d,o)):cN(c,u,o);let a;a=t===e?n:uN(t,e,n);const l=iN(oN(a));return new di(l,s,i)}function uN(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:uN(o,e,n)}),new Ze(t.segments,r)}class dN{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ag(r[0]))throw new D(4003,!1);const i=r.find(xu);if(i&&i!==q1(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bg{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function hN(t,e,n){if(t??=new Ze([],{}),0===t.segments.length&&t.hasChildren())return Fu(t,e,n);const r=function i7(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(xu(a))break;const l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!gN(l,c,s))return o;r+=2}else{if(!gN(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new Ze(t.segments.slice(0,r.pathIndex),{});return o.children[le]=new Ze(t.segments.slice(r.pathIndex),t.children),Fu(o,0,i)}return r.match&&0===i.length?new Ze(t.segments,{}):r.match&&!t.hasChildren()?jE(t,e,n):r.match?Fu(t,0,i):jE(t,e,n)}function Fu(t,e,n){if(0===n.length)return new Ze(t.segments,{});{const r=function r7(t){return xu(t[0])?t[0].outlets:{[le]:t}}(n),i={};if(Object.keys(r).some(o=>o!==le)&&t.children[le]&&1===t.numberOfChildren&&0===t.children[le].segments.length){const o=Fu(t.children[le],e,n);return new Ze(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=hN(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Ze(t.segments,i)}}function jE(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(xu(o)){const l=o7(o.outlets);return new Ze(r,l)}if(0===i&&Ag(n[0])){r.push(new Pu(t.segments[e].path,fN(n[0]))),i++;continue}const s=xu(o)?o.outlets[le]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Ag(a)?(r.push(new Pu(s,fN(a))),i+=2):(r.push(new Pu(s,{})),i++)}return new Ze(r,{})}function o7(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=jE(new Ze([],{}),0,r))}),e}function fN(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function gN(t,e,n){return t==n.path&&ui(e,n.parameters)}const Lu="imperative";var Ne=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ne||{});class hi{id;url;constructor(e,n){this.id=e,this.url=n}}class Pg extends hi{type=Ne.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wi extends hi{urlAfterRedirects;type=Ne.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var In=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t}(In||{}),Ng=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ng||{});class Gs extends hi{reason;code;type=Ne.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dl extends hi{reason;code;type=Ne.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}}class BE extends hi{error;target;type=Ne.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pN extends hi{urlAfterRedirects;state;type=Ne.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class s7 extends hi{urlAfterRedirects;state;type=Ne.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a7 extends hi{urlAfterRedirects;state;shouldActivate;type=Ne.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class l7 extends hi{urlAfterRedirects;state;type=Ne.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class c7 extends hi{urlAfterRedirects;state;type=Ne.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class u7{route;type=Ne.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class d7{route;type=Ne.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class h7{snapshot;type=Ne.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class f7{snapshot;type=Ne.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g7{snapshot;type=Ne.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class p7{snapshot;type=Ne.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _N{routerEvent;position;anchor;type=Ne.Scroll;constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class GE{}class kg{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}}function Rn(t){return t.outlet||le}function mN(t,e){const n=t.filter(r=>Rn(r)===e);return n.push(...t.filter(r=>Rn(r)!==e)),n}function wl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class C7{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return wl(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new $u(this.rootInjector)}}let $u=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new C7(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(ie(Yt))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class yN{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=UE(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=UE(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=HE(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return HE(e,this._root).map(n=>n.value)}}function UE(t,e){if(t===e.value)return e;for(const n of e.children){const r=UE(t,n);if(r)return r}return null}function HE(t,e){if(t===e.value)return[e];for(const n of e.children){const r=HE(t,n);if(r.length)return r.unshift(e),r}return[]}class Xt{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Il(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class vN extends yN{snapshot;constructor(e,n){super(e),this.snapshot=n,XE(this,e)}toString(){return this.snapshot.toString()}}function EN(t){const e=function T7(t){const o=new Us([],{},{},"",{},le,t,null,{});return new zE("",new Xt(o,[]))}(t),n=new fr([new Pu("",{})]),r=new fr({}),i=new fr({}),o=new fr({}),s=new fr(""),a=new Vu(n,r,o,s,i,le,t,e.root);return a.snapshot=e.root,new vN(new Xt(a,[]),e)}class Vu{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(vt(c=>c[bu]))??we(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(vt(e=>Sl(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(vt(e=>Sl(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Rl(t,e,n="emptyOnly"){let r;const{routeConfig:i}=t;return r=null===e||"always"!==n&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...i?.data,...t._resolvedData}},i&&TN(i)&&(r.resolve[bu]=i.title),r}class Us{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[bu]}constructor(e,n,r,i,o,s,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Sl(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Sl(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zE extends yN{url;constructor(e,n){super(n),this.url=e,XE(this,n)}toString(){return CN(this._root)}}function XE(t,e){e.value._routerState=t,e.children.forEach(n=>XE(t,n))}function CN(t){const e=t.children.length>0?` { ${t.children.map(CN).join(", ")} } `:"";return`${t.value}${e}`}function WE(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ui(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ui(e.params,n.params)||t.paramsSubject.next(n.params),function x9(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ui(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),ui(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function qE(t,e){const n=ui(t.params,e.params)&&function V9(t,e){return js(t,e)&&t.every((n,r)=>ui(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||qE(t.parent,e.parent))}function TN(t){return"string"==typeof t.title||null===t.title}const M7=new O("");let KE=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=le;activateEvents=new kt;deactivateEvents=new kt;attachEvents=new kt;detachEvents=new kt;routerOutletData=UX();parentContexts=S($u);location=S(Fr);changeDetector=S(Mu);inputBinder=S(Og,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new S7(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=he({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Or]})}return t})();class S7{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Vu?this.route:e===$u?this.childContexts:e===M7?this.outletData:this.parent.get(e,n)}}const Og=new O("");let MN=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=G1([r.queryParams,r.params,r.data]).pipe(ci(([o,s,a],l)=>(a={...o,...s,...a},0===l?we(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function GW(t){const e=Xe(t);if(!e)return null;const n=new _f(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),SN=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=yf({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){1&r&&fe(0,"router-outlet")},dependencies:[KE],encapsulation:2})}return t})();function YE(t){const e=t.children&&t.children.map(YE),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==le&&(n.component=SN),n}function ju(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function w7(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ju(t,r,i);return ju(t,r)})}(t,e,n);return new Xt(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ju(t,a)),s}}const r=function I7(t){return new Vu(new fr(t.url),new fr(t.params),new fr(t.queryParams),new fr(t.fragment),new fr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>ju(t,o));return new Xt(r,i)}}class ZE{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}}const DN="ngNavigationCancelingError";function xg(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Bs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=QE(!1,In.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function QE(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[DN]=!0,n.cancellationCode=e,n}function wN(t){return!!t&&t[DN]}class b7{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),WE(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Il(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Il(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Il(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Il(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new p7(o.value.snapshot))}),e.children.length&&this.forwardEvent(new f7(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(WE(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),WE(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}}class IN{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Fg{component;route;constructor(e,n){this.component=e,this.route=n}}function P7(t,e,n){const r=t._root;return Bu(r,e?e._root:null,n,[r.value])}function Al(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function l2(t){return null!==jd(t)}(t)?e.get(t):t:r}function Bu(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Il(e);return t.children.forEach(s=>{(function k7(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function O7(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!js(t.url,e.url);case"pathParamsOrQueryParamsChange":return!js(t.url,e.url)||!ui(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qE(t,e)||!ui(t.queryParams,e.queryParams);default:return!qE(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new IN(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Bu(t,e,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Fg(a.outlet.component,s))}else s&&Gu(e,a,i),i.canActivateChecks.push(new IN(r)),Bu(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Gu(a,n.getContext(s),i)),i}function Gu(t,e,n){const r=Il(t),i=t.value;Object.entries(r).forEach(([o,s])=>{Gu(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Fg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Uu(t){return"function"==typeof t}function JE(t){return t instanceof bE||"EmptyError"===t?.name}const Lg=Symbol("INITIAL_VALUE");function bl(){return ci(t=>G1(t.map(e=>e.pipe(Ml(1),function R9(...t){const e=Tg(t);return Tn((n,r)=>{(e?PE(t,n,e):PE(t,n)).subscribe(r)})}(Lg)))).pipe(vt(e=>{for(const n of e)if(!0!==n){if(n===Lg)return Lg;if(!1===n||B7(n))return n}return!0}),Xi(e=>e!==Lg),Ml(1)))}function B7(t){return Bs(t)||t instanceof ZE}function RN(t){return t.aborted?we(void 0).pipe(Ml(1)):new Pt(e=>{const n=()=>{e.next(),e.complete()};return t.addEventListener("abort",n),()=>t.removeEventListener("abort",n)})}function AN(t){return kE(RN(t))}function PN(t){return function KL(...t){return AM(t)}(or(e=>{if("boolean"!=typeof e)throw xg(0,e)}),vt(e=>!0===e))}let Hs=class PL extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,PL.prototype)}},eC=class NL extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,NL.prototype)}};function Z7(t){throw new D(4e3,!1)}let J7=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){return tt(function*(){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return r;if(i.numberOfChildren>1||!i.children[le])throw Z7();i=i.children[le]}})()}applyRedirectCommands(e,n,r,i,o){var s=this;return tt(function*(){const a=yield function eK(t,e,n){if("string"==typeof t)return Promise.resolve(t);const r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:c,data:u,title:d}=e;return Sg(bo(jn(n,()=>r({params:c,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:d}))))}(n,i,o);if(a instanceof di)throw new eC(a);const l=s.applyRedirectCreateUrlTree(a,s.urlSerializer.parse(a),e,r);if("/"===a[0])throw new eC(l);return l})()}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new di(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&":"===o[0]){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Ze(o,s)}createSegments(e,n,r,i){return n.map(o=>":"===o.path[0]?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new D(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};const tC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function NN(t,e,n,r,i,o){const s=nC(t,e,n);return s.matched?(r=function m7(t,e){return t.providers&&!t._injector&&(t._injector=mf(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Y7(t,e,n,r,i){const o=e.canMatch;return o&&0!==o.length?we(o.map(a=>{const l=Al(a,t);let u=bo(function j7(t){return t&&Uu(t.canMatch)}(l)?l.canMatch(e,n):jn(t,()=>l(e,n)));return i?u.pipe(AN(i)):u})).pipe(bl(),PN()):we(!0)}(r,e,n,0,o).pipe(vt(a=>!0===a?s:{...tC}))):we(s)}function nC(t,e,n){if("**"===e.path)return function tK(t){return{matched:!0,parameters:t.length>0?q1(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...tC}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||O9)(n,t,e);if(!i)return{...tC};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function $g(t,e,n,r){return n.length>0&&function iK(t,e,n){return n.some(r=>Hu(t,e,r)&&Rn(r)!==le)}(t,n,r)?{segmentGroup:new Ze(e,rK(r,new Ze(n,t.children))),slicedSegments:[]}:0===n.length&&function oK(t,e,n){return n.some(r=>Hu(t,e,r))}(t,n,r)?{segmentGroup:new Ze(t.segments,nK(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ze(t.segments,t.children),slicedSegments:n}}function nK(t,e,n,r){const i={};for(const o of n)if(Hu(t,e,o)&&!r[Rn(o)]){const s=new Ze([],{});i[Rn(o)]=s}return{...r,...i}}function rK(t,e){const n={};n[le]=e;for(const r of t)if(""===r.path&&Rn(r)!==le){const i=new Ze([],{});n[Rn(r)]=i}return n}function Hu(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}let sK=class{};function aK(t,e,n,r,i,o){return rC.apply(this,arguments)}function rC(){return(rC=tt(function*(t,e,n,r,i,o,s="emptyOnly",a){return new cK(t,e,n,r,i,s,o,a).recognize()})).apply(this,arguments)}let cK=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a,l){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=l,this.applyRedirects=new J7(this.urlSerializer,this.urlTree)}noMatchError(e){return new D(4002,`'${e.segmentGroup}'`)}recognize(){var e=this;return tt(function*(){const n=$g(e.urlTree.root,[],[],e.config).segmentGroup,{children:r,rootSnapshot:i}=yield e.match(n),o=new Xt(i,r),s=new zE("",o),a=function sN(t,e,n=null,r=null,i=new ku){return lN(aN(t),e,n,r,i)}(i,[],e.urlTree.queryParams,e.urlTree.fragment);return a.queryParams=e.urlTree.queryParams,s.url=e.urlSerializer.serialize(a),{state:s,tree:a}})()}match(e){var n=this;return tt(function*(){const r=new Us([],Object.freeze({}),Object.freeze({...n.urlTree.queryParams}),n.urlTree.fragment,Object.freeze({}),le,n.rootComponentType,null,{});try{return{children:yield n.processSegmentGroup(n.injector,n.config,e,le,r),rootSnapshot:r}}catch(i){if(i instanceof eC)return n.urlTree=i.urlTree,n.match(i.urlTree.root);throw i instanceof Hs?n.noMatchError(i):i}})()}processSegmentGroup(e,n,r,i,o){var s=this;return tt(function*(){if(0===r.segments.length&&r.hasChildren())return s.processChildren(e,n,r,o);const a=yield s.processSegment(e,n,r,r.segments,i,!0,o);return a instanceof Xt?[a]:[]})()}processChildren(e,n,r,i){var o=this;return tt(function*(){const s=[];for(const c of Object.keys(r.children))"primary"===c?s.unshift(c):s.push(c);let a=[];for(const c of s){const u=r.children[c],d=mN(n,c),h=yield o.processSegmentGroup(e,d,u,c,i);a.push(...h)}const l=ON(a);return function uK(t){t.sort((e,n)=>e.value.outlet===le?-1:n.value.outlet===le?1:e.value.outlet.localeCompare(n.value.outlet))}(l),l})()}processSegment(e,n,r,i,o,s,a){var l=this;return tt(function*(){for(const c of n)try{return yield l.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a)}catch(u){if(u instanceof Hs||JE(u))continue;throw u}if(function kN(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o))return new sK;throw new Hs(r)})()}processSegmentAgainstRoute(e,n,r,i,o,s,a,l){var c=this;return tt(function*(){if(Rn(r)!==s&&(s===le||!Hu(i,o,r)))throw new Hs(i);if(void 0===r.redirectTo)return c.matchSegmentAgainstRoute(e,i,r,o,s,l);if(c.allowRedirects&&a)return c.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,l);throw new Hs(i)})()}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){var l=this;return tt(function*(){const{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:h,remainingSegments:f}=nC(n,i,o);if(!c)throw new Hs(n);"string"==typeof i.redirectTo&&"/"===i.redirectTo[0]&&(l.absoluteRedirectCount++,l.absoluteRedirectCount>31&&(l.allowRedirects=!1));const g=new Us(o,u,Object.freeze({...l.urlTree.queryParams}),l.urlTree.fragment,xN(i),Rn(i),i.component??i._loadedComponent??null,i,FN(i)),p=Rl(g,a,l.paramsInheritanceStrategy);if(g.params=Object.freeze(p.params),g.data=Object.freeze(p.data),l.abortSignal.aborted)throw new Error(l.abortSignal.reason);const _=yield l.applyRedirects.applyRedirectCommands(d,i.redirectTo,h,g,e),m=yield l.applyRedirects.lineralizeSegments(i,_);return l.processSegment(e,r,n,m.concat(f),s,!1,a)})()}matchSegmentAgainstRoute(e,n,r,i,o,s){var a=this;return tt(function*(){if(a.abortSignal.aborted)throw new Error(a.abortSignal.reason);const l=yield Sg(NN(n,r,i,e,0,a.abortSignal));if("**"===r.path&&(n.children={}),!l?.matched)throw new Hs(n);e=r._injector??e;const{routes:c}=yield a.getChildConfig(e,r,i),u=r._loadedInjector??e,{parameters:d,consumedSegments:h,remainingSegments:f}=l,g=new Us(h,d,Object.freeze({...a.urlTree.queryParams}),a.urlTree.fragment,xN(r),Rn(r),r.component??r._loadedComponent??null,r,FN(r)),p=Rl(g,s,a.paramsInheritanceStrategy);g.params=Object.freeze(p.params),g.data=Object.freeze(p.data);const{segmentGroup:_,slicedSegments:m}=$g(n,h,f,c);if(0===m.length&&_.hasChildren()){const E=yield a.processChildren(u,c,_,g);return new Xt(g,E)}if(0===c.length&&0===m.length)return new Xt(g,[]);const y=Rn(r)===o,v=yield a.processSegment(u,c,_,m,y?le:o,!0,g);return new Xt(g,v instanceof Xt?[v]:[])})()}getChildConfig(e,n,r){var i=this;return tt(function*(){if(n.children)return{routes:n.children,injector:e};if(n.loadChildren){if(void 0!==n._loadedRoutes)return{routes:n._loadedRoutes,injector:n._loadedInjector};if(i.abortSignal.aborted)throw new Error(i.abortSignal.reason);if(yield Sg(function bN(t,e,n,r,i){const o=e.canLoad;return void 0===o||0===o.length?we(!0):we(o.map(a=>{const l=Al(a,t),u=bo(function F7(t){return t&&Uu(t.canLoad)}(l)?l.canLoad(e,n):jn(t,()=>l(e,n)));return i?u.pipe(AN(i)):u})).pipe(bl(),PN())}(e,n,r,0,i.abortSignal))){const s=yield i.configLoader.loadChildren(e,n);return n._loadedRoutes=s.routes,n._loadedInjector=s.injector,s}throw function Q7(){throw QE(!1,In.GuardRejected)}()}return{routes:[],injector:e}})()}};function dK(t){const e=t.value.routeConfig;return e&&""===e.path}function ON(t){const e=[],n=new Set;for(const r of t){if(!dK(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=ON(r.children);e.push(new Xt(r.value,i))}return e.filter(r=>!n.has(r))}function xN(t){return t.data||{}}function FN(t){return t.resolve||{}}Error;const jN=new O("",{factory:()=>aK});function BN(t){const e=t.children.map(n=>BN(n)).flat();return[t,...e]}function sC(t){return ci(e=>{const n=t(e);return n?tn(n).pipe(vt(()=>e)):we(e)})}let GN=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===le);return r}getResolvedTitleForRoute(n){return n.data[bu]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>S(IK),providedIn:"root"})}return t})(),IK=(()=>{class t extends GN{title;constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(ie(A9))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Nl=new O("",{factory:()=>({})}),Vg=new O("");let aC=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=S(AX);loadComponent(n,r){var i=this;return tt(function*(){if(i.componentLoaders.get(r))return i.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);i.onLoadStartListener&&i.onLoadStartListener(r);const o=tt(function*(){try{const s=yield K1(jn(n,()=>r.loadComponent())),a=yield HN(UN(s));return i.onLoadEndListener&&i.onLoadEndListener(r),r._loadedComponent=a,a}finally{i.componentLoaders.delete(r)}})();return i.componentLoaders.set(r,o),o})()}loadChildren(n,r){var i=this;if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=tt(function*(){try{const s=yield function RK(t,e,n,r){return lC.apply(this,arguments)}(r,i.compiler,n,i.onLoadEndListener);return r._loadedRoutes=s.routes,r._loadedInjector=s.injector,s}finally{i.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function lC(){return(lC=tt(function*(t,e,n,r){const i=yield K1(jn(n,()=>t.loadChildren())),o=yield HN(UN(i));let s;s=o instanceof z0||Array.isArray(o)?o:yield e.compileModuleAsync(o),r&&r(t);let a,l;return Array.isArray(s)?l=s:(a=s.create(n).injector,l=a.get(Vg,[],{optional:!0,self:!0}).flat()),{routes:l.map(YE),injector:a}})).apply(this,arguments)}function UN(t){return function AK(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}function HN(t){return cC.apply(this,arguments)}function cC(){return(cC=tt(function*(t){return t})).apply(this,arguments)}let uC=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>S(bK),providedIn:"root"})}return t})(),bK=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const zN=new O(""),XN=new O("");function PK(t,e,n){const r=t.get(XN),i=t.get(Cn);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o;const s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),function NK(t){return new Promise(e=>{Bh({read:()=>setTimeout(e)},{injector:t})})}(t)));a.ready.catch(c=>{}),a.finished.catch(c=>{});const{onViewTransitionCreated:l}=r;return l&&jn(t,()=>l({transition:a,from:e,to:n})),s}const kK=()=>{},WN=new O("");let dC=(()=>{class t{currentNavigation=ri(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=ri(null);events=new hr;transitionAbortWithErrorSubject=new hr;configLoader=S(aC);environmentInjector=S(Yt);destroyRef=S(kr);urlSerializer=S(Nu);rootContexts=S($u);location=S(Du);inputBindingEnabled=null!==S(Og,{optional:!0});titleStrategy=S(GN);options=S(Nl,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=S(uC);createViewTransition=S(zN,{optional:!0});navigationErrorHandler=S(WN,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>we(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=i=>this.events.next(new d7(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new u7(i)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;Je(()=>{this.transitions?.next({...n,extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r})})}setupNavigations(n){return this.transitions=new fr(null),this.transitions.pipe(Xi(r=>null!==r),ci(r=>{let i=!1;const o=new AbortController;return we(r).pipe(ci(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",In.SupersededByNewNavigation),Vr;this.currentTransition=r;const a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:"string"==typeof s.extras.browserUrl?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?{...a,previousNavigation:null}:null,abort:()=>o.abort()});const l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(s.extras.onSameUrlNavigation??n.onSameUrlNavigation))return this.events.next(new Dl(s.id,this.urlSerializer.serialize(s.rawUrl),"",Ng.IgnoredSameUrlNavigation)),s.resolve(!1),Vr;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return we(s).pipe(ci(u=>(this.events.next(new Pg(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Vr:Promise.resolve(u))),function TK(t,e,n,r,i,o,s){const a=t.get(jN);return Cr(l=>we(l).pipe(ci(c=>a(t,e,n,r,c.extractedUrl,i,o,s)),vt(({state:c,tree:u})=>({...l,targetSnapshot:c,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),or(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));const d=new pN(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){const{id:u,extractedUrl:d,source:h,restoredState:f,extras:g}=s,p=new Pg(u,this.urlSerializer.serialize(d),h,f);this.events.next(p);const _=EN(this.rootComponentType).snapshot;return this.currentTransition=r={...s,targetSnapshot:_,urlAfterRedirects:d,extras:{...g,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.update(m=>(m.finalUrl=d,m)),we(r)}return this.events.next(new Dl(s.id,this.urlSerializer.serialize(s.extractedUrl),"",Ng.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Vr}),or(s=>{const a=new s7(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),vt(s=>(this.currentTransition=r={...s,guards:P7(s.targetSnapshot,s.currentSnapshot,this.rootContexts)},r)),function G7(t,e){return Cr(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?we({...n,guardsResult:!0}):function U7(t,e,n,r){return tn(t).pipe(Cr(i=>function K7(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?we(o.map(a=>{const l=wl(e)??i,c=Al(a,l);return bo(function V7(t){return t&&Uu(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):jn(l,()=>c(t,e,n,r))).pipe(Vs())})).pipe(bl()):we(!0)}(i.component,i.route,n,e,r)),Vs(i=>!0!==i,!0))}(s,r,i,t).pipe(Cr(a=>a&&function x7(t){return"boolean"==typeof t}(a)?function H7(t,e,n,r){return tn(e).pipe(Mg(i=>PE(function X7(t,e){return null!==t&&e&&e(new h7(t)),we(!0)}(i.route.parent,r),function z7(t,e){return null!==t&&e&&e(new g7(t)),we(!0)}(i.route,r),function q7(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function N7(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>NE(()=>we(s.guards.map(l=>{const c=wl(s.node)??n,u=Al(l,c);return bo(function $7(t){return t&&Uu(t.canActivateChild)}(u)?u.canActivateChild(r,t):jn(c,()=>u(r,t))).pipe(Vs())})).pipe(bl())));return we(o).pipe(bl())}(t,i.path,n),function W7(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return we(!0);const i=r.map(o=>NE(()=>{const s=wl(e)??n,a=Al(o,s);return bo(function L7(t){return t&&Uu(t.canActivate)}(a)?a.canActivate(e,t):jn(s,()=>a(e,t))).pipe(Vs())}));return we(i).pipe(bl())}(t,i.route,n))),Vs(i=>!0!==i,!0))}(r,o,t,e):we(a)),vt(a=>({...n,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),or(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&"boolean"!=typeof s.guardsResult)throw xg(0,s.guardsResult);const a=new a7(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Xi(s=>!!s.guardsResult||(this.cancelNavigationTransition(s,"",In.GuardRejected),!1)),sC(s=>{if(0!==s.guards.canActivateChecks.length)return we(s).pipe(or(a=>{const l=new l7(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),ci(a=>{let l=!1;return we(a).pipe(function MK(t,e){return Cr(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return we(n);const o=new Set(i.map(l=>l.route)),s=new Set;for(const l of o)if(!s.has(l))for(const c of BN(l))s.add(c);let a=0;return tn(s).pipe(Mg(l=>o.has(l)?function SK(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!TN(i)&&(o[bu]=i.title),NE(()=>(t.data=Rl(t,t.parent,n).resolve,function DK(t,e,n,r){const i=FE(t);if(0===i.length)return we({});const o={};return tn(i).pipe(Cr(s=>function wK(t,e,n,r){const i=wl(e)??r,o=Al(t,i);return bo(o.resolve?o.resolve(e,n):jn(i,()=>o(e,n)))}(t[s],e,n,r).pipe(Vs(),or(a=>{if(a instanceof ZE)throw xg(new ku,a);o[s]=a}))),H1(1),vt(()=>o),OE(s=>JE(s)?Vr:function S9(t,e){const n=gt(t)?t:()=>t,r=i=>i.error(n());return new Pt(e?i=>e.schedule(r,0,i):r)}(s)))}(o,t,e,r).pipe(vt(s=>(t._resolvedData=s,t.data={...t.data,...s},null)))))}(l,r,t,e):(l.data=Rl(l,l.parent,t).resolve,we(void 0))),or(()=>a++),H1(1),Cr(l=>a===s.size?we(n):Vr))})}(this.paramsInheritanceStrategy,this.environmentInjector),or({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",In.NoDataFromResolver)}}))}),or(a=>{const l=new c7(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),sC(s=>{const a=c=>{const u=[];if(c.routeConfig?._loadedComponent)c.component=c.routeConfig?._loadedComponent;else if(c.routeConfig?.loadComponent){const d=wl(c)??this.environmentInjector;u.push(this.configLoader.loadComponent(d,c.routeConfig).then(h=>{c.component=h}))}for(const d of c.children)u.push(...a(d));return u},l=a(s.targetSnapshot.root);return 0===l.length?we(s):tn(Promise.all(l).then(()=>s))}),sC(()=>this.afterPreactivation()),ci(()=>{const{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?tn(l).pipe(vt(()=>r)):we(r)}),vt(s=>{const a=function D7(t,e,n){const r=ju(t,e._root,n?n._root:void 0);return new vN(r,e)}(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r={...s,targetRouterState:a},this.currentNavigation.update(l=>(l.targetRouterState=a,l)),r}),or(()=>{this.events.next(new GE)}),((t,e,n,r)=>vt(i=>(new b7(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Ml(1),kE(RN(o.signal).pipe(Xi(()=>!i&&!r.targetRouterState),or(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",In.Aborted)}))),or({next:s=>{i=!0,this.currentNavigation.update(a=>(a.abort=kK,a)),this.lastSuccessfulNavigation.set(Je(this.currentNavigation)),this.events.next(new Wi(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),kE(this.transitionAbortWithErrorSubject.pipe(or(s=>{throw s}))),xE(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",In.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),OE(s=>{if(this.destroyed)return r.resolve(!1),Vr;if(i=!0,wN(s))this.events.next(new Gs(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),function R7(t){return wN(t)&&Bs(t.url)}(s)?this.events.next(new kg(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{const a=new BE(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{const l=jn(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(!(l instanceof ZE))throw this.events.next(a),s;{const{message:c,cancellationCode:u}=xg(0,l);this.events.next(new Gs(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new kg(l.redirectTo,l.navigationBehaviorOptions))}}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Vr}))}))}cancelNavigationTransition(n,r,i){const o=new Gs(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Je(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function OK(t){return t!==Lu}let xK=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>S(LK),providedIn:"root"})}return t})();class FK{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let LK=(()=>{class t extends FK{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Lt(t)))(i||t)}})();static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qN=(()=>{class t{urlSerializer=S(Nu);options=S(Nl,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=S(Du);urlHandlingStrategy=S(uC);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new di;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){const o=void 0!==n?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof di?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=EN(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>S($K),providedIn:"root"})}return t})(),$K=(()=>{class t extends qN{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Pg?this.updateStateMemento():n instanceof Dl?this.commitTransition(r):n instanceof pN?"eager"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof GE?(this.commitTransition(r),"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Gs&&n.code!==In.SupersededByNewNavigation&&n.code!==In.Redirect?this.restoreHistory(r):n instanceof BE?this.restoreHistory(r,!0):n instanceof Wi&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){const{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){const a=this.browserPageId,l={...s,...this.generateNgRouterState(i,a)};this.location.replaceState(n,"",l)}else{const a={...s,...this.generateNgRouterState(i,this.browserPageId+1)};this.location.go(n,"",a)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&0===o&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Lt(t)))(i||t)}})();static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function KN(t,e){t.events.pipe(Xi(n=>n instanceof Wi||n instanceof Gs||n instanceof BE||n instanceof Dl),vt(n=>n instanceof Wi||n instanceof Dl?0:n instanceof Gs&&(n.code===In.Redirect||n.code===In.SupersededByNewNavigation)?2:1),Xi(n=>2!==n),Ml(1)).subscribe(()=>{e()})}const VK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qi=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=S(_R);stateManager=S(qN);options=S(Nl,{optional:!0})||{};pendingTasks=S(_o);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=S(dC);urlSerializer=S(Nu);location=S(Du);urlHandlingStrategy=S(uC);injector=S(Yt);_events=new hr;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=S(xK);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=S(Vg,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!S(Og,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new er;subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,o=Je(this.navigationTransitions.currentNavigation);if(null!==i&&null!==o)if(this.stateManager.handleRouterEvent(r,o),r instanceof Gs&&r.code!==In.Redirect&&r.code!==In.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Wi)this.navigated=!0;else if(r instanceof kg){const s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l={browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||"eager"===this.urlUpdateStrategy||OK(i.source),...s};this.scheduleNavigation(a,Lu,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function _7(t){return!(t instanceof GE||t instanceof kg)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Lu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(l=>{this.disposed||this.injector.get(ni)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Je(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(YE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s;let d,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=aN(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||"/"!==n[0][0])&&(n=[]),d=this.currentUrlTree.root}return lN(d,n,u,c??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Bs(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Lu,null,r)}navigate(n,r={skipLocationChange:!1}){return function BK(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new D(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Ln(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(i=!0===r?{...VK}:!1===r?{...jK}:r,Bs(n))return Z1(this.currentUrlTree,n,i);const o=this.parseUrl(n);return Z1(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(null!=o&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h});const u=this.pendingTasks.add();return KN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class YN{}let HK=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o){this.router=n,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Xi(n=>n instanceof Wi),Mg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=mf(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return tn(i).pipe(Ru())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?tn(this.loader.loadChildren(n,r)):we(null);const o=i.pipe(Cr(s=>null===s?we(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?tn([o,this.loader.loadComponent(n,r)]).pipe(Ru()):o})}static \u0275fac=function(r){return new(r||t)(ie(qi),ie(Yt),ie(YN),ie(aC))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const fC=new O("");let ZN=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Lu;restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Pg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Wi?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Dl&&n.code===Ng.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{if(!(n instanceof _N))return;const r={behavior:"instant"};n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0],r):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position,r):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(n,r){var i=this;this.zone.runOutsideAngular(tt(function*(){yield new Promise(o=>{setTimeout(o),typeof requestAnimationFrame<"u"&&requestAnimationFrame(o)}),i.zone.run(()=>{i.transitions.events.next(new _N(n,"popstate"===i.lastSource?i.store[i.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){!function g0(){throw new Error("invalid")}()};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})();function jr(t,e){return{\u0275kind:t,\u0275providers:e}}function JN(){const t=S(Bn);return e=>{const n=t.get(Bi);if(e!==n.components[0])return;const r=t.get(qi),i=t.get(ek);1===t.get(gC)&&r.initialNavigation(),t.get(tk,null,{optional:!0})?.setUpPreloading(),t.get(fC,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const ek=new O("",{factory:()=>new hr}),gC=new O("",{factory:()=>1}),tk=new O("");function KK(t){return jr(0,[{provide:tk,useExisting:HK},{provide:YN,useExisting:t}])}function ZK(t){return Qt("NgRouterViewTransitions"),jr(9,[{provide:zN,useValue:PK},{provide:XN,useValue:{skipNextTransition:!!t?.skipInitialTransition,...t}}])}const QK=[Du,{provide:Nu,useClass:ku},qi,$u,{provide:Vu,useFactory:function QN(){return S(qi).routerState.root}},aC,[]];let nk=(()=>{class t{constructor(){}static forRoot(n,r){return{ngModule:t,providers:[QK,[],{provide:Vg,multi:!0,useValue:n},[],r?.errorHandler?{provide:WN,useValue:r.errorHandler}:[],{provide:Nl,useValue:r||{}},r?.useHash?{provide:$s,useClass:XW}:{provide:$s,useClass:jP},{provide:fC,useFactory:()=>{const t=S(D$),e=S(ot),n=S(Nl),r=S(dC),i=S(Nu);return n.scrollOffset&&t.setOffset(n.scrollOffset),new ZN(i,r,t,e,n)}},r?.preloadingStrategy?KK(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?nY(r):[],r?.bindToComponentInputs?jr(8,[MN,{provide:Og,useExisting:MN}]).\u0275providers:[],r?.enableViewTransitions?ZK().\u0275providers:[],[{provide:rk,useFactory:JN},{provide:jR,multi:!0,useExisting:rk}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Vg,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ji({type:t});static \u0275inj=Zr({})}return t})();function nY(t){return["disabled"===t.initialNavigation?jr(3,[$R(()=>{S(qi).setUpLocationChangeListener()}),{provide:gC,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?jr(2,[{provide:I8,useValue:!0},{provide:gC,useValue:0},$R(()=>{const e=S(Bn);return e.get(T$,Promise.resolve()).then(()=>new Promise(r=>{const i=e.get(qi),o=e.get(ek);KN(i,()=>{r(!0)}),e.get(dC).afterPreactivation=()=>(r(!0),o.closed?we(void 0):o),i.initialNavigation()}))})]).\u0275providers:[]]}const rk=new O(""),iY=[];let oY=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ji({type:t})}static{this.\u0275inj=Zr({imports:[nk.forRoot(iY),nk]})}}return t})();const Ki=class sY{constructor(e){this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}},pC=class aY{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}};function zs(t,e){return t>e?1:t<e?-1:0}function _C(t,e,n){const r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;let i;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return"function"==typeof n?n(e,t[i-1],t[i])>0?i-1:i:t[i-1]-e<e-t[i]?i-1:i}return r-1}function cY(t,e,n){for(;e<n;){const r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function Yi(t,e){const n=Array.isArray(e)?e:[e],r=n.length;for(let i=0;i<r;i++)t[t.length]=n[i]}function Po(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function zu(){return!0}function jg(){return!1}function Ol(){}function Xu(t){for(const e in t)delete t[e]}function xl(t){let e;for(e in t)return!1;return!e}const Wu=class hY extends pC{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const r=this.listeners_||(this.listeners_={}),i=r[e]||(r[e]=[]);i.includes(n)||i.push(n)}dispatchEvent(e){const n="string"==typeof e,r=n?e:e.type,i=this.listeners_&&this.listeners_[r];if(!i)return;const o=n?new Ki(e):e;o.target||(o.target=this.eventTarget_||this);const s=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});let l;r in s||(s[r]=0,a[r]=0),++s[r];for(let c=0,u=i.length;c<u;++c)if(l="handleEvent"in i[c]?i[c].handleEvent(o):i[c].call(this,o),!1===l||o.propagationStopped){l=!1;break}if(0===--s[r]){let c=a[r];for(delete a[r];c--;)this.removeEventListener(r,Ol);delete s[r]}return l}disposeInternal(){this.listeners_&&Xu(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(e,n){const r=this.listeners_&&this.listeners_[e];if(r){const i=r.indexOf(n);-1!==i&&(this.pendingRemovals_&&e in this.pendingRemovals_?(r[i]=Ol,++this.pendingRemovals_[e]):(r.splice(i,1),0===r.length&&delete this.listeners_[e]))}}};function Ve(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){const s=n;n=function(){t.removeEventListener(e,n),s.apply(this,arguments)}}const o={target:t,type:e,listener:n};return t.addEventListener(e,n),o}function Bg(t,e,n,r){return Ve(t,e,n,r,!0)}function mt(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Xu(t))}const ik=class Gg extends Wu{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent("change")}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const r=e.length,i=new Array(r);for(let o=0;o<r;++o)i[o]=Ve(this,e[o],n);return i}return Ve(this,e,n)}onceInternal(e,n){let r;if(Array.isArray(e)){const i=e.length;r=new Array(i);for(let o=0;o<i;++o)r[o]=Bg(this,e[o],n)}else r=Bg(this,e,n);return n.ol_key=r,r}unInternal(e,n){const r=n.ol_key;if(r)!function fY(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)mt(t[e]);else mt(t)}(r);else if(Array.isArray(e))for(let i=0,o=e.length;i<o;++i)this.removeEventListener(e[i],n);else this.removeEventListener(e,n)}};function ge(){throw new Error("Unimplemented abstract method.")}let gY=0;function He(t){return t.ol_uid||(t.ol_uid=String(++gY))}class ok extends Ki{constructor(e,n,r){super(e),this.key=n,this.oldValue=r}}const fi=class pY extends ik{constructor(e){super(),He(this),this.values_=null,void 0!==e&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(e,n){let r;r=`change:${e}`,this.hasListener(r)&&this.dispatchEvent(new ok(r,e,n)),r="propertychange",this.hasListener(r)&&this.dispatchEvent(new ok(r,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,r){const i=this.values_||(this.values_={});if(r)i[e]=n;else{const o=i[e];i[e]=n,o!==n&&this.notify(e,o)}}setProperties(e,n){for(const r in e)this.set(r,e[r],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const r=this.values_[e];delete this.values_[e],xl(this.values_)&&(this.values_=null),n||this.notify(e,r)}}},_Y={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};class mY extends Error{constructor(e){const n=_Y[e];super(n),this.code=e,this.name="AssertionError",this.message=n}}const sk=mY;class Ug extends Ki{constructor(e,n,r){super(e),this.element=n,this.index=r}}const gi=class yY extends fi{constructor(e,n){if(super(),this.unique_=!!(n=n||{}).unique,this.array_=e||[],this.unique_)for(let r=0,i=this.array_.length;r<i;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,r=e.length;n<r;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)e(n[r],r,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get("length")}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new Ug("add",n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)if(n[r]===e)return this.removeAt(r)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Ug("remove",n,e)),n}setAt(e,n){if(e>=this.getLength())return void this.insertAt(e,n);if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const i=this.array_[e];this.array_[e]=n,this.dispatchEvent(new Ug("remove",i,e)),this.dispatchEvent(new Ug("add",n,e))}updateLength_(){this.set("length",this.array_.length)}assertUnique_(e,n){for(let r=0,i=this.array_.length;r<i;++r)if(this.array_[r]===e&&r!==n)throw new sk(58)}},No=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",vY=No.includes("firefox"),EY=(No.includes("safari")&&!No.includes("chrom")&&(No.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(No)),No.includes("webkit")&&!No.includes("edge")),CY=No.includes("macintosh"),lk=typeof devicePixelRatio<"u"?devicePixelRatio:1,mC=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,TY=typeof Image<"u"&&Image.prototype.decode,ck=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}();function Ie(t,e){if(!t)throw new sk(e)}function Wt(t,e){const n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function Zi(t,e,n,r,i,o,s,a){const l=Math.sin(o),c=Math.cos(o);return t[0]=r*c,t[1]=i*l,t[2]=-r*l,t[3]=i*c,t[4]=s*r*c-a*r*l+e,t[5]=s*i*l+a*i*c+n,t}function Hg(t,e){const n=function DY(t){return t[0]*t[3]-t[1]*t[2]}(e);Ie(0!==n,32);const r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=e[5];return t[0]=s/n,t[1]=-i/n,t[2]=-o/n,t[3]=r/n,t[4]=(o*l-s*a)/n,t[5]=-(r*l-i*a)/n,t}let uk;function EC(t){const e="matrix("+t.join(", ")+")";if(mC)return e;const n=uk||(uk=document.createElement("div"));return n.style.transform=e,n.style.transform}new Array(6);function CC(t){const e=[1/0,1/0,-1/0,-1/0];for(let n=0,r=t.length;n<r;++n)Fl(e,t[n]);return e}function TC(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function dk(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function Xs(t,e,n){let r,i;return r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,i=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0,r*r+i*i}function zg(t,e){return MC(t,e[0],e[1])}function Ws(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function MC(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function SC(t,e){const s=e[0],a=e[1];let l=0;return s<t[0]?l|=16:s>t[2]&&(l|=4),a<t[1]?l|=8:a>t[3]&&(l|=2),0===l&&(l=1),l}function pi(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function qs(t){return pi(1/0,1/0,-1/0,-1/0,t)}function hk(t,e,n,r,i){return pk(qs(i),t,e,n,r)}function Ku(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function fk(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function Fl(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function pk(t,e,n,r,i){for(;n<r;n+=i)AY(t,e[n],e[n+1]);return t}function AY(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function _k(t,e){let n;return n=e(Wg(t)),!!(n||(n=e(qg(t)),n)||(n=e(Kg(t)),n)||(n=e(Ys(t)),n))&&n}function Xg(t){let e=0;return IC(t)||(e=dt(t)*sr(t)),e}function Wg(t){return[t[0],t[1]]}function qg(t){return[t[2],t[1]]}function Ks(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function bY(t,e){let n;return"bottom-left"===e?n=Wg(t):"bottom-right"===e?n=qg(t):"top-left"===e?n=Ys(t):"top-right"===e?n=Kg(t):Ie(!1,13),n}function DC(t,e,n,r,i){const[o,s,a,l,c,u,d,h]=wC(t,e,n,r);return pi(Math.min(o,a,c,d),Math.min(s,l,u,h),Math.max(o,a,c,d),Math.max(s,l,u,h),i)}function wC(t,e,n,r){const i=e*r[0]/2,o=e*r[1]/2,s=Math.cos(n),a=Math.sin(n),l=i*s,c=i*a,u=o*s,d=o*a,h=t[0],f=t[1];return[h-l+d,f-c-u,h-l-d,f-c+u,h+l-d,f+c+u,h+l+d,f+c-u,h-l+d,f-c-u]}function sr(t){return t[3]-t[1]}function Ll(t,e,n){const r=n||[1/0,1/0,-1/0,-1/0];return An(t,e)?(r[0]=t[0]>e[0]?t[0]:e[0],r[1]=t[1]>e[1]?t[1]:e[1],r[2]=t[2]<e[2]?t[2]:e[2],r[3]=t[3]<e[3]?t[3]:e[3]):qs(r),r}function Ys(t){return[t[0],t[3]]}function Kg(t){return[t[2],t[3]]}function dt(t){return t[2]-t[0]}function An(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function IC(t){return t[2]<t[0]||t[3]<t[1]}function mk(t,e){const n=e.getExtent(),r=Ks(t);if(e.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){const i=dt(n),s=Math.floor((r[0]-n[0])/i)*i;t[0]-=s,t[2]-=s}return t}function jt(t,e,n){return Math.min(Math.max(t,e),n)}function xY(t,e,n,r,i,o){const s=i-n,a=o-r;if(0!==s||0!==a){const l=((t-n)*s+(e-r)*a)/(s*s+a*a);l>1?(n=i,r=o):l>0&&(n+=s*l,r+=a*l)}return Zs(t,e,n,r)}function Zs(t,e,n,r){const i=n-t,o=r-e;return i*i+o*o}function Yg(t){return t*Math.PI/180}function $l(t,e){const n=t%e;return n*e<0?n+e:n}function ar(t,e,n){return t+n*(e-t)}function Zg(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function Qg(t,e){return Math.floor(Zg(t,e))}function Jg(t,e){return Math.ceil(Zg(t,e))}const yk=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,vk=/^([a-z]*)$|^hsla?\(.*\)$/i;function Ek(t){return"string"==typeof t?t:Mk(t)}const LY=function(){const e={};let n=0;return function(r){let i;if(e.hasOwnProperty(r))i=e[r];else{if(n>=1024){let o=0;for(const s in e)!(3&o++)&&(delete e[s],--n)}i=function $Y(t){let e,n,r,i,o;if(vk.exec(t)&&(t=function Ck(t){const e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);const n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}(t)),yk.exec(t)){const s=t.length-1;let a;a=s<=4?1:2;const l=4===s||8===s;e=parseInt(t.substr(1+0*a,a),16),n=parseInt(t.substr(1+1*a,a),16),r=parseInt(t.substr(1+2*a,a),16),i=l?parseInt(t.substr(1+3*a,a),16):255,1==a&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,l&&(i=(i<<4)+i)),o=[e,n,r,i/255]}else t.startsWith("rgba(")?(o=t.slice(5,-1).split(",").map(Number),Tk(o)):t.startsWith("rgb(")?(o=t.slice(4,-1).split(",").map(Number),o.push(1),Tk(o)):Ie(!1,14);return o}(r),e[r]=i,++n}return i}}();function ep(t){return Array.isArray(t)?t:LY(t)}function Tk(t){return t[0]=jt(t[0]+.5|0,0,255),t[1]=jt(t[1]+.5|0,0,255),t[2]=jt(t[2]+.5|0,0,255),t[3]=jt(t[3],0,1),t}function Mk(t){let e=t[0];e!=(0|e)&&(e=e+.5|0);let n=t[1];n!=(0|n)&&(n=n+.5|0);let r=t[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+e+","+n+","+r+","+(void 0===t[3]?1:Math.round(100*t[3])/100)+")"}function Sk(t,e,n){return e+":"+t+":"+(n?Ek(n):"null")}const tp=new class VY{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_)!(3&e++)&&!this.cache_[n].hasListener()&&(delete this.cache_[n],--this.cacheSize_)}}get(e,n,r){const i=Sk(e,n,r);return i in this.cache_?this.cache_[i]:null}set(e,n,r,i){const o=Sk(e,n,r);this.cache_[o]=i,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}},Dk=class jY extends fi{constructor(e){super(),this.background_=e.background;const n=Object.assign({},e);"object"==typeof e.properties&&(delete n.properties,Object.assign(n,e.properties)),n.opacity=void 0!==e.opacity?e.opacity:1,Ie("number"==typeof n.opacity,64),n.visible=void 0===e.visible||e.visible,n.zIndex=e.zIndex,n.maxResolution=void 0!==e.maxResolution?e.maxResolution:1/0,n.minResolution=void 0!==e.minResolution?e.minResolution:0,n.minZoom=void 0!==e.minZoom?e.minZoom:-1/0,n.maxZoom=void 0!==e.maxZoom?e.maxZoom:1/0,this.className_=void 0!==n.className?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:void 0===e||e},r=this.getZIndex();return n.opacity=jt(Math.round(100*this.getOpacity())/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=void 0!==r||n.managed?r:1/0,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return ge()}getLayerStatesArray(e){return ge()}getExtent(){return this.get("extent")}getMaxResolution(){return this.get("maxResolution")}getMinResolution(){return this.get("minResolution")}getMinZoom(){return this.get("minZoom")}getMaxZoom(){return this.get("maxZoom")}getOpacity(){return this.get("opacity")}getSourceState(){return ge()}getVisible(){return this.get("visible")}getZIndex(){return this.get("zIndex")}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set("extent",e)}setMaxResolution(e){this.set("maxResolution",e)}setMinResolution(e){this.set("minResolution",e)}setMaxZoom(e){this.set("maxZoom",e)}setMinZoom(e){this.set("minZoom",e)}setOpacity(e){Ie("number"==typeof e,64),this.set("opacity",e)}setVisible(e){this.set("visible",e)}setZIndex(e){this.set("zIndex",e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},Gr={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},Qs={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937},wk=class UY{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Qs[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}},Yu=6378137,Vl=Math.PI*Yu,HY=[-Vl,-Vl,Vl,Vl],zY=[-180,-85,180,85],np=Yu*Math.log(Math.tan(Math.PI/2));class jl extends wk{constructor(e){super({code:e,units:"m",extent:HY,global:!0,worldExtent:zY,getPointResolution:function(n,r){return n/Math.cosh(r[1]/Yu)}})}}const Ik=[new jl("EPSG:3857"),new jl("EPSG:102100"),new jl("EPSG:102113"),new jl("EPSG:900913"),new jl("http://www.opengis.net/def/crs/EPSG/0/3857"),new jl("http://www.opengis.net/gml/srs/epsg.xml#3857")];function XY(t,e,n){const r=t.length;n=n>1?n:2,void 0===e&&(e=n>2?t.slice():new Array(r));for(let i=0;i<r;i+=n){e[i]=Vl*t[i]/180;let o=Yu*Math.log(Math.tan(Math.PI*(+t[i+1]+90)/360));o>np?o=np:o<-np&&(o=-np),e[i+1]=o}return e}function WY(t,e,n){const r=t.length;n=n>1?n:2,void 0===e&&(e=n>2?t.slice():new Array(r));for(let i=0;i<r;i+=n)e[i]=180*t[i]/Vl,e[i+1]=360*Math.atan(Math.exp(t[i+1]/Yu))/Math.PI-90;return e}const Rk=[-180,-90,180,90],KY=6378137*Math.PI/180;class Js extends wk{constructor(e,n){super({code:e,units:"degrees",extent:Rk,axisOrientation:n,global:!0,metersPerUnit:KY,worldExtent:Rk})}}const Ak=[new Js("CRS:84"),new Js("EPSG:4326","neu"),new Js("urn:ogc:def:crs:OGC:1.3:CRS84"),new Js("urn:ogc:def:crs:OGC:2:84"),new Js("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Js("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Js("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let rp={},Ur={};function ip(t,e,n){const r=t.getCode(),i=e.getCode();r in Ur||(Ur[r]={}),Ur[r][i]=n}function op(t,e){let n=!0;for(let r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function AC(t,e){const n=Math.cos(e),r=Math.sin(e),o=t[1]*n+t[0]*r;return t[0]=t[0]*n-t[1]*r,t[1]=o,t}function Nk(t,e){if(e.canWrapX()){const n=dt(e.getExtent()),r=function iZ(t,e,n){const r=e.getExtent();let i=0;return e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])&&(n=n||dt(r),i=Math.floor((t[0]-r[0])/n)),i}(t,e,n);r&&(t[0]-=r*n)}return t}function bC(t,e,n){n=n||6371008.8;const r=Yg(t[1]),i=Yg(e[1]),o=(i-r)/2,s=Yg(e[0]-t[0])/2,a=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(r)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}const Zu_warn=2;let lp=1;function kk(...t){lp>Zu_warn||console.warn(...t)}let NC=!0;function kC(t,e){if(void 0!==e)for(let n=0,r=t.length;n<r;++n)e[n]=t[n];else e=t.slice();return e}function xk(t,e){if(void 0!==e&&t!==e){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];t=e}return t}function aZ(t){(function ZY(t,e){rp[t]=e})(t.getCode(),t),ip(t,t,kC)}function Ge(t){return"string"==typeof t?function YY(t){return rp[t]||rp[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}(t):t||null}function Fk(t,e,n,r){let i;const o=(t=Ge(t)).getPointResolutionFunc();if(o){if(i=o(e,n),r&&r!==t.getUnits()){const s=t.getMetersPerUnit();s&&(i=i*s/Qs[r])}}else{const s=t.getUnits();if("degrees"==s&&!r||"degrees"==r)i=e;else{const a=Qu(t,Ge("EPSG:4326"));if(a===xk&&"degrees"!==s)i=e*t.getMetersPerUnit();else{let c=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];c=a(c,c,2),i=(bC(c.slice(0,2),c.slice(2,4))+bC(c.slice(4,6),c.slice(6,8)))/2}const l=r?Qs[r]:t.getMetersPerUnit();void 0!==l&&(i/=l)}}return i}function Lk(t){(function lZ(t){t.forEach(aZ)})(t),t.forEach(function(e){t.forEach(function(n){e!==n&&ip(e,n,kC)})})}function OC(t,e){return t?"string"==typeof t?Ge(t):t:Ge(e)}function Qi(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||Qu(t,e)===kC)&&n}function Qu(t,e){let i=function QY(t,e){let n;return t in Ur&&e in Ur[t]&&(n=Ur[t][e]),n}(t.getCode(),e.getCode());return i||(i=xk),i}function Ju(t,e){return Qu(Ge(t),Ge(e))}function ea(t,e,n){return Ju(e,n)(t,void 0,t.length)}function xC(t,e,n,r){return function kY(t,e,n,r){let i=[];if(r>1){const a=t[2]-t[0],l=t[3]-t[1];for(let c=0;c<r;++c)i.push(t[0]+a*c/r,t[1],t[2],t[1]+l*c/r,t[2]-a*c/r,t[3],t[0],t[3]-l*c/r)}else i=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(i,i,2);const o=[],s=[];for(let a=0,l=i.length;a<l;a+=2)o.push(i[a]),s.push(i[a+1]);return function wY(t,e,n){return pi(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}(o,s,n)}(t,Ju(e,n),void 0,r)}let bn=null;function Vk(){return bn}function FC(t,e){return t}function Ji(t,e){return NC&&!op(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(NC=!1,kk("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function LC(t,e){return t}function ta(t,e){return t}function dZ(t,e){return t}function jk(t,e,n){return function(r,i,o,s,a){if(!r)return;if(!i&&!e)return r;const l=e?0:o[0]*i,c=e?0:o[1]*i,u=a?a[0]:0,d=a?a[1]:0;let h=t[0]+l/2+u,f=t[2]-l/2+u,g=t[1]+c/2+d,p=t[3]-c/2+d;h>f&&(h=(f+h)/2,f=h),g>p&&(g=(p+g)/2,p=g);let _=jt(r[0],h,f),m=jt(r[1],g,p);if(s&&n&&i){const y=30*i;_+=-y*Math.log(1+Math.max(0,h-r[0])/y)+y*Math.log(1+Math.max(0,r[0]-f)/y),m+=-y*Math.log(1+Math.max(0,g-r[1])/y)+y*Math.log(1+Math.max(0,r[1]-p)/y)}return[_,m]}}function fZ(t){return t}function $C(t,e,n,r){const i=dt(e)/n[0],o=sr(e)/n[1];return r?Math.min(t,Math.max(i,o)):Math.min(t,Math.min(i,o))}function VC(t,e,n){let r=Math.min(t,e);return r*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/t-1))/50+1),jt(r,n/2,2*e)}function Bk(t,e,n,r,i){return n=void 0===n||n,function(o,s,a,l){if(void 0!==o){const c=r?$C(t,r,a,i):t;return n&&l?VC(o,c,e):jt(o,e,c)}}}function jC(t){if(void 0!==t)return 0}function Gk(t){if(void 0!==t)return t}function Uk(t){return Math.pow(t,3)}function Bl(t){return 1-Uk(1-t)}function BC(t){return 3*t*t-2*t*t*t}function yZ(t){return t}function na(t,e,n,r,i,o){o=o||[];let s=0;for(let a=e;a<n;a+=r){const l=t[a],c=t[a+1];o[s++]=i[0]*l+i[2]*c+i[4],o[s++]=i[1]*l+i[3]*c+i[5]}return o&&o.length!=s&&(o.length=s),o}function Hk(t,e,n,r,i,o,s){s=s||[];const a=Math.cos(i),l=Math.sin(i),c=o[0],u=o[1];let d=0;for(let h=e;h<n;h+=r){const f=t[h]-c,g=t[h+1]-u;s[d++]=c+f*a-g*l,s[d++]=u+f*l+g*a;for(let p=h+2;p<h+r;++p)s[d++]=t[p]}return s&&s.length!=d&&(s.length=d),s}!function hZ(){Lk(Ik),Lk(Ak),function cZ(t,e,n,r){t.forEach(function(i){e.forEach(function(o){ip(i,o,n),ip(o,i,r)})})}(Ak,Ik,XY,WY)}();const zk=[1,0,0,1,0,0],Xk=class CZ extends fi{constructor(){super(),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=function dY(t){let n,r,i,e=!1;return function(){const o=Array.prototype.slice.call(arguments);return(!e||this!==i||!Po(o,r))&&(e=!0,i=this,r=o,n=t.apply(this,arguments)),n}}(function(e,n,r){if(!r)return this.getSimplifiedGeometry(n);const i=this.clone();return i.applyTransform(r),i.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return ge()}closestPointXY(e,n,r,i){return ge()}containsXY(e,n){const r=this.getClosestPoint([e,n]);return r[0]===e&&r[1]===n}getClosestPoint(e,n){return this.closestPointXY(e[0],e[1],n=n||[NaN,NaN],1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return ge()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&qs(n),this.extentRevision_=this.getRevision()}return function PY(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,e)}rotate(e,n){ge()}scale(e,n,r){ge()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return ge()}getType(){return ge()}applyTransform(e){ge()}intersectsExtent(e){return ge()}translate(e,n){ge()}transform(e,n){const r=Ge(e),i="tile-pixels"==r.getUnits()?function(o,s,a){const l=r.getExtent(),c=r.getWorldExtent(),u=sr(c)/sr(l);return Zi(zk,c[0],c[3],u,-u,0,0,0),na(o,0,o.length,a,zk,s),Ju(r,n)(o,s,a)}:Ju(r,n);return this.applyTransform(i),this}};function Wk(t){let e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}const ra=class TZ extends Xk{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(e){return hk(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return ge()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=Wk(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){ge()}setLayout(e,n,r){let i;if(e)i=Wk(e);else{for(let o=0;o<r;++o){if(0===n.length)return this.layout="XY",void(this.stride=2);n=n[0]}i=n.length,e=function MZ(t){let e;return 2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM"),e}(i)}this.layout=e,this.stride=i}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();Hk(r,0,r.length,i,e,n,r),this.changed()}}scale(e,n,r){void 0===n&&(n=e),r||(r=Ks(this.getExtent()));const i=this.getFlatCoordinates();if(i){const o=this.getStride();(function vZ(t,e,n,r,i,o,s,a){a=a||[];const l=s[0],c=s[1];let u=0;for(let d=e;d<n;d+=r){const f=t[d+1]-c;a[u++]=l+i*(t[d]-l),a[u++]=c+o*f;for(let g=d+2;g<d+r;++g)a[u++]=t[g]}a&&a.length!=u&&(a.length=u)})(i,0,i.length,o,e,n,r,i),this.changed()}}translate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();(function EZ(t,e,n,r,i,o,s){s=s||[];let a=0;for(let l=e;l<n;l+=r){s[a++]=t[l]+i,s[a++]=t[l+1]+o;for(let c=l+2;c<l+r;++c)s[a++]=t[c]}s&&s.length!=a&&(s.length=a)})(r,0,r.length,i,e,n,r),this.changed()}}};function qk(t,e,n,r,i,o,s){const a=t[e],l=t[e+1],c=t[n]-a,u=t[n+1]-l;let d;if(0===c&&0===u)d=e;else{const h=((i-a)*c+(o-l)*u)/(c*c+u*u);if(h>1)d=n;else{if(h>0){for(let f=0;f<r;++f)s[f]=ar(t[e+f],t[n+f],h);return void(s.length=r)}d=e}}for(let h=0;h<r;++h)s[h]=t[d+h];s.length=r}function GC(t,e,n,r,i){let o=t[e],s=t[e+1];for(e+=r;e<n;e+=r){const a=t[e],l=t[e+1],c=Zs(o,s,a,l);c>i&&(i=c),o=a,s=l}return i}function UC(t,e,n,r,i){for(let o=0,s=n.length;o<s;++o){const a=n[o];i=GC(t,e,a,r,i),e=a}return i}function HC(t,e,n,r,i,o,s,a,l,c,u){if(e==n)return c;let d,h;if(0===i){if(h=Zs(s,a,t[e],t[e+1]),h<c){for(d=0;d<r;++d)l[d]=t[e+d];return l.length=r,h}return c}u=u||[NaN,NaN];let f=e+r;for(;f<n;)if(qk(t,f-r,f,r,s,a,u),h=Zs(s,a,u[0],u[1]),h<c){for(c=h,d=0;d<r;++d)l[d]=u[d];l.length=r,f+=r}else f+=r*Math.max((Math.sqrt(h)-Math.sqrt(c))/i|0,1);if(o&&(qk(t,n-r,e,r,s,a,u),h=Zs(s,a,u[0],u[1]),h<c)){for(c=h,d=0;d<r;++d)l[d]=u[d];l.length=r}return c}function zC(t,e,n,r,i,o,s,a,l,c,u){u=u||[NaN,NaN];for(let d=0,h=n.length;d<h;++d){const f=n[d];c=HC(t,e,f,r,i,o,s,a,l,c,u),e=f}return c}function cp(t,e,n,r){for(let i=0,o=n.length;i<o;++i){const s=n[i];for(let a=0;a<r;++a)t[e++]=s[a]}return e}function XC(t,e,n,r,i){i=i||[];let o=0;for(let s=0,a=n.length;s<a;++s){const l=cp(t,e,n[s],r);i[o++]=l,e=l}return i.length=o,i}function up(t,e,n,r,i,o,s){const a=(n-e)/r;if(a<3){for(;e<n;e+=r)o[s++]=t[e],o[s++]=t[e+1];return s}const l=new Array(a);l[0]=1,l[a-1]=1;const c=[e,n-r];let u=0;for(;c.length>0;){const d=c.pop(),h=c.pop();let f=0;const g=t[h],p=t[h+1],_=t[d],m=t[d+1];for(let y=h+r;y<d;y+=r){const C=xY(t[y],t[y+1],g,p,_,m);C>f&&(u=y,f=C)}f>i&&(l[(u-e)/r]=1,h+r<u&&c.push(h,u),u+r<d&&c.push(u,d))}for(let d=0;d<a;++d)l[d]&&(o[s++]=t[e+d*r],o[s++]=t[e+d*r+1]);return s}function ia(t,e){return e*Math.round(t/e)}function bZ(t,e,n,r,i,o,s){if(e==n)return s;let c,u,a=ia(t[e],i),l=ia(t[e+1],i);e+=r,o[s++]=a,o[s++]=l;do{if(c=ia(t[e],i),u=ia(t[e+1],i),(e+=r)==n)return o[s++]=c,o[s++]=u,s}while(c==a&&u==l);for(;e<n;){const d=ia(t[e],i),h=ia(t[e+1],i);if(e+=r,d==c&&h==u)continue;const f=c-a,g=u-l,p=d-a,_=h-l;f*_==g*p&&(f<0&&p<f||f==p||f>0&&p>f)&&(g<0&&_<g||g==_||g>0&&_>g)?(c=d,u=h):(o[s++]=c,o[s++]=u,a=c,l=u,c=d,u=h)}return o[s++]=c,o[s++]=u,s}function Yk(t,e,n,r,i,o,s,a){for(let l=0,c=n.length;l<c;++l){const u=n[l];s=bZ(t,e,u,r,i,o,s),a.push(s),e=u}return s}function Oo(t,e,n,r,i){i=void 0!==i?i:[];let o=0;for(let s=e;s<n;s+=r)i[o++]=t.slice(s,s+r);return i.length=o,i}function ed(t,e,n,r,i){i=void 0!==i?i:[];let o=0;for(let s=0,a=n.length;s<a;++s){const l=n[s];i[o++]=Oo(t,e,l,r,i[o]),e=l}return i.length=o,i}function WC(t,e,n,r,i){i=void 0!==i?i:[];let o=0;for(let s=0,a=n.length;s<a;++s){const l=n[s];i[o++]=1===l.length&&l[0]===e?[]:ed(t,e,l,r,i[o]),e=l[l.length-1]}return i.length=o,i}function Zk(t,e,n,r){let i=0,o=t[n-r],s=t[n-r+1];for(;e<n;e+=r){const a=t[e],l=t[e+1];i+=s*a-o*l,o=a,s=l}return i/2}function Qk(t,e,n,r){let i=0;for(let o=0,s=n.length;o<s;++o){const a=n[o];i+=Zk(t,e,a,r),e=a}return i}class dp extends ra{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}clone(){return new dp(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,r,i){return i<Xs(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(GC(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),HC(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,r,i))}getArea(){return Zk(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Oo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=up(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new dp(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=cp(this.flatCoordinates,0,e,this.stride),this.changed()}}const Jk=dp;class qC extends ra{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new qC(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){const o=this.flatCoordinates,s=Zs(e,n,o[0],o[1]);if(s<i){const a=this.stride;for(let l=0;l<a;++l)r[l]=o[l];return r.length=a,s}return i}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(e){return function IY(t,e){const n=t[0],r=t[1];return pi(n,r,n,r,e)}(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return MC(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function IZ(t,e,n){for(let i=0,o=n.length;i<o;++i)t[e++]=n[i];return e}(this.flatCoordinates,0,e),this.changed()}}const hp=qC;function kZ(t,e,n,r,i){return!_k(i,function(s){return!oa(t,e,n,r,s[0],s[1])})}function oa(t,e,n,r,i,o){let s=0,a=t[n-r],l=t[n-r+1];for(;e<n;e+=r){const c=t[e],u=t[e+1];l<=o?u>o&&(c-a)*(o-l)-(i-a)*(u-l)>0&&s++:u<=o&&(c-a)*(o-l)-(i-a)*(u-l)<0&&s--,a=c,l=u}return 0!==s}function KC(t,e,n,r,i,o){if(0===n.length||!oa(t,e,n[0],r,i,o))return!1;for(let s=1,a=n.length;s<a;++s)if(oa(t,n[s-1],n[s],r,i,o))return!1;return!0}function eO(t,e,n,r,i,o,s){let a,l,c,u,d,h,f;const g=i[o+1],p=[];for(let y=0,v=n.length;y<v;++y){const E=n[y];for(u=t[E-r],h=t[E-r+1],a=e;a<E;a+=r)d=t[a],f=t[a+1],(g<=h&&f<=g||h<=g&&g<=f)&&(c=(g-h)/(f-h)*(d-u)+u,p.push(c)),u=d,h=f}let _=NaN,m=-1/0;for(p.sort(zs),u=p[0],a=1,l=p.length;a<l;++a){d=p[a];const y=Math.abs(d-u);y>m&&(c=(u+d)/2,KC(t,e,n,r,c,g)&&(_=c,m=y)),u=d}return isNaN(_)&&(_=i[o]),s?(s.push(_,g,m),s):[_,g,m]}function tO(t,e,n,r,i){let o;for(e+=r;e<n;e+=r)if(o=i(t.slice(e-r,e),t.slice(e,e+r)),o)return o;return!1}function fp(t,e,n,r,i){const o=pk([1/0,1/0,-1/0,-1/0],t,e,n,r);return!!An(i,o)&&(!!(Ws(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3])||tO(t,e,n,r,function(s,a){return function NY(t,e,n){let r=!1;const i=SC(t,e),o=SC(t,n);if(1===i||1===o)r=!0;else{const s=t[0],a=t[1],l=t[2],c=t[3],h=n[0],f=n[1],g=(f-e[1])/(h-e[0]);let p,_;2&o&&!(2&i)&&(p=h-(f-c)/g,r=p>=s&&p<=l),!r&&4&o&&!(4&i)&&(_=f-(h-l)*g,r=_>=a&&_<=c),!r&&8&o&&!(8&i)&&(p=h-(f-a)/g,r=p>=s&&p<=l),!r&&16&o&&!(16&i)&&(_=f-(h-s)*g,r=_>=a&&_<=c)}return r}(i,s,a)}))}function nO(t,e,n,r,i){return!!(fp(t,e,n,r,i)||oa(t,e,n,r,i[0],i[1])||oa(t,e,n,r,i[0],i[3])||oa(t,e,n,r,i[2],i[1])||oa(t,e,n,r,i[2],i[3]))}function rO(t,e,n,r,i){if(!nO(t,e,n[0],r,i))return!1;if(1===n.length)return!0;for(let o=1,s=n.length;o<s;++o)if(kZ(t,n[o-1],n[o],r,i)&&!fp(t,n[o-1],n[o],r,i))return!1;return!0}function $Z(t,e,n,r){for(;e<n-r;){for(let i=0;i<r;++i){const o=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=o}e+=r,n-=r}}function YC(t,e,n,r){let i=0,o=t[n-r],s=t[n-r+1];for(;e<n;e+=r){const a=t[e],l=t[e+1];i+=(a-o)*(l+s),o=a,s=l}return 0===i?void 0:i>0}function iO(t,e,n,r,i){i=void 0!==i&&i;for(let o=0,s=n.length;o<s;++o){const a=n[o],l=YC(t,e,a,r);if(0===o){if(i&&l||!i&&!l)return!1}else if(i&&!l||!i&&l)return!1;e=a}return!0}function ZC(t,e,n,r,i){i=void 0!==i&&i;for(let o=0,s=n.length;o<s;++o){const a=n[o],l=YC(t,e,a,r);(0===o?i&&l||!i&&!l:i&&!l||!i&&l)&&$Z(t,e,a,r),e=a}return e}function oO(t,e,n,r,i){for(let o=0,s=n.length;o<s;++o)e=ZC(t,e,n[o],r,i);return e}class sa extends ra{constructor(e,n,r){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==n&&r?(this.setFlatCoordinates(n,e),this.ends_=r):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?Yi(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new sa(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<Xs(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(UC(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),zC(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return KC(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return Qk(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return void 0!==e?(n=this.getOrientedFlatCoordinates().slice(),ZC(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,ed(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=Ks(this.getExtent());this.flatInteriorPoint_=eO(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new hp(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Jk(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,r=this.ends_,i=[];let o=0;for(let s=0,a=r.length;s<a;++s){const l=r[s],c=new Jk(n.slice(o,l),e);i.push(c),o=l}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;iO(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=ZC(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=Yk(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,r),new sa(n,"XY",r)}getType(){return"Polygon"}intersectsExtent(e){return rO(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=XC(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()}}const gp=sa;function sO(t){const e=t[0],n=t[1],r=t[2],i=t[3],o=[e,n,e,i,r,i,r,n,e,n];return new sa(o,"XY",[o.length])}function pp(t,e){setTimeout(function(){t(e)},0)}function zZ(t){return!(t.sourceCenter&&t.targetCenter&&!op(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function JC(t,e,n,r,i){const o=Math.cos(-i);let s=Math.sin(-i),a=t[0]*o-t[1]*s,l=t[1]*o+t[0]*s;return a+=(e[0]/2-n[0])*r,l+=(n[1]-e[1]/2)*r,s=-s,[a*o-l*s,l*o+a*s]}const _i=class BZ extends fi{constructor(e){super(),e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.projection_=OC(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.nextCenter_=null,this.cancelAnchor_=void 0,e.projection&&function Ok(t){NC=!(void 0===t||t)}(),e.center&&(e.center=Ji(e.center)),e.extent&&(e.extent=ta(e.extent)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const a in Gr)delete n[a];this.setProperties(n,!0);const r=function UZ(t){let e,n,r,s=void 0!==t.minZoom?t.minZoom:0,a=void 0!==t.maxZoom?t.maxZoom:28;const l=void 0!==t.zoomFactor?t.zoomFactor:2,c=void 0!==t.multiWorld&&t.multiWorld,u=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,d=void 0!==t.showFullExtent&&t.showFullExtent,h=OC(t.projection,"EPSG:3857"),f=h.getExtent();let g=t.constrainOnlyCenter,p=t.extent;if(!c&&!p&&h.isGlobal()&&(g=!1,p=f),void 0!==t.resolutions){const _=t.resolutions;n=_[s],r=void 0!==_[a]?_[a]:_[_.length-1],e=t.constrainResolution?function gZ(t,e,n,r){return e=void 0===e||e,function(i,o,s,a){if(void 0!==i){const l=t[0],c=t[t.length-1],u=n?$C(l,n,s,r):l;if(a)return e?VC(i,u,c):jt(i,c,u);const d=Math.min(u,i),h=Math.floor(_C(t,d,o));return t[h]>u&&h<t.length-1?t[h+1]:t[h]}}}(_,u,!g&&p,d):Bk(n,r,u,!g&&p,d)}else{const m=(f?Math.max(dt(f),sr(f)):360*Qs.degrees/h.getMetersPerUnit())/256/Math.pow(2,0),y=m/Math.pow(2,28);n=t.maxResolution,void 0!==n?s=0:n=m/Math.pow(l,s),r=t.minResolution,void 0===r&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(l,a):m/Math.pow(l,a):y),a=s+Math.floor(Math.log(n/r)/Math.log(l)),r=n/Math.pow(l,a-s),e=t.constrainResolution?function pZ(t,e,n,r,i,o){return r=void 0===r||r,n=void 0!==n?n:0,function(s,a,l,c){if(void 0!==s){const u=i?$C(e,i,l,o):e;if(c)return r?VC(s,u,n):jt(s,n,u);const d=1e-9,h=Math.ceil(Math.log(e/u)/Math.log(t)-d),f=-a*(.5-d)+.5,g=Math.min(u,s),p=Math.floor(Math.log(e/g)/Math.log(t)+f),_=Math.max(h,p);return jt(e/Math.pow(t,_),n,u)}}}(l,n,r,u,!g&&p,d):Bk(n,r,u,!g&&p,d)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:s,zoomFactor:l}}(e);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=r.minZoom;const i=function GZ(t){if(void 0!==t.extent)return jk(t.extent,t.constrainOnlyCenter,void 0===t.smoothExtentConstraint||t.smoothExtentConstraint);const e=OC(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,jk(n,!1,!1)}return fZ}(e),o=r.constraint,s=function HZ(t){if(void 0===t.enableRotation||t.enableRotation){const n=t.constrainRotation;return void 0===n||!0===n?function mZ(t){return t=t||Yg(5),function(e,n){return n?e:void 0!==e?Math.abs(e)<=t?0:e:void 0}}():!1===n?Gk:"number"==typeof n?function _Z(t){const e=2*Math.PI/t;return function(n,r){return r?n:void 0!==n?n=Math.floor(n/e+.5)*e:void 0}}(n):Gk}return jC}(e);this.constraints_={center:i,resolution:o,rotation:s},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const r=this.getCenterInternal();if(r){const i=e||[0,0,0,0];n=n||[0,0,0,0];const o=this.getResolution();this.setCenterInternal([r[0]+o/2*(i[3]-n[3]+n[1]-i[1]),r[1]-o/2*(i[0]-n[0]+n[2]-i[2])])}}getUpdatedOptions_(e){const n=this.getProperties();return void 0!==n.resolution?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let r=0;r<n.length;++r){let i=arguments[r];i.center&&(i=Object.assign({},i),i.center=Ji(i.center,this.getProjection())),i.anchor&&(i=Object.assign({},i),i.anchor=Ji(i.anchor,this.getProjection())),n[r]=i}this.animateInternal.apply(this,n)}animateInternal(e){let r,n=arguments.length;n>1&&"function"==typeof arguments[n-1]&&(r=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const u=arguments[i];u.center&&this.setCenterInternal(u.center),void 0!==u.zoom?this.setZoom(u.zoom):u.resolution&&this.setResolution(u.resolution),void 0!==u.rotation&&this.setRotation(u.rotation)}if(i===n)return void(r&&pp(r,!0));let o=Date.now(),s=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_;const c=[];for(;i<n;++i){const u=arguments[i],d={start:o,complete:!1,anchor:u.anchor,duration:void 0!==u.duration?u.duration:1e3,easing:u.easing||BC,callback:r};if(u.center&&(d.sourceCenter=s,d.targetCenter=u.center.slice(),s=d.targetCenter),void 0!==u.zoom?(d.sourceResolution=a,d.targetResolution=this.getResolutionForZoom(u.zoom),a=d.targetResolution):u.resolution&&(d.sourceResolution=a,d.targetResolution=u.resolution,a=d.targetResolution),void 0!==u.rotation){d.sourceRotation=l;const h=$l(u.rotation-l+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=l+h,l=d.targetRotation}zZ(d)?d.complete=!0:o+=d.duration,c.push(d)}this.animations_.push(c),this.setHint(0,1),this.updateAnimations_()}getAnimating(){return this.hints_[0]>0}getInteracting(){return this.hints_[1]>0}cancelAnimations(){let e;this.setHint(0,-this.hints_[0]);for(let n=0,r=this.animations_.length;n<r;++n){const i=this.animations_[n];if(i[0].callback&&pp(i[0].callback,!1),!e)for(let o=0,s=i.length;o<s;++o){const a=i[o];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let r=this.animations_.length-1;r>=0;--r){const i=this.animations_[r];let o=!0;for(let s=0,a=i.length;s<a;++s){const l=i[s];if(l.complete)continue;let u=l.duration>0?(e-l.start)/l.duration:1;u>=1?(l.complete=!0,u=1):o=!1;const d=l.easing(u);if(l.sourceCenter){const h=l.sourceCenter[0],f=l.sourceCenter[1],g=l.targetCenter[0],p=l.targetCenter[1];this.nextCenter_=l.targetCenter,this.targetCenter_=[h+d*(g-h),f+d*(p-f)]}if(l.sourceResolution&&l.targetResolution){const h=1===d?l.targetResolution:l.sourceResolution+d*(l.targetResolution-l.sourceResolution);if(l.anchor){const f=this.getViewportSize_(this.getRotation()),g=this.constraints_.resolution(h,0,f,!0);this.targetCenter_=this.calculateCenterZoom(g,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=h,this.applyTargetState_(!0)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){const h=1===d?$l(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+d*(l.targetRotation-l.sourceRotation);if(l.anchor){const f=this.constraints_.rotation(h,!0);this.targetCenter_=this.calculateCenterRotate(f,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=h}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(o){this.animations_[r]=null,this.setHint(0,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const s=i[0].callback;s&&pp(s,!0)}}this.animations_=this.animations_.filter(Boolean),n&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let r;const i=this.getCenterInternal();return void 0!==i&&(r=[i[0]-n[0],i[1]-n[1]],AC(r,e-this.getRotation()),function JY(t,e){t[0]+=+e[0],t[1]+=+e[1]}(r,n)),r}calculateCenterZoom(e,n){let r;const i=this.getCenterInternal(),o=this.getResolution();return void 0!==i&&void 0!==o&&(r=[n[0]-e*(n[0]-i[0])/o,n[1]-e*(n[1]-i[1])/o]),r}getViewportSize_(e){const n=this.viewportSize_;if(e){const r=n[0],i=n[1];return[Math.abs(r*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(r*Math.sin(e))+Math.abs(i*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&FC(e,this.getProjection())}getCenterInternal(){return this.get(Gr.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){return LC(this.calculateExtentInternal(e),this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();Ie(n,1);const r=this.getResolution();Ie(void 0!==r,2);const i=this.getRotation();return Ie(void 0!==i,3),DC(n,r,i,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Gr.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(ta(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const r=dt(e)/n[0],i=sr(e)/n[1];return Math.max(r,i)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),i=Math.log(n/this.minResolution_)/Math.log(e);return function(o){return n/Math.pow(e,o*i)}}getRotation(){return this.get(Gr.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),r=this.getConstrainedResolution(this.maxResolution_),o=Math.log(r/this.minResolution_)/n;return function(s){return Math.log(r/s)/n/o}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const r=this.padding_;return r&&(n=[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),r=this.getRotation();let i=this.getCenterInternal();const o=this.padding_;if(o){const s=this.getViewportSizeMinusPadding_();i=JC(i,this.getViewportSize_(),[s[0]/2+o[3],s[1]/2+o[0]],n,r)}return{center:i.slice(0),projection:void 0!==e?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return void 0!==n&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let r,i,n=this.minZoom_||0;if(this.resolutions_){const o=_C(this.resolutions_,e,1);n=o,r=this.resolutions_[o],i=o==this.resolutions_.length-1?2:r/this.resolutions_[o+1]}else r=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(r/e)/Math.log(i)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const n=jt(Math.floor(e),0,this.resolutions_.length-2);return this.resolutions_[n]/Math.pow(this.resolutions_[n]/this.resolutions_[n+1],jt(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let r;if(Ie(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,24),Array.isArray(e))Ie(!IC(e),25),r=sO(ta(e,this.getProjection()));else if("Circle"===e.getType()){const i=ta(e.getExtent(),this.getProjection());r=sO(i),r.rotate(this.getRotation(),Ks(i))}else{const i=Vk();r=i?e.clone().transform(i,this.getProjection()):e}this.fitInternal(r,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),r=Math.cos(n),i=Math.sin(-n),o=e.getFlatCoordinates(),s=e.getStride();let a=1/0,l=1/0,c=-1/0,u=-1/0;for(let d=0,h=o.length;d<h;d+=s){const f=o[d]*r-o[d+1]*i,g=o[d]*i+o[d+1]*r;a=Math.min(a,f),l=Math.min(l,g),c=Math.max(c,f),u=Math.max(u,g)}return[a,l,c,u]}fitInternal(e,n){let r=(n=n||{}).size;r||(r=this.getViewportSizeMinusPadding_());const i=void 0!==n.padding?n.padding:[0,0,0,0],o=void 0!==n.nearest&&n.nearest;let s;s=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;const a=this.rotatedExtentForGeometry(e);let l=this.getResolutionForExtentInternal(a,[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]);l=isNaN(l)?s:Math.max(l,s),l=this.getConstrainedResolution(l,o?0:1);const c=this.getRotation(),u=Math.sin(c),d=Math.cos(c),h=Ks(a);h[0]+=(i[1]-i[3])/2*l,h[1]+=(i[0]-i[2])/2*l;const p=this.getConstrainedCenter([h[0]*d-h[1]*u,h[1]*d+h[0]*u],l),_=n.callback?n.callback:Ol;void 0!==n.duration?this.animateInternal({resolution:l,center:p,duration:n.duration,easing:n.easing},_):(this.targetResolution_=l,this.targetCenter_=p,this.applyTargetState_(!1,!0),pp(_,!0))}centerOn(e,n,r){this.centerOnInternal(Ji(e,this.getProjection()),n,r)}centerOnInternal(e,n,r){this.setCenterInternal(JC(e,n,r,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,r,i){let o;const s=this.padding_;if(s&&e){const a=this.getViewportSizeMinusPadding_(-r),l=JC(e,i,[a[0]/2+s[3],a[1]/2+s[0]],n,r);o=[e[0]-l[0],e[1]-l[1]]}return o}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(e){const n=FC(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&Ji(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*e,0,i,r);n&&(this.targetCenter_=this.calculateCenterZoom(o,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=Ji(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,r);n&&(this.targetCenter_=this.calculateCenterRotate(i,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Ji(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const r=this.getAnimating()||this.getInteracting()||n,i=this.constraints_.rotation(this.targetRotation_,r),o=this.getViewportSize_(i),s=this.constraints_.resolution(this.targetResolution_,0,o,r),a=this.constraints_.center(this.targetCenter_,s,o,r,this.calculateCenterShift(this.targetCenter_,s,i,o));this.get(Gr.ROTATION)!==i&&this.set(Gr.ROTATION,i),this.get(Gr.RESOLUTION)!==s&&(this.set(Gr.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(Gr.CENTER)||!op(this.get(Gr.CENTER),a))&&this.set(Gr.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,r){e=void 0!==e?e:200;const i=n||0,o=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(o),a=this.constraints_.resolution(this.targetResolution_,i,s),l=this.constraints_.center(this.targetCenter_,a,s,!1,this.calculateCenterShift(this.targetCenter_,a,o,s));if(0===e&&!this.cancelAnchor_)return this.targetResolution_=a,this.targetRotation_=o,this.targetCenter_=l,void this.applyTargetState_();r=r||(0===e?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==o||!this.getCenterInternal()||!op(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:l,resolution:a,duration:e,easing:Bl,anchor:r}))}beginInteraction(){this.resolveConstraints(0),this.setHint(1,1)}endInteraction(e,n,r){r=r&&Ji(r,this.getProjection()),this.endInteractionInternal(e,n,r)}endInteractionInternal(e,n,r){this.getInteracting()&&(this.setHint(1,-1),this.resolveConstraints(e,n,r))}getConstrainedCenter(e,n){const r=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),r)}getConstrainedZoom(e,n){const r=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(r,n))}getConstrainedResolution(e,n){n=n||0;const r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,r)}};function eT(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}const _p=class XZ extends Dk{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener("source",this.handleSourcePropertyChange_),this.setSource(e.source?e.source:null)}getLayersArray(e){return(e=e||[]).push(this),e}getLayerStatesArray(e){return(e=e||[]).push(this.getLayerState()),e}getSource(){return this.get("source")||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!this.sourceReady_&&"ready"===this.getSource().getState()&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(mt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=Ve(e,"change",this.handleSourceChange_,this),"ready"===e.getState()&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null}isVisible(e){let n;n=e instanceof _i?{viewState:e.getState(),extent:e.calculateExtent()}:e;const r=this.getExtent();return this.getVisible()&&eT(this.getLayerState(),n.viewState)&&(!r||An(r,n.extent))}getAttributions(e){if(!this.isVisible(e))return[];let n;const r=this.getSource();if(r&&(n=r.getAttributions()),!n)return[];let o=n(e instanceof _i?e.getViewStateAndExtent():e);return Array.isArray(o)||(o=[o]),o}render(e,n){const r=this.getRenderer();if(r.prepareFrame(e))return this.rendered=!0,r.renderFrame(e,n)}unrender(){this.rendered=!1}setMapInternal(e){e||this.unrender(),this.set("map",e)}getMapInternal(){return this.get("map")}setMap(e){this.mapPrecomposeKey_&&(mt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(mt(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Ve(e,"precompose",function(n){const i=n.frameState.layerStatesArray,o=this.getLayerState(!1);Ie(!i.some(function(s){return s.layer===o.layer}),67),i.push(o)},this),this.mapRenderKey_=Ve(this,"change",e.render,e),this.changed())}setSource(e){this.set("source",e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}};function qZ(t,e){tp.expire()}const KZ=class WZ extends pC{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){ge()}calculateMatrices2D(e){const n=e.viewState,r=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;Zi(r,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),Hg(i,r)}forEachFeatureAtCoordinate(e,n,r,i,o,s,a,l){let c;const u=n.viewState;function d(E,C,N,P){return o.call(s,C,E?N:null,P)}const h=u.projection,f=Nk(e.slice(),h),g=[[0,0]];if(h.canWrapX()&&i){const C=dt(h.getExtent());g.push([-C,0],[C,0])}const p=n.layerStatesArray,_=p.length,m=[],y=[];for(let E=0;E<g.length;E++)for(let C=_-1;C>=0;--C){const N=p[C],P=N.layer;if(P.hasRenderer()&&eT(N,u)&&a.call(l,P)){const L=P.getRenderer(),H=P.getSource();if(L&&H){const K=H.getWrapX()?f:e,ce=d.bind(null,N.managed);y[0]=K[0]+g[E][0],y[1]=K[1]+g[E][1],c=L.forEachFeatureAtCoordinate(y,n,r,ce,m)}if(c)return c}}if(0===m.length)return;const v=1/m.length;return m.forEach((E,C)=>E.distanceSq+=C*v),m.sort((E,C)=>E.distanceSq-C.distanceSq),m.some(E=>c=E.callback(E.feature,E.layer,E.geometry)),c}hasFeatureAtCoordinate(e,n,r,i,o,s){return void 0!==this.forEachFeatureAtCoordinate(e,n,r,i,zu,this,o,s)}getMap(){return this.map_}renderFrame(e){ge()}scheduleExpireIconCache(e){tp.canExpireCache()&&e.postRenderFunctions.push(qZ)}},aO=class YZ extends Ki{constructor(e,n,r,i){super(e),this.inversePixelTransform=n,this.frameState=r,this.context=i}},mp="ol-hidden",yp="ol-unselectable",tT="ol-control",lO="ol-collapsed",ZZ=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),cO=["style","variant","weight","size","lineHeight","family"],uO=function(t){const e=t.match(ZZ);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let r=0,i=cO.length;r<i;++r){const o=e[r+1];void 0!==o&&(n[cO[r]]=o)}return n.families=n.family.split(/,\s?/),n};function Pn(t,e,n,r){let i;return i=n&&n.length?n.shift():mC?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(i.width=t),e&&(i.height=e),i.getContext("2d",r)}function vp(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function dO(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function nT(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}const hO="10px sans-serif",eo="#000",Ep="round",td=[],Gl="round",id="#000",od="center",Cp="middle",aa=[0,0,0,0],to=new fi;let rT,Ul=null;const iT={},eQ=function(){const e="32px ",n=["monospace","serif"],r=n.length,i="wmytzilWMYTZIL@#/&?$%10\uf013";let o,s;function a(c,u,d){let h=!0;for(let f=0;f<r;++f){const g=n[f];if(s=Tp(c+" "+u+" "+e+g,i),d!=g){const p=Tp(c+" "+u+" "+e+d+","+g,i);h=h&&p!=s}}return!!h}function l(){let c=!0;const u=to.getKeys();for(let d=0,h=u.length;d<h;++d){const f=u[d];to.get(f)<100&&(a.apply(this,f.split("\n"))?(Xu(iT),Ul=null,rT=void 0,to.set(f,100)):(to.set(f,to.get(f)+1,!0),c=!1))}c&&(clearInterval(o),o=void 0)}return function(c){const u=uO(c);if(!u)return;const d=u.families;for(let h=0,f=d.length;h<f;++h){const g=d[h],p=u.style+"\n"+u.weight+"\n"+g;void 0===to.get(p)&&(to.set(p,100,!0),a(u.style,u.weight,g)||(to.set(p,0,!0),void 0===o&&(o=setInterval(l,32))))}}}(),tQ=function(){let t;return function(e){let n=iT[e];if(null==n){if(mC){const r=uO(e),i=fO(e,"\u017dg");n=(isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);iT[e]=n}return n}}();function fO(t,e){return Ul||(Ul=Pn(1,1)),t!=rT&&(Ul.font=t,rT=Ul.font),Ul.measureText(e)}function Tp(t,e){return fO(t,e).width}function gO(t,e,n){if(e in n)return n[e];const r=e.split("\n").reduce((i,o)=>Math.max(i,Tp(t,o)),0);return n[e]=r,r}const sQ=class oQ extends KZ{constructor(e){super(e),this.fontChangeListenerKey_=Ve(to,"propertychange",e.redrawText.bind(e)),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=yp+" ol-layers";const r=e.getViewport();r.insertBefore(this.element_,r.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const r=this.getMap();if(r.hasListener(e)){const i=new aO(e,void 0,n);r.dispatchEvent(i)}}disposeInternal(){mt(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(e),this.dispatchRenderEvent("precompose",e);const n=e.layerStatesArray.sort(function(s,a){return s.zIndex-a.zIndex}),r=e.viewState;this.children_.length=0;const i=[];let o=null;for(let s=0,a=n.length;s<a;++s){const l=n[s];e.layerIndex=s;const c=l.layer,u=c.getSourceState();if(!eT(l,r)||"ready"!=u&&"undefined"!=u){c.unrender();continue}const d=c.render(e,o);d&&(d!==o&&(this.children_.push(d),o=d),"getDeclutter"in c&&i.push(c))}for(let s=i.length-1;s>=0;--s)i[s].renderDeclutter(e);(function JZ(t,e){const n=t.childNodes;for(let r=0;;++r){const i=n[r],o=e[r];if(!i&&!o)break;if(i!==o){if(!i){t.appendChild(o);continue}if(!o){t.removeChild(i),--r;continue}t.insertBefore(o,i)}}})(this.element_,this.children_),this.dispatchRenderEvent("postcompose",e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}};class xo extends Ki{constructor(e,n){super(e),this.layer=n}}class sT extends Dk{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let r=e.layers;super(n),this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener("layers",this.handleLayersChanged_),r?Array.isArray(r)?r=new gi(r.slice(),{unique:!0}):Ie("function"==typeof r.getArray,43):r=new gi(void 0,{unique:!0}),this.setLayers(r)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(mt),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(Ve(e,"add",this.handleLayersAdd_,this),Ve(e,"remove",this.handleLayersRemove_,this));for(const r in this.listenerKeys_)this.listenerKeys_[r].forEach(mt);Xu(this.listenerKeys_);const n=e.getArray();for(let r=0,i=n.length;r<i;r++){const o=n[r];this.registerLayerListeners_(o),this.dispatchEvent(new xo("addlayer",o))}this.changed()}registerLayerListeners_(e){const n=[Ve(e,"propertychange",this.handleLayerChange_,this),Ve(e,"change",this.handleLayerChange_,this)];e instanceof sT&&n.push(Ve(e,"addlayer",this.handleLayerGroupAdd_,this),Ve(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[He(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new xo("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new xo("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new xo("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,r=He(n);this.listenerKeys_[r].forEach(mt),delete this.listenerKeys_[r],this.dispatchEvent(new xo("removelayer",n)),this.changed()}getLayers(){return this.get("layers")}setLayers(e){const n=this.getLayers();if(n){const r=n.getArray();for(let i=0,o=r.length;i<o;++i)this.dispatchEvent(new xo("removelayer",r[i]))}this.set("layers",e)}getLayersArray(e){return e=void 0!==e?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=void 0!==e?e:[],r=n.length;this.getLayers().forEach(function(s){s.getLayerStatesArray(n)});const i=this.getLayerState();let o=i.zIndex;!e&&void 0===i.zIndex&&(o=0);for(let s=r,a=n.length;s<a;s++){const l=n[s];l.opacity*=i.opacity,l.visible=l.visible&&i.visible,l.maxResolution=Math.min(l.maxResolution,i.maxResolution),l.minResolution=Math.max(l.minResolution,i.minResolution),l.minZoom=Math.max(l.minZoom,i.minZoom),l.maxZoom=Math.min(l.maxZoom,i.maxZoom),void 0!==i.extent&&(l.extent=void 0!==l.extent?Ll(l.extent,i.extent):i.extent),void 0===l.zIndex&&(l.zIndex=o)}return n}getSourceState(){return"ready"}}const Mp=sT,Hl=class aQ extends Ki{constructor(e,n,r){super(e),this.map=n,this.frameState=void 0!==r?r:null}},Fo=class lQ extends Hl{constructor(e,n,r,i,o,s){super(e,n,o),this.originalEvent=r,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==i&&i,this.activePointers=s}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},bt={SINGLECLICK:"singleclick",CLICK:"click",DBLCLICK:"dblclick",POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},uQ=class cQ extends Wu{constructor(e,n){super(e),this.map_=e,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===n?1:n,this.down_=null;const r=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=r,this.pointerdownListenerKey_=Ve(r,"pointerdown",this.handlePointerDown_,this),this.relayedListenerKey_=Ve(r,"pointermove",this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener("touchmove",this.boundHandleTouchMove_,!!ck&&{passive:!1})}emulateClick_(e){let n=new Fo(bt.CLICK,this.map_,e);this.dispatchEvent(n),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new Fo(bt.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const r=new Fo(bt.SINGLECLICK,this.map_,e);this.dispatchEvent(r)},250)}updateActivePointers_(e){const n=e,r=n.pointerId;if(n.type==bt.POINTERUP||n.type==bt.POINTERCANCEL){delete this.trackedTouches_[r];for(const i in this.trackedTouches_)if(this.trackedTouches_[i].target!==n.target){delete this.trackedTouches_[i];break}}else(n.type==bt.POINTERDOWN||n.type==bt.POINTERMOVE)&&(this.trackedTouches_[r]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new Fo(bt.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(mt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return 0===e.button}handlePointerDown_(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);const n=new Fo(bt.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),0===this.dragListenerKeys_.length){const r=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Ve(r,bt.POINTERMOVE,this.handlePointerMove_,this),Ve(r,bt.POINTERUP,this.handlePointerUp_,this),Ve(this.element_,bt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push(Ve(this.element_.getRootNode(),bt.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new Fo(bt.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new Fo(bt.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&("boolean"!=typeof e.cancelable||!0===e.cancelable)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(mt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener("touchmove",this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(mt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(mt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},Sp=1/0,hQ=class dQ{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Xu(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,r=e[0];1==e.length?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const i=this.keyFunction_(r);return delete this.queuedElements_[i],r}enqueue(e){Ie(!(this.keyFunction_(e)in this.queuedElements_),31);const n=this.priorityFunction_(e);return n!=Sp&&(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(e){return 2*e+1}getRightChildIndex_(e){return 2*e+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return 0===this.elements_.length}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,r=this.priorities_,i=n.length,o=n[e],s=r[e],a=e;for(;e<i>>1;){const l=this.getLeftChildIndex_(e),c=this.getRightChildIndex_(e),u=c<i&&r[c]<r[l]?c:l;n[e]=n[u],r[e]=r[u],e=u}n[e]=o,r[e]=s,this.siftDown_(a,e)}siftDown_(e,n){const r=this.elements_,i=this.priorities_,o=r[n],s=i[n];for(;n>e;){const a=this.getParentIndex_(n);if(!(i[a]>s))break;r[n]=r[a],i[n]=i[a],n=a}r[n]=o,i[n]=s}reprioritize(){const e=this.priorityFunction_,n=this.elements_,r=this.priorities_;let i=0;const o=n.length;let s,a,l;for(a=0;a<o;++a)s=n[a],l=e(s),l==Sp?delete this.queuedElements_[this.keyFunction_(s)]:(r[i]=l,n[i++]=s);n.length=i,r.length=i,this.heapify_()}},gQ=class fQ extends hQ{constructor(e,n){super(function(r){return e.apply(null,r)},function(r){return r[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener("change",this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,r=n.getState();if(2===r||3===r||4===r){3!==r&&n.removeEventListener("change",this.boundHandleTileChange_);const i=n.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let i,o,s,r=0;for(;this.tilesLoading_<e&&r<n&&this.getCount()>0;)o=this.dequeue()[0],s=o.getKey(),i=o.getState(),0===i&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++r,o.load())}},Dp=class _Q extends fi{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){nT(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&nT(this.element);for(let n=0,r=this.listenerKeys.length;n<r;++n)mt(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Ol&&this.listenerKeys.push(Ve(e,"postrender",this.render,this)),e.render())}render(e){}setTarget(e){this.target_="string"==typeof e?document.getElementById(e):e}},yQ=class mQ extends Dp{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===e.collapsed||e.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==e.collapsible,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1);const n=void 0!==e.className?e.className:"ol-attribution",r=void 0!==e.tipLabel?e.tipLabel:"Attributions",i=void 0!==e.expandClassName?e.expandClassName:n+"-expand",o=void 0!==e.collapseLabel?e.collapseLabel:"\u203a",s=void 0!==e.collapseClassName?e.collapseClassName:n+"-collapse";"string"==typeof o?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=s):this.collapseLabel_=o;const a=void 0!==e.label?e.label:"i";"string"==typeof a?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=i):this.label_=a;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=r,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener("click",this.handleClick_.bind(this),!1);const u=this.element;u.className=n+" "+yp+" "+tT+(this.collapsed_&&this.collapsible_?" "+lO:"")+(this.collapsible_?"":" ol-uncollapsible"),u.appendChild(this.toggleButton_),u.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=Array.from(new Set(this.getMap().getAllLayers().flatMap(i=>i.getAttributions(e)))),r=!this.getMap().getAllLayers().some(i=>i.getSource()&&!1===i.getSource().getAttributionsCollapsible());return this.overrideCollapsible_||this.setCollapsible(r),n}updateElement_(e){if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const n=this.collectSourceAttributions_(e),r=n.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!Po(n,this.renderedAttributions_)){!function QZ(t){for(;t.lastChild;)t.removeChild(t.lastChild)}(this.ulElement_);for(let i=0,o=n.length;i<o;++i){const s=document.createElement("li");s.innerHTML=n[i],this.ulElement_.appendChild(s)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(lO),this.collapsed_?dO(this.collapseLabel_,this.label_):dO(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}},EQ=class vQ extends Dp{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=void 0!==e.className?e.className:"ol-rotate",r=void 0!==e.label?e.label:"\u21e7",i=void 0!==e.compassClassName?e.compassClassName:"ol-compass";this.label_=null,"string"==typeof r?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=r):(this.label_=r,this.label_.classList.add(i));const o=e.tipLabel?e.tipLabel:"Reset rotation",s=document.createElement("button");s.className=n+"-reset",s.setAttribute("type","button"),s.title=o,s.appendChild(this.label_),s.addEventListener("click",this.handleClick_.bind(this),!1);const l=this.element;l.className=n+" "+yp+" "+tT,l.appendChild(s),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=void 0!==e.duration?e.duration:250,this.autoHide_=void 0===e.autoHide||e.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(mp)}handleClick_(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const r=n.getRotation();void 0!==r&&(this.duration_>0&&r%(2*Math.PI)!=0?n.animate({rotation:0,duration:this.duration_,easing:Bl}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const r=n.viewState.rotation;if(r!=this.rotation_){const i="rotate("+r+"rad)";if(this.autoHide_){const o=this.element.classList.contains(mp);o||0!==r?o&&0!==r&&this.element.classList.remove(mp):this.element.classList.add(mp)}this.label_.style.transform=i}this.rotation_=r}},TQ=class CQ extends Dp{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=void 0!==e.className?e.className:"ol-zoom",r=void 0!==e.delta?e.delta:1,i=void 0!==e.zoomInClassName?e.zoomInClassName:n+"-in",o=void 0!==e.zoomOutClassName?e.zoomOutClassName:n+"-out",s=void 0!==e.zoomInLabel?e.zoomInLabel:"+",a=void 0!==e.zoomOutLabel?e.zoomOutLabel:"\u2013",l=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",c=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=i,u.setAttribute("type","button"),u.title=l,u.appendChild("string"==typeof s?document.createTextNode(s):s),u.addEventListener("click",this.handleClick_.bind(this,r),!1);const d=document.createElement("button");d.className=o,d.setAttribute("type","button"),d.title=c,d.appendChild("string"==typeof a?document.createTextNode(a):a),d.addEventListener("click",this.handleClick_.bind(this,-r),!1);const f=this.element;f.className=n+" "+yp+" "+tT,f.appendChild(u),f.appendChild(d),this.duration_=void 0!==e.duration?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const r=this.getMap().getView();if(!r)return;const i=r.getZoom();if(void 0!==i){const o=r.getConstrainedZoom(i+e);this.duration_>0?(r.getAnimating()&&r.cancelAnimations(),r.animate({zoom:o,duration:this.duration_,easing:Bl})):r.setZoom(o)}}};function pO(t){t=t||{};const e=new gi;return(void 0===t.zoom||t.zoom)&&e.push(new TQ(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&e.push(new EQ(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&e.push(new yQ(t.attributionOptions)),e}function lT(t,e,n,r){const i=t.getZoom();if(void 0===i)return;const o=t.getConstrainedZoom(i+e),s=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:s,anchor:n,duration:void 0!==r?r:250,easing:Bl})}const ad=class MQ extends fi{constructor(e){super(),e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get("active")}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set("active",e)}setMap(e){this.map_=e}},wQ=class DQ extends ad{constructor(e){super(),this.delta_=(e=e||{}).delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:250}handleEvent(e){let n=!1;if(e.type==bt.DBLCLICK){const r=e.originalEvent,o=e.coordinate,s=r.shiftKey?-this.delta_:this.delta_;lT(e.map.getView(),s,o,this.duration_),r.preventDefault(),n=!0}return!n}};function cT(t){const e=t.length;let n=0,r=0;for(let i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return{clientX:n/e,clientY:r/e}}const ld=class IQ extends ad{constructor(e){super(e=e||{}),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==bt.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==bt.POINTERUP){const r=this.handleUpEvent(e);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(e.type==bt.POINTERDOWN){const r=this.handleDownEvent(e);this.handlingDownUpSequence=r,n=this.stopDown(r)}else e.type==bt.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}};function uT(t){const e=arguments;return function(n){let r=!0;for(let i=0,o=e.length;i<o&&(r=r&&e[i](n),r);++i);return r}}const RQ=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},mO=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){const e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)}(t)},bQ=zu,yO=function(t){const e=t.originalEvent;return 0==e.button&&!(EY&&CY&&e.ctrlKey)},vO=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},PQ=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},EO=function(t){const e=t.originalEvent,n=e.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!e.target.isContentEditable},dT=function(t){const e=t.originalEvent;return Ie(void 0!==e,56),"mouse"==e.pointerType},NQ=function(t){const e=t.originalEvent;return Ie(void 0!==e,56),e.isPrimary&&0===e.button},OQ=class kQ extends ld{constructor(e){super({stopDown:jg}),this.kinetic_=(e=e||{}).kinetic,this.lastCentroid=null,this.panning_=!1;const n=e.condition?e.condition:uT(vO,NQ);this.condition_=e.onFocusOnly?uT(mO,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const r=this.targetPointers,i=n.getEventPixel(cT(r));if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],a=e.map.getView();(function nZ(t,e){t[0]*=e,t[1]*=e})(o,a.getResolution()),AC(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,r=n.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const i=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),s=r.getCenterInternal(),a=n.getPixelFromCoordinateInternal(s),l=n.getCoordinateFromPixelInternal([a[0]-i*Math.cos(o),a[1]-i*Math.sin(o)]);r.animateInternal({center:r.getConstrainedCenter(l),duration:500,easing:Bl})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const r=e.map.getView();return this.lastCentroid=null,r.getAnimating()&&r.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}},FQ=class xQ extends ld{constructor(e){e=e||{},super({stopDown:jg}),this.condition_=e.condition?e.condition:RQ,this.lastAngle_=void 0,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){if(!dT(e))return;const n=e.map,r=n.getView();if(r.getConstraints().rotation===jC)return;const i=n.getSize(),o=e.pixel,s=Math.atan2(i[1]/2-o[1],o[0]-i[0]/2);void 0!==this.lastAngle_&&r.adjustRotationInternal(-(s-this.lastAngle_)),this.lastAngle_=s}handleUpEvent(e){return!dT(e)||(e.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(e){return!!(dT(e)&&yO(e)&&this.condition_(e))&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0)}},$Q=class LQ extends pC{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,r="px",i=this.element_.style;i.left=Math.min(e[0],n[0])+r,i.top=Math.min(e[1],n[1])+r,i.width=Math.abs(n[0]-e[0])+r,i.height=Math.abs(n[1]-e[1])+r}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,n=this.endPixel_,i=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new gp([i])}getGeometry(){return this.geometry_}};class hT extends Ki{constructor(e,n,r){super(e),this.coordinate=n,this.mapBrowserEvent=r}}const jQ=class VQ extends ld{constructor(e){super(),this.box_=new $Q((e=e||{}).className||"ol-dragbox"),this.minArea_=void 0!==e.minArea?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:yO,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,r){const i=r[0]-n[0],o=r[1]-n[1];return i*i+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new hT("boxdrag",e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new hT(n?"boxend":"boxcancel",e.coordinate,e)),!1}handleDownEvent(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new hT("boxstart",e.coordinate,e)),!0)}onBoxEnd(e){}},GQ=class BQ extends jQ{constructor(e){super({condition:(e=e||{}).condition?e.condition:PQ,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=void 0!==e.duration?e.duration:200,this.out_=void 0!==e.out&&e.out}onBoxEnd(e){const r=this.getMap().getView();let i=this.getGeometry();if(this.out_){const o=r.rotatedExtentForGeometry(i),s=r.getResolutionForExtentInternal(o),a=r.getResolution()/s;i=i.clone(),i.scale(a*a)}r.fitInternal(i,{duration:this.duration_,easing:Bl})}},HQ=class UQ extends ad{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return vO(n)&&EO(n)},this.condition_=void 0!==e.condition?e.condition:this.defaultCondition_,this.duration_=void 0!==e.duration?e.duration:100,this.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128}handleEvent(e){let n=!1;if("keydown"==e.type){const r=e.originalEvent,i=r.keyCode;if(this.condition_(e)&&(40==i||37==i||39==i||38==i)){const s=e.map.getView(),a=s.getResolution()*this.pixelDelta_;let l=0,c=0;40==i?c=-a:37==i?l=-a:39==i?l=a:c=a;const u=[l,c];AC(u,s.getRotation()),function SQ(t,e,n){const r=t.getCenterInternal();r&&t.animateInternal({duration:void 0!==n?n:250,easing:yZ,center:t.getConstrainedCenter([r[0]+e[0],r[1]+e[1]])})}(s,u,this.duration_),r.preventDefault(),n=!0}}return!n}},XQ=class zQ extends ad{constructor(e){super(),this.condition_=(e=e||{}).condition?e.condition:EO,this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:100}handleEvent(e){let n=!1;if("keydown"==e.type||"keypress"==e.type){const r=e.originalEvent,i=r.key;if(this.condition_(e)&&("+"===i||"-"===i)){const s="+"===i?this.delta_:-this.delta_;lT(e.map.getView(),s,void 0,this.duration_),r.preventDefault(),n=!0}}return!n}},qQ=class WQ{constructor(e,n,r){this.decay_=e,this.minVelocity_=n,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let r=n-3;for(;r>0&&this.points_[r+2]>e;)r-=3;const i=this.points_[n+2]-this.points_[r+2];if(i<1e3/60)return!1;const o=this.points_[n]-this.points_[r],s=this.points_[n+1]-this.points_[r+1];return this.angle_=Math.atan2(s,o),this.initialVelocity_=Math.sqrt(o*o+s*s)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}},YQ=class KQ extends ad{constructor(e){super(e=e||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==e.maxDelta?e.maxDelta:1,this.duration_=void 0!==e.duration?e.duration:250,this.timeout_=void 0!==e.timeout?e.timeout:80,this.useAnchor_=void 0===e.useAnchor||e.useAnchor,this.constrainResolution_=void 0!==e.constrainResolution&&e.constrainResolution;const n=e.condition?e.condition:bQ;this.condition_=e.onFocusOnly?uT(mO,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();e&&e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||"wheel"!==e.type)return!0;const r=e.map,i=e.originalEvent;let o;if(i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),"wheel"==e.type&&(o=i.deltaY,vY&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=lk),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),0===o)return!1;this.lastDelta_=o;const s=Date.now();void 0===this.startTime_&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");const a=r.getView();if("trackpad"===this.mode_&&!a.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=o;const l=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),l),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let r=-jt(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),lT(n,r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}},QQ=class ZQ extends ld{constructor(e){const n=e=e||{};n.stopDown||(n.stopDown=jg),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==e.threshold?e.threshold:.3,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){let n=0;const r=this.targetPointers[0],i=this.targetPointers[1],o=Math.atan2(i.clientY-r.clientY,i.clientX-r.clientX);if(void 0!==this.lastAngle_){const l=o-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=l}this.lastAngle_=o;const s=e.map,a=s.getView();a.getConstraints().rotation!==jC&&(this.anchor_=s.getCoordinateFromPixelInternal(s.getEventPixel(cT(this.targetPointers))),this.rotating_&&(s.render(),a.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return!(this.targetPointers.length<2&&(e.map.getView().endInteraction(this.duration_),1))}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}},eJ=class JQ extends ld{constructor(e){const n=e=e||{};n.stopDown||(n.stopDown=jg),super(n),this.anchor_=null,this.duration_=void 0!==e.duration?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const r=this.targetPointers[0],i=this.targetPointers[1],o=r.clientX-i.clientX,s=r.clientY-i.clientY,a=Math.sqrt(o*o+s*s);void 0!==this.lastDistance_&&(n=this.lastDistance_/a),this.lastDistance_=a;const l=e.map,c=l.getView();1!=n&&(this.lastScaleDelta_=n),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(cT(this.targetPointers))),l.render(),c.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){return!(this.targetPointers.length<2)||(e.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),!1)}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}};function CO(t){return t[0]>0&&t[1]>0}function lr(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}function TO(t){t instanceof _p?t.setMapInternal(null):t instanceof Mp&&t.getLayers().forEach(TO)}function MO(t,e){if(t instanceof _p)t.setMapInternal(e);else if(t instanceof Mp){const n=t.getLayers().getArray();for(let r=0,i=n.length;r<i;++r)MO(n[r],e)}}const oJ=class rJ extends fi{constructor(e){super();const n=function iJ(t){let e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},r=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new Mp({layers:t.layers});let i,o,s;return n.layergroup=r,n.target=t.target,n.view=t.view instanceof _i?t.view:new _i,void 0!==t.controls&&(Array.isArray(t.controls)?i=new gi(t.controls.slice()):(Ie("function"==typeof t.controls.getArray,47),i=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?o=new gi(t.interactions.slice()):(Ie("function"==typeof t.interactions.getArray,48),o=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?s=new gi(t.overlays.slice()):(Ie("function"==typeof t.overlays.getArray,49),s=t.overlays):s=new gi,{controls:i,interactions:o,keyboardEventTarget:e,overlays:s,values:n}}(e=e||{});this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:lk,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||pO(),this.interactions=n.interactions||function tJ(t){t=t||{};const e=new gi,n=new qQ(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new FQ),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new wQ({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&e.push(new OQ({onFocusOnly:t.onFocusOnly,kinetic:n})),(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new QQ),(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new eJ({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(e.push(new HQ),e.push(new XQ({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new YQ({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new GQ({duration:t.zoomDuration})),e}({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new gQ(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener("layergroup",this.handleLayerGroupChanged_),this.addChangeListener("view",this.handleViewChanged_),this.addChangeListener("size",this.handleSizeChanged_),this.addChangeListener("target",this.handleTargetChanged_),this.setProperties(n.values);const r=this;e.view&&!(e.view instanceof _i)&&e.view.then(function(i){r.setView(new _i(i))}),this.controls.addEventListener("add",i=>{i.element.setMap(this)}),this.controls.addEventListener("remove",i=>{i.element.setMap(null)}),this.interactions.addEventListener("add",i=>{i.element.setMap(this)}),this.interactions.addEventListener("remove",i=>{i.element.setMap(null)}),this.overlays_.addEventListener("add",i=>{this.addOverlayInternal_(i.element)}),this.overlays_.addEventListener("remove",i=>{const o=i.element.getId();void 0!==o&&delete this.overlayIdIndex_[o.toString()],i.element.setMap(null)}),this.controls.forEach(i=>{i.setMap(this)}),this.interactions.forEach(i=>{i.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){MO(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();void 0!==n&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,r){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(e);return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,void 0!==(r=void 0!==r?r:{}).hitTolerance?r.hitTolerance:0,!1!==r.checkWrapped,n,null,void 0!==r.layerFilter?r.layerFilter:zu,null)}getFeaturesAtPixel(e,n){const r=[];return this.forEachFeatureAtPixel(e,function(i){r.push(i)},n),r}getAllLayers(){const e=[];return function n(r){r.forEach(function(i){i instanceof Mp?n(i.getLayers()):e.push(i)})}(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const r=this.getCoordinateFromPixelInternal(e);return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,!1!==n.checkWrapped,void 0!==n.layerFilter?n.layerFilter:zu,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const r=this.viewport_.getBoundingClientRect(),i=this.getSize(),a="changedTouches"in e?e.changedTouches[0]:e;return[(a.clientX-r.left)/(r.width/i[0]),(a.clientY-r.top)/(r.height/i[1])]}getTarget(){return this.get("target")}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return FC(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?Wt(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return void 0!==n?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get("layergroup")}setLayers(e){const n=this.getLayerGroup();if(e instanceof gi)return void n.setLayers(e);const r=n.getLayers();r.clear(),r.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n];if(!i.visible)continue;const o=i.layer.getRenderer();if(o&&!o.ready)return!0;const s=i.layer.getSource();if(s&&s.loading)return!0}return!1}getPixelFromCoordinate(e){const n=Ji(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?Wt(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get("size")}getView(){return this.get("view")}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,r,i){return function pQ(t,e,n,r,i){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return Sp;const o=t.viewState.center,s=r[0]-o[0],a=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(s*s+a*a)/i}(this.frameState_,e,n,r,i)}handleBrowserEvent(e,n){const r=new Fo(n=n||e.type,this,e);this.handleMapBrowserEvent(r)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,r=n.type;if("pointerdown"===r||"wheel"===r||"keydown"===r){const i=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():i,s=n.target;if(this.overlayContainerStopEvent_.contains(s)||!(o===i?i.documentElement:o).contains(s))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e)){const i=this.getInteractions().getArray().slice();for(let o=i.length-1;o>=0;o--){const s=i[o];if(s.getMap()===this&&s.getActive()&&this.getTargetElement()&&(!s.handleEvent(e)||e.propagationStopped))break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let i=this.maxTilesLoading_,o=i;if(e){const s=e.viewHints;if(s[0]||s[1]){const a=Date.now()-e.time>8;i=a?0:8,o=a?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,o))}e&&this.renderer_&&!e.animate&&(!0===this.renderComplete_?(this.hasListener("rendercomplete")&&this.renderer_.dispatchRenderEvent("rendercomplete",e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new Hl("loadend",this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new Hl("loadstart",this,e))));const r=this.postRenderFunctions_;for(let i=0,o=r.length;i<o;++i)r[i](this,e);r.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let r=0,i=this.targetChangeHandlerKeys_.length;r<i;++r)mt(this.targetChangeHandlerKeys_[r]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener("contextmenu",this.boundHandleBrowserEvent_),this.viewport_.removeEventListener("wheel",this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,nT(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const r=this.targetElement_.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.unobserve(r.host)}const e=this.getTarget(),n="string"==typeof e?document.getElementById(e):e;if(this.targetElement_=n,n){n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new sQ(this)),this.mapBrowserEventHandler_=new uQ(this,this.moveTolerance_);for(const o in bt)this.mapBrowserEventHandler_.addEventListener(bt[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener("contextmenu",this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener("wheel",this.boundHandleBrowserEvent_,!!ck&&{passive:!1});const r=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[Ve(r,"keydown",this.handleBrowserEvent,this),Ve(r,"keypress",this.handleBrowserEvent,this)];const i=n.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_.observe(n)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(mt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(mt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Ve(e,"propertychange",this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Ve(e,"change",this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(mt),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new xo("addlayer",e)),this.layerGroupPropertyListenerKeys_=[Ve(e,"propertychange",this.render,this),Ve(e,"change",this.render,this),Ve(e,"addlayer",this.handleLayerAdd_,this),Ve(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){TO(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),r=this.getView(),i=this.frameState_;let o=null;if(void 0!==n&&CO(n)&&r&&r.isDef()){const s=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=r.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:DC(a.center,a.resolution,a.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:s,wantedTiles:{},mapId:He(this),renderTargets:{}},a.nextCenter&&a.nextResolution){const l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;o.nextExtent=DC(a.nextCenter,a.nextResolution,l,n)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),i&&(!this.previousExtent_||!IC(this.previousExtent_)&&!Ku(o.extent,this.previousExtent_))&&(this.dispatchEvent(new Hl("movestart",this,i)),this.previousExtent_=qs(this.previousExtent_)),this.previousExtent_&&!o.viewHints[0]&&!o.viewHints[1]&&!Ku(o.extent,this.previousExtent_)&&(this.dispatchEvent(new Hl("moveend",this,o)),dk(o.extent,this.previousExtent_))),this.dispatchEvent(new Hl("postrender",this,o)),this.renderComplete_=this.hasListener("loadstart")||this.hasListener("loadend")||this.hasListener("rendercomplete")?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new xo("removelayer",n)),this.set("layergroup",e)}setSize(e){this.set("size",e)}setTarget(e){this.set("target",e)}setView(e){if(!e||e instanceof _i)return void this.set("view",e);this.set("view",new _i);const n=this;e.then(function(r){n.setView(new _i(r))})}updateSize(){const e=this.getTargetElement();let n;if(e){const i=getComputedStyle(e),o=e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),s=e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(o)&&!isNaN(s)&&(n=[o,s],!CO(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&kk("No map visible because the map container's width or height are 0."))}const r=this.getSize();n&&(!r||!Po(n,r))&&(this.setSize(n),this.updateViewportSize_())}updateViewportSize_(){const e=this.getView();if(e){let n;const r=getComputedStyle(this.viewport_);r.width&&r.height&&(n=[parseInt(r.width,10),parseInt(r.height,10)]),e.setViewportSize(n)}}},aJ=class sJ extends _p{constructor(e){e=e||{};const n=Object.assign({},e);delete n.preload,delete n.useInterimTilesOnError,super(n),this.setPreload(void 0!==e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError)}getPreload(){return this.get("preload")}setPreload(e){this.set("preload",e)}getUseInterimTilesOnError(){return this.get("useInterimTilesOnError")}setUseInterimTilesOnError(e){this.set("useInterimTilesOnError",e)}getData(e){return super.getData(e)}},cJ=class lJ extends ik{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return ge()}getData(e){return null}prepareFrame(e){return ge()}renderFrame(e,n){return ge()}loadedTileCallback(e,n,r){e[n]||(e[n]={}),e[n][r.tileCoord.toString()]=r}createLoadedTileFinder(e,n,r){return(i,o)=>{const s=this.loadedTileCallback.bind(this,r,i);return e.forEachLoadedTile(n,i,o,s)}}forEachFeatureAtCoordinate(e,n,r,i,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){2===e.target.getState()&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return 2!=n&&3!=n&&e.addEventListener("change",this.boundHandleImageChange_),0==n&&(e.load(),n=e.getState()),2==n}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&"ready"===e.getSourceState()&&e.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}},SO=[];let zl=null;const DO=class dJ extends cJ{constructor(e){super(e),this.container=null,this.tempTransform=[1,0,0,1,0,0],this.pixelTransform=[1,0,0,1,0,0],this.inversePixelTransform=[1,0,0,1,0,0],this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,n,r){let i;zl||function uJ(){zl=Pn(1,1,void 0,{willReadFrequently:!0})}(),zl.clearRect(0,0,1,1);try{zl.drawImage(e,n,r,1,1,0,0,1,1),i=zl.getImageData(0,0,1,1).data}catch{return zl=null,null}return i}getBackground(e){let r=this.getLayer().getBackground();return"function"==typeof r&&(r=r(e.viewState.resolution)),r||void 0}useContainer(e,n,r){const i=this.getLayer().getClassName();let o,s;if(e&&e.className===i&&(!r||e&&e.style.backgroundColor&&Po(ep(e.style.backgroundColor),ep(r)))){const a=e.firstElementChild;a instanceof HTMLCanvasElement&&(s=a.getContext("2d"))}if(s&&s.canvas.style.transform===n?(this.container=e,this.context=s,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){o=document.createElement("div"),o.className=i;let a=o.style;a.position="absolute",a.width="100%",a.height="100%",s=Pn();const l=s.canvas;o.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=o,this.context=s}!this.containerReused&&r&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=r)}clipUnrotated(e,n,r){const i=Ys(r),o=Kg(r),s=qg(r),a=Wg(r);Wt(n.coordinateToPixelTransform,i),Wt(n.coordinateToPixelTransform,o),Wt(n.coordinateToPixelTransform,s),Wt(n.coordinateToPixelTransform,a);const l=this.inversePixelTransform;Wt(l,i),Wt(l,o),Wt(l,s),Wt(l,a),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}dispatchRenderEvent_(e,n,r){const i=this.getLayer();if(i.hasListener(e)){const o=new aO(e,this.inversePixelTransform,r,n);i.dispatchEvent(o)}}preRender(e,n){this.frameState=n,this.dispatchRenderEvent_("prerender",e,n)}postRender(e,n){this.dispatchRenderEvent_("postrender",e,n)}getRenderTransform(e,n,r,i,o,s,a){const u=i/n;return Zi(this.tempTransform,o/2,s/2,u,-u,-r,-e[0]+a,-e[1])}disposeInternal(){delete this.frameState,super.disposeInternal()}},wO=class hJ extends Wu{constructor(e,n,r){super(),r=r||{},this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=void 0===r.transition?250:r.transition,this.transitionStarts_={},this.interpolate=!!r.interpolate}changed(){this.dispatchEvent("change")}release(){3===this.state&&this.setState(4)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let e=this.interimTile;do{if(2==e.getState())return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){if(!this.interimTile)return;let e=this.interimTile,n=this;do{if(2==e.getState()){e.interimTile=null;break}1==e.getState()?n=e:0==e.getState()?n.interimTile=e.interimTile:n=e,e=n.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(3!==this.state&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){ge()}getAlpha(e,n){if(!this.transition_)return 1;let r=this.transitionStarts_[e];if(r){if(-1===r)return 1}else r=n,this.transitionStarts_[e]=r;const i=n-r+1e3/60;return i>=this.transition_?1:Uk(i/this.transition_)}inTransition(e){return!!this.transition_&&-1!==this.transitionStarts_[e]}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}};function fT(t,e,n){const r=t;let i=!0,o=!1,s=!1;const a=[Bg(r,"load",function(){s=!0,o||e()})];return r.src&&TY?(o=!0,r.decode().then(function(){i&&e()}).catch(function(l){i&&(s?e():n())})):a.push(Bg(r,"error",n)),function(){i=!1,a.forEach(mt)}}const IO=class pJ extends wO{constructor(e,n,r,i,o,s){super(e,n,s),this.crossOrigin_=i,this.src_=r,this.key=r,this.image_=new Image,null!==i&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(e){this.image_=e,this.state=2,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=3,this.unlistenImage_(),this.image_=function _J(){const t=Pn(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}(),this.changed()}handleImageLoad_(){const e=this.image_;this.state=e.naturalWidth&&e.naturalHeight?2:4,this.unlistenImage_(),this.changed()}load(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=fT(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}},EJ=class vJ{constructor(e,n,r,i,o,s){this.sourceProj_=e,this.targetProj_=n;let a={};const l=Ju(this.targetProj_,this.sourceProj_);this.transformInv_=function(y){const v=y[0]+"/"+y[1];return a[v]||(a[v]=l(y)),a[v]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&dt(i)==dt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?dt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?dt(this.targetProj_.getExtent()):null;const c=Ys(r),u=Kg(r),d=qg(r),h=Wg(r),f=this.transformInv_(c),g=this.transformInv_(u),p=this.transformInv_(d),_=this.transformInv_(h),m=10+(s?Math.max(0,Math.ceil(Math.log2(Xg(r)/(s*s*256*256)))):0);if(this.addQuad_(c,u,d,h,f,g,p,_,m),this.wrapsXInSource_){let y=1/0;this.triangles_.forEach(function(v,E,C){y=Math.min(y,v.source[0][0],v.source[1][0],v.source[2][0])}),this.triangles_.forEach(v=>{if(Math.max(v.source[0][0],v.source[1][0],v.source[2][0])-y>this.sourceWorldWidth_/2){const E=[[v.source[0][0],v.source[0][1]],[v.source[1][0],v.source[1][1]],[v.source[2][0],v.source[2][1]]];E[0][0]-y>this.sourceWorldWidth_/2&&(E[0][0]-=this.sourceWorldWidth_),E[1][0]-y>this.sourceWorldWidth_/2&&(E[1][0]-=this.sourceWorldWidth_),E[2][0]-y>this.sourceWorldWidth_/2&&(E[2][0]-=this.sourceWorldWidth_);const C=Math.min(E[0][0],E[1][0],E[2][0]);Math.max(E[0][0],E[1][0],E[2][0])-C<this.sourceWorldWidth_/2&&(v.source=E)}})}a={}}addTriangle_(e,n,r,i,o,s){this.triangles_.push({source:[i,o,s],target:[e,n,r]})}addQuad_(e,n,r,i,o,s,a,l,c){const u=CC([o,s,a,l]),d=this.sourceWorldWidth_?dt(u)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&d>.5&&d<1;let g=!1;if(c>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(g=dt(CC([e,n,r,i]))/this.targetWorldWidth_>.25||g),!f&&this.sourceProj_.isGlobal()&&d&&(g=d>.25||g)),!g&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!An(u,this.maxSourceExtent_))return;let p=0;if(!(g||isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(l[0])&&isFinite(l[1])))if(c>0)g=!0;else if(p=(isFinite(o[0])&&isFinite(o[1])?0:8)+(isFinite(s[0])&&isFinite(s[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(l[0])&&isFinite(l[1])?0:1),1!=p&&2!=p&&4!=p&&8!=p)return;if(c>0){if(!g){const m=this.transformInv_([(e[0]+r[0])/2,(e[1]+r[1])/2]);let y;y=f?($l(o[0],h)+$l(a[0],h))/2-$l(m[0],h):(o[0]+a[0])/2-m[0];const v=(o[1]+a[1])/2-m[1];g=y*y+v*v>this.errorThresholdSquared_}if(g){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){const _=[(n[0]+r[0])/2,(n[1]+r[1])/2],m=this.transformInv_(_),y=[(i[0]+e[0])/2,(i[1]+e[1])/2],v=this.transformInv_(y);this.addQuad_(e,n,_,y,o,s,m,v,c-1),this.addQuad_(y,_,r,i,v,m,a,l,c-1)}else{const _=[(e[0]+n[0])/2,(e[1]+n[1])/2],m=this.transformInv_(_),y=[(r[0]+i[0])/2,(r[1]+i[1])/2],v=this.transformInv_(y);this.addQuad_(e,_,y,i,o,m,v,l,c-1),this.addQuad_(_,n,r,y,m,s,a,v,c-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}!(11&p)&&this.addTriangle_(e,r,i,o,a,l),!(14&p)&&this.addTriangle_(e,r,n,o,a,s),p&&(!(13&p)&&this.addTriangle_(n,i,e,s,l,o),!(7&p)&&this.addTriangle_(n,i,r,s,l,a))}calculateSourceExtent(){const e=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(n,r,i){const o=n.source;Fl(e,o[0]),Fl(e,o[1]),Fl(e,o[2])}),e}getTriangles(){return this.triangles_}};let gT;const Xl=[];function AO(t,e,n,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,i)),t.restore()}function pT(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function bO(t,e,n,r){const i=ea(n,e,t);let o=Fk(e,r,n);const s=e.getMetersPerUnit();void 0!==s&&(o*=s);const a=t.getMetersPerUnit();void 0!==a&&(o/=a);const l=t.getExtent();if(!l||zg(l,i)){const c=Fk(t,o,i)/o;isFinite(c)&&c>0&&(o/=c)}return o}const _T=class SJ extends wO{constructor(e,n,r,i,o,s,a,l,c,u,d,h){super(o,0,{interpolate:!!h}),this.renderEdges_=void 0!==d&&d,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=i,this.wrappedTileCoord_=s||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const f=i.getTileCoordExtent(this.wrappedTileCoord_),g=this.targetTileGrid_.getExtent();let p=this.sourceTileGrid_.getExtent();const _=g?Ll(f,g):f;if(0===Xg(_))return void(this.state=4);const m=e.getExtent();m&&(p=p?Ll(p,m):m);const y=i.getResolution(this.wrappedTileCoord_[0]),v=function TJ(t,e,n,r){const i=Ks(n);let o=bO(t,e,i,r);return(!isFinite(o)||o<=0)&&_k(n,function(s){return o=bO(t,e,s,r),isFinite(o)&&o>0}),o}(e,r,_,y);if(!isFinite(v)||v<=0)return void(this.state=4);if(this.triangulation_=new EJ(e,r,_,p,v*(void 0!==u?u:.5),y),0===this.triangulation_.getTriangles().length)return void(this.state=4);this.sourceZ_=n.getZForResolution(v);let C=this.triangulation_.calculateSourceExtent();if(p&&(e.canWrapX()?(C[1]=jt(C[1],p[1],p[3]),C[3]=jt(C[3],p[1],p[3])):C=Ll(C,p)),Xg(C)){const N=n.getTileRangeForExtentAndZ(C,this.sourceZ_);for(let P=N.minX;P<=N.maxX;P++)for(let L=N.minY;L<=N.maxY;L++){const H=c(this.sourceZ_,P,L,a);H&&this.sourceTiles_.push(H)}0===this.sourceTiles_.length&&(this.state=4)}else this.state=4}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{n&&2==n.getState()&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(n.tileCoord),image:n.getImage()})}),this.sourceTiles_.length=0,0===e.length)this.state=3;else{const n=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(n),i="number"==typeof r?r:r[0],o="number"==typeof r?r:r[1],s=this.targetTileGrid_.getResolution(n),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function MJ(t,e,n,r,i,o,s,a,l,c,u,d){const h=Pn(Math.round(n*t),Math.round(n*e),Xl);if(d||(h.imageSmoothingEnabled=!1),0===l.length)return h.canvas;function f(E){return Math.round(E*n)/n}h.scale(n,n),h.globalCompositeOperation="lighter";const g=[1/0,1/0,-1/0,-1/0];l.forEach(function(E,C,N){fk(g,E.extent)});const p=dt(g),_=sr(g),m=Pn(Math.round(n*p/r),Math.round(n*_/r),Xl);d||(m.imageSmoothingEnabled=!1);const y=n/r;l.forEach(function(E,C,N){const P=E.extent[0]-g[0],L=-(E.extent[3]-g[3]),H=dt(E.extent),K=sr(E.extent);E.image.width>0&&E.image.height>0&&m.drawImage(E.image,c,c,E.image.width-2*c,E.image.height-2*c,P*y,L*y,H*y,K*y)});const v=Ys(s);return a.getTriangles().forEach(function(E,C,N){const P=E.source,L=E.target;let H=P[0][0],K=P[0][1],ce=P[1][0],V=P[1][1],z=P[2][0],Le=P[2][1];const ae=f((L[0][0]-v[0])/o),j=f(-(L[0][1]-v[1])/o),B=f((L[1][0]-v[0])/o),X=f(-(L[1][1]-v[1])/o),Re=f((L[2][0]-v[0])/o),ke=f(-(L[2][1]-v[1])/o),Ct=H,F=K;H=0,K=0,ce-=Ct,V-=F,z-=Ct,Le-=F;const be=function FY(t){const e=t.length;for(let r=0;r<e;r++){let i=r,o=Math.abs(t[r][r]);for(let a=r+1;a<e;a++){const l=Math.abs(t[a][r]);l>o&&(o=l,i=a)}if(0===o)return null;const s=t[i];t[i]=t[r],t[r]=s;for(let a=r+1;a<e;a++){const l=-t[a][r]/t[r][r];for(let c=r;c<e+1;c++)r==c?t[a][c]=0:t[a][c]+=l*t[r][c]}}const n=new Array(e);for(let r=e-1;r>=0;r--){n[r]=t[r][e]/t[r][r];for(let i=r-1;i>=0;i--)t[i][e]-=t[i][r]*n[r]}return n}([[ce,V,0,0,B-ae],[z,Le,0,0,Re-ae],[0,0,ce,V,X-j],[0,0,z,Le,ke-j]]);if(be){if(h.save(),h.beginPath(),function CJ(){if(void 0===gT){const t=Pn(6,6,Xl);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",AO(t,4,5,4,0),AO(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;gT=pT(e,0)||pT(e,4)||pT(e,8),vp(t),Xl.push(t.canvas)}return gT}()||!d){h.moveTo(B,X);const je=4,Kn=ae-B,gn=j-X;for(let St=0;St<je;St++)h.lineTo(B+f((St+1)*Kn/je),X+f(St*gn/(je-1))),St!=je-1&&h.lineTo(B+f((St+1)*Kn/je),X+f((St+1)*gn/(je-1)));h.lineTo(Re,ke)}else h.moveTo(B,X),h.lineTo(ae,j),h.lineTo(Re,ke);h.clip(),h.transform(be[0],be[2],be[1],be[3],ae,j),h.translate(g[0]-Ct,g[3]-F),h.scale(r/n,-r/n),h.drawImage(m.canvas,0,0),h.restore()}}),vp(m),Xl.push(m.canvas),u&&(h.save(),h.globalCompositeOperation="source-over",h.strokeStyle="black",h.lineWidth=1,a.getTriangles().forEach(function(E,C,N){const P=E.target,L=(P[0][0]-v[0])/o,H=-(P[0][1]-v[1])/o,K=(P[1][0]-v[0])/o,ce=-(P[1][1]-v[1])/o,V=(P[2][0]-v[0])/o,z=-(P[2][1]-v[1])/o;h.beginPath(),h.moveTo(K,ce),h.lineTo(L,H),h.lineTo(V,z),h.closePath(),h.stroke()}),h.restore()),h.canvas}(i,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=2}this.changed()}load(){if(0==this.state){this.state=1,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(n=>{const r=n.getState();if(0==r||1==r){e++;const i=Ve(n,"change",function(o){const s=n.getState();(2==s||3==s||4==s)&&(mt(i),e--,0===e&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(i)}}),0===e?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(n,r,i){0==n.getState()&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(mt),this.sourcesListenerKeys_=null}release(){this.canvas_&&(vp(this.canvas_.getContext("2d")),Xl.push(this.canvas_),this.canvas_=null),super.release()}};class PO{constructor(e,n,r,i){this.minX=e,this.maxX=n,this.minY=r,this.maxY=i}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function Wl(t,e,n,r,i){return void 0!==i?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=r,i):new PO(t,e,n,r)}const NO=PO,wJ=class DJ extends DO{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedProjection=null,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=[1/0,1/0,-1/0,-1/0],this.tmpTileRange_=new NO(0,0,0,0)}isDrawableTile(e){const n=this.getLayer(),r=e.getState(),i=n.getUseInterimTilesOnError();return 2==r||4==r||3==r&&!i}getTile(e,n,r,i){const o=i.pixelRatio,s=i.viewState.projection,a=this.getLayer();let c=a.getSource().getTile(e,n,r,o,s);return 3==c.getState()&&a.getUseInterimTilesOnError()&&a.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(c)||(c=c.getInterimTile()),c}getData(e){const n=this.frameState;if(!n)return null;const r=this.getLayer(),i=Wt(n.pixelToCoordinateTransform,e.slice()),o=r.getExtent();if(o&&!zg(o,i))return null;const s=n.pixelRatio,a=n.viewState.projection,l=n.viewState,c=r.getRenderSource(),u=c.getTileGridForProjection(l.projection),d=c.getTilePixelRatio(n.pixelRatio);for(let h=u.getZForResolution(l.resolution);h>=u.getMinZoom();--h){const f=u.getTileCoordForCoordAndZ(i,h),g=c.getTile(h,f[1],f[2],s,a);if(!(g instanceof IO||g instanceof _T)||g instanceof _T&&4===g.getState())return null;if(2!==g.getState())continue;const p=u.getOrigin(h),_=lr(u.getTileSize(h)),m=u.getResolution(h),y=Math.floor(d*((i[0]-p[0])/m-f[1]*_[0])),v=Math.floor(d*((p[1]-i[1])/m-f[2]*_[1])),E=Math.round(d*c.getGutterForProjection(l.projection));return this.getImageData(g.getImage(),y+E,v+E)}return null}loadedTileCallback(e,n,r){return!!this.isDrawableTile(r)&&super.loadedTileCallback(e,n,r)}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,n){const r=e.layerStatesArray[e.layerIndex],i=e.viewState,o=i.projection,s=i.resolution,a=i.center,l=i.rotation,c=e.pixelRatio,u=this.getLayer(),d=u.getSource(),h=d.getRevision(),f=d.getTileGridForProjection(o),g=f.getZForResolution(s,d.zDirection),p=f.getResolution(g);let _=e.extent;const m=e.viewState.resolution,y=d.getTilePixelRatio(c),v=Math.round(dt(_)/m*c),E=Math.round(sr(_)/m*c),C=r.extent&&ta(r.extent);C&&(_=Ll(_,ta(r.extent)));const N=p*v/2/y,P=p*E/2/y,L=[a[0]-N,a[1]-P,a[0]+N,a[1]+P],H=f.getTileRangeForExtentAndZ(_,g),K={};K[g]={};const ce=this.createLoadedTileFinder(d,o,K),V=this.tmpExtent,z=this.tmpTileRange_;this.newTiles_=!1;const Le=l?wC(i.center,m,l,e.size):void 0;for(let Ut=H.minX;Ut<=H.maxX;++Ut)for(let be=H.minY;be<=H.maxY;++be){if(l&&!f.tileCoordIntersectsViewport([g,Ut,be],Le))continue;const je=this.getTile(g,Ut,be,e);if(this.isDrawableTile(je)){const St=He(this);if(2==je.getState()){K[g][je.tileCoord.toString()]=je;let Nn=je.inTransition(St);Nn&&1!==r.opacity&&(je.endTransition(St),Nn=!1),!this.newTiles_&&(Nn||!this.renderedTiles.includes(je))&&(this.newTiles_=!0)}if(1===je.getAlpha(St,e.time))continue}const Kn=f.getTileCoordChildTileRange(je.tileCoord,z,V);let gn=!1;Kn&&(gn=ce(g+1,Kn)),gn||f.forEachTileCoordParentTileRange(je.tileCoord,ce,z,V)}const ae=p/s*c/y;Zi(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/c,1/c,l,-v/2,-E/2);const j=EC(this.pixelTransform);this.useContainer(n,j,this.getBackground(e));const B=this.context,X=B.canvas;Hg(this.inversePixelTransform,this.pixelTransform),Zi(this.tempTransform,v/2,E/2,ae,ae,0,-v/2,-E/2),X.width!=v||X.height!=E?(X.width=v,X.height=E):this.containerReused||B.clearRect(0,0,v,E),C&&this.clipUnrotated(B,e,C),d.getInterpolate()||(B.imageSmoothingEnabled=!1),this.preRender(B,e),this.renderedTiles.length=0;let ke,Ct,F,Re=Object.keys(K).map(Number);Re.sort(zs),1!==r.opacity||this.containerReused&&!d.getOpaque(e.viewState.projection)?(ke=[],Ct=[]):Re=Re.reverse();for(let Ut=Re.length-1;Ut>=0;--Ut){const be=Re[Ut],je=d.getTilePixelSize(be,c,o),gn=f.getResolution(be)/p,St=je[0]*gn*ae,Nn=je[1]*gn*ae,Mr=f.getTileCoordForCoordAndZ(Ys(L),be),Ci=f.getTileCoordExtent(Mr),Sr=Wt(this.tempTransform,[y*(Ci[0]-L[0])/p,y*(L[3]-Ci[3])/p]),Ti=y*d.getGutterForProjection(o),Yn=K[be];for(const ur in Yn){const Zn=Yn[ur],Q=Zn.tileCoord,ga=Mr[1]-Q[1],pa=Math.round(Sr[0]-(ga-1)*St),io=Mr[2]-Q[2],ec=Math.round(Sr[1]-(io-1)*Nn),nn=Math.round(Sr[0]-ga*St),kn=Math.round(Sr[1]-io*Nn),Qn=pa-nn,Dr=ec-kn,oo=g===be,Mi=oo&&1!==Zn.getAlpha(He(this),e.time);let Wr=!1;if(!Mi)if(ke){F=[nn,kn,nn+Qn,kn,nn+Qn,kn+Dr,nn,kn+Dr];for(let so=0,_a=ke.length;so<_a;++so)if(g!==be&&be<Ct[so]){const Kt=ke[so];An([nn,kn,nn+Qn,kn+Dr],[Kt[0],Kt[3],Kt[4],Kt[7]])&&(Wr||(B.save(),Wr=!0),B.beginPath(),B.moveTo(F[0],F[1]),B.lineTo(F[2],F[3]),B.lineTo(F[4],F[5]),B.lineTo(F[6],F[7]),B.moveTo(Kt[6],Kt[7]),B.lineTo(Kt[4],Kt[5]),B.lineTo(Kt[2],Kt[3]),B.lineTo(Kt[0],Kt[1]),B.clip())}ke.push(F),Ct.push(be)}else B.clearRect(nn,kn,Qn,Dr);this.drawTileImage(Zn,e,nn,kn,Qn,Dr,Ti,oo),ke&&!Mi?(Wr&&B.restore(),this.renderedTiles.unshift(Zn)):this.renderedTiles.push(Zn),this.updateUsedTiles(e.usedTiles,d,Zn)}}return this.renderedRevision=h,this.renderedResolution=p,this.extentChanged=!this.renderedExtent_||!Ku(this.renderedExtent_,L),this.renderedExtent_=L,this.renderedPixelRatio=c,this.renderedProjection=o,this.manageTilePyramid(e,d,f,c,o,_,g,u.getPreload()),this.scheduleExpireCache(e,d),this.postRender(B,e),r.extent&&B.restore(),B.imageSmoothingEnabled=!0,j!==X.style.transform&&(X.style.transform=j),this.container}drawTileImage(e,n,r,i,o,s,a,l){const c=this.getTileImage(e);if(!c)return;const u=He(this),d=n.layerStatesArray[n.layerIndex],h=d.opacity*(l?e.getAlpha(u,n.time):1),f=h!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=h),this.context.drawImage(c,a,a,c.width-2*a,c.height-2*a,r,i,o,s),f&&this.context.restore(),h!==d.opacity?n.animate=!0:l&&e.endTransition(u)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,n){if(n.canExpireCache()){const r=function(i,o,s){const a=He(i);a in s.usedTiles&&i.expireCache(s.viewState.projection,s.usedTiles[a])}.bind(null,n);e.postRenderFunctions.push(r)}}updateUsedTiles(e,n,r){const i=He(n);i in e||(e[i]={}),e[i][r.getKey()]=!0}manageTilePyramid(e,n,r,i,o,s,a,l,c){const u=He(n);u in e.wantedTiles||(e.wantedTiles[u]={});const d=e.wantedTiles[u],h=e.tileQueue,f=r.getMinZoom(),g=e.viewState.rotation,p=g?wC(e.viewState.center,e.viewState.resolution,g,e.size):void 0;let m,y,v,E,C,N,_=0;for(N=f;N<=a;++N)for(y=r.getTileRangeForExtentAndZ(s,N,y),v=r.getResolution(N),E=y.minX;E<=y.maxX;++E)for(C=y.minY;C<=y.maxY;++C)g&&!r.tileCoordIntersectsViewport([N,E,C],p)||(a-N<=l?(++_,m=n.getTile(N,E,C,i,o),0==m.getState()&&(d[m.getKey()]=!0,h.isKeyQueued(m.getKey())||h.enqueue([m,u,r.getTileCoordCenter(m.tileCoord),v])),void 0!==c&&c(m)):n.useTile(N,E,C,o));n.updateCacheSize(_,o)}},mT=class IJ extends aJ{constructor(e){super(e)}createRenderer(){return new wJ(this)}},AJ=class RJ{constructor(e){this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const r=this.entries_[e];return Ie(void 0!==r,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_}remove(e){const n=this.entries_[e];return Ie(void 0!==n,15),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let r,n=0;for(r=this.newest_;r;r=r.older)e[n++]=r.key_;return e}getValues(){const e=new Array(this.count_);let r,n=0;for(r=this.newest_;r;r=r.older)e[n++]=r.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){if(this.containsKey(e))return this.entries_[e].value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){Ie(!(e in this.entries_),16);const r={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_}setSize(e){this.highWaterMark=e}};function kO(t,e,n,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function cd(t,e,n){return t+"/"+e+"/"+n}function OO(t){return cd(t[0],t[1],t[2])}const xO=class kJ extends AJ{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(0===this.getCount())return;const r=function bJ(t){return t.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(i=>{i.tileCoord[0]!==r&&(this.remove(OO(i.tileCoord)),i.release())})}};function FO(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}const LO=class OJ extends fi{constructor(e){super(),this.projection=Ge(e.projection),this.attributions_=FO(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:"ready",this.wrapX_=void 0!==e.wrapX&&e.wrapX,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(r,i){n.viewResolver=r,n.viewRejector=i})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=FO(e),this.changed()}setState(e){this.state_=e,this.changed()}},ql=[0,0,0],vT=class xJ{constructor(e){let n;if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,Ie(function uY(t,e,n){const r=e||zs;return t.every(function(i,o){if(0===o)return!0;const s=r(t[o-1],i);return!(s>0||n&&0===s)})}(this.resolutions_,function(i,o){return o-i},!0),17),!e.origins)for(let i=0,o=this.resolutions_.length-1;i<o;++i)if(n){if(this.resolutions_[i]/this.resolutions_[i+1]!==n){n=void 0;break}}else n=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,Ie(this.origins_.length==this.resolutions_.length,20));const r=e.extent;void 0!==r&&!this.origin_&&!this.origins_&&(this.origin_=Ys(r)),Ie(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,Ie(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:256,Ie(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==r?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map(function(i,o){const s=new NO(Math.min(0,i[0]),Math.max(i[0]-1,-1),Math.min(0,i[1]),Math.max(i[1]-1,-1));if(r){const a=this.getTileRangeForExtentAndZ(r,o);s.minX=Math.max(a.minX,s.minX),s.maxX=Math.min(a.maxX,s.maxX),s.minY=Math.max(a.minY,s.minY),s.maxY=Math.min(a.maxY,s.maxY)}return s},this):r&&this.calculateTileRanges_(r)}forEachTileCoord(e,n,r){const i=this.getTileRangeForExtentAndZ(e,n);for(let o=i.minX,s=i.maxX;o<=s;++o)for(let a=i.minY,l=i.maxY;a<=l;++a)r([n,o,a])}forEachTileCoordParentTileRange(e,n,r,i){let o,s,a,l=null,c=e[0]-1;for(2===this.zoomFactor_?(s=e[1],a=e[2]):l=this.getTileCoordExtent(e,i);c>=this.minZoom;){if(2===this.zoomFactor_?(s=Math.floor(s/2),a=Math.floor(a/2),o=Wl(s,s,a,a,r)):o=this.getTileRangeForExtentAndZ(l,c,r),n(c,o))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,r){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){const o=2*e[1],s=2*e[2];return Wl(o,o+1,s,s+1,n)}const i=this.getTileCoordExtent(e,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,r){if(n>this.maxZoom||n<this.minZoom)return null;const i=e[0],o=e[1],s=e[2];if(n===i)return Wl(o,s,o,s,r);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,n-i),c=Math.floor(o*l),u=Math.floor(s*l);return n<i?Wl(c,c,u,u,r):Wl(c,Math.floor(l*(o+1))-1,u,Math.floor(l*(s+1))-1,r)}const a=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,n,r)}getTileRangeExtent(e,n,r){const i=this.getOrigin(e),o=this.getResolution(e),s=lr(this.getTileSize(e),this.tmpSize_);return pi(i[0]+n.minX*s[0]*o,i[1]+n.minY*s[1]*o,i[0]+(n.maxX+1)*s[0]*o,i[1]+(n.maxY+1)*s[1]*o,r)}getTileRangeForExtentAndZ(e,n,r){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,ql);const i=ql[1],o=ql[2];return this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,ql),Wl(i,ql[1],o,ql[2],r)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=lr(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*i[0]*r,n[1]-(e[2]+.5)*i[1]*r]}getTileCoordExtent(e,n){const r=this.getOrigin(e[0]),i=this.getResolution(e[0]),o=lr(this.getTileSize(e[0]),this.tmpSize_),s=r[0]+e[1]*o[0]*i,a=r[1]-(e[2]+1)*o[1]*i;return pi(s,a,s+o[0]*i,a+o[1]*i,n)}getTileCoordForCoordAndResolution(e,n,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,r)}getTileCoordForXYAndResolution_(e,n,r,i,o){const s=this.getZForResolution(r),a=r/this.getResolution(s),l=this.getOrigin(s),c=lr(this.getTileSize(s),this.tmpSize_);let u=a*(e-l[0])/r/c[0],d=a*(l[1]-n)/r/c[1];return i?(u=Jg(u,5)-1,d=Jg(d,5)-1):(u=Qg(u,5),d=Qg(d,5)),kO(s,u,d,o)}getTileCoordForXYAndZ_(e,n,r,i,o){const s=this.getOrigin(r),a=this.getResolution(r),l=lr(this.getTileSize(r),this.tmpSize_);let c=(e-s[0])/a/l[0],u=(s[1]-n)/a/l[1];return i?(c=Jg(c,5)-1,u=Jg(u,5)-1):(c=Qg(c,5),u=Qg(u,5)),kO(r,c,u,o)}getTileCoordForCoordAndZ(e,n,r){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,r)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){return jt(_C(this.resolutions_,e,n||0),this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return nO(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,r=new Array(n);for(let i=this.minZoom;i<n;++i)r[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=r}};function $O(t){let e=t.getDefaultTileGrid();return e||(e=function VJ(t,e,n,r){return function LJ(t,e,n,r){r=void 0!==r?r:"top-left";const i=VO(t,e,n);return new vT({extent:t,origin:bY(t,r),resolutions:i,tileSize:n})}(ET(t),e,n,r)}(t),t.setDefaultTileGrid(e)),e}function VO(t,e,n,r){e=void 0!==e?e:42,n=lr(void 0!==n?n:256);const i=sr(t),o=dt(t);r=r>0?r:Math.max(o/n[0],i/n[1]);const s=e+1,a=new Array(s);for(let l=0;l<s;++l)a[l]=r/Math.pow(2,l);return a}function ET(t){let e=(t=Ge(t)).getExtent();if(!e){const n=180*Qs.degrees/t.getMetersPerUnit();e=pi(-n,-n,n,n)}return e}class BJ extends Ki{constructor(e,n){super(e),this.tile=n}}const GJ=class jJ extends LO{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileGrid&&lr(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),[256,256]),this.tileCache=new xO(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,n){const r=this.getTileCacheForProjection(e);r&&r.expireCache(n)}forEachLoadedTile(e,n,r,i){const o=this.getTileCacheForProjection(e);if(!o)return!1;let a,l,c,s=!0;for(let u=r.minX;u<=r.maxX;++u)for(let d=r.minY;d<=r.maxY;++d)l=cd(n,u,d),c=!1,o.containsKey(l)&&(a=o.get(l),c=2===a.getState(),c&&(c=!1!==i(a))),c||(s=!1);return s}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,r,i,o){return ge()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:$O(e)}getTileCacheForProjection(e){const n=this.getProjection();return Ie(null===n||Qi(n,e),68),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,r){const i=this.getTileGridForProjection(r),o=this.getTilePixelRatio(n),s=lr(i.getTileSize(e),this.tmpSize);return 1==o?s:function nJ(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}(s,o,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){n=void 0!==n?n:this.getProjection();const r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=function FJ(t,e,n){const r=e[0],i=t.getTileCoordCenter(e),o=ET(n);if(!zg(o,i)){const s=dt(o),a=Math.ceil((o[0]-i[0])/s);return i[0]+=s*a,t.getTileCoordForCoordAndZ(i,r)}return e}(r,e,n)),function NJ(t,e){const n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const o=e.getFullTileRange(n);return!o||o.containsXY(r,i)}(e,r)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,n){const r=this.getTileCacheForProjection(n);e>r.highWaterMark&&(r.highWaterMark=e)}useTile(e,n,r,i){}};function UJ(t,e){const n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(s,a,l){if(s)return t.replace(n,s[0].toString()).replace(r,s[1].toString()).replace(i,s[2].toString()).replace(o,function(){const u=e.getFullTileRange(s[0]);return Ie(u,55),(u.getHeight()-s[2]-1).toString()})}}function CT(t){return 1===t.length?t[0]:function(e,n,r){if(!e)return;const i=function PJ(t){return(t[1]<<t[0])+t[2]}(e),o=$l(i,t.length);return t[o](e,n,r)}}function jO(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const r=n[1].charCodeAt(0),i=n[2].charCodeAt(0);let o;for(o=r;o<=i;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const r=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=r;i++)e.push(t.replace(n[0],i.toString()));return e}return e.push(t),e}class TT extends GJ{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===TT.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,r=He(n),i=n.getState();let o;1==i?(this.tileLoadingKeys_[r]=!0,o="tileloadstart"):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],o=3==i?"tileloaderror":2==i?"tileloadend":void 0),null!=o&&this.dispatchEvent(new BJ(o,n))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=jO(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function HJ(t,e){const n=t.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=UJ(t[i],e);return CT(r)}(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,r){}useTile(e,n,r){const i=cd(e,n,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}const zJ=TT;function WJ(t,e){t.getImage().src=e}const BO=class XJ extends zJ{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:WJ,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:void 0===e.interpolate||e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:IO,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,n){const r=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==r?n:{});for(const i in this.tileCacheForProjection){const o=this.tileCacheForProjection[i];o.expireCache(o==r?n:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!Qi(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return!(this.getProjection()&&e&&!Qi(this.getProjection(),e))&&super.getOpaque(e)}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||Qi(n,e)))return this.tileGrid;const r=He(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=$O(e)),this.tileGridForProjection[r]}getTileCacheForProjection(e){const n=this.getProjection();if(!n||Qi(n,e))return this.tileCache;const r=He(e);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new xO(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]}createTile_(e,n,r,i,o,s){const a=[e,n,r],l=this.getTileCoordForTileUrlFunction(a,o),c=l?this.tileUrlFunction(l,i,o):void 0,u=new this.tileClass(a,void 0!==c?0:4,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=s,u.addEventListener("change",this.handleTileChange.bind(this)),u}getTile(e,n,r,i,o){const s=this.getProjection();if(!s||!o||Qi(s,o))return this.getTileInternal(e,n,r,i,s||o);const a=this.getTileCacheForProjection(o),l=[e,n,r];let c;const u=OO(l);a.containsKey(u)&&(c=a.get(u));const d=this.getKey();if(c&&c.key==d)return c;const h=this.getTileGridForProjection(s),f=this.getTileGridForProjection(o),g=this.getTileCoordForTileUrlFunction(l,o),p=new _T(s,h,o,f,l,g,this.getTilePixelRatio(i),this.getGutter(),(_,m,y,v)=>this.getTileInternal(_,m,y,v,s),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return p.key=d,c?(p.interimTile=c,p.refreshInterimChain(),a.replace(u,p)):a.set(u,p),p}getTileInternal(e,n,r,i,o){let s=null;const a=cd(e,n,r),l=this.getKey();if(this.tileCache.containsKey(a)){if(s=this.tileCache.get(a),s.key!=l){const c=s;s=this.createTile_(e,n,r,i,o,l),s.interimTile=0==c.getState()?c.interimTile:c,s.refreshInterimChain(),this.tileCache.replace(a,s)}}else s=this.createTile_(e,n,r,i,o,l),this.tileCache.set(a,s);return s}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}}setTileGridForProjection(e,n){const r=Ge(e);if(r){const i=He(r);i in this.tileGridForProjection||(this.tileGridForProjection[i]=n)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}};function GO(t,e){const n=[];Object.keys(e).forEach(function(i){null!=e[i]&&n.push(i+"="+encodeURIComponent(e[i]))});const r=n.join("&");return t=t.replace(/[?&]$/,""),(t+=t.includes("?")?"&":"?")+r}class qJ extends vT{constructor(e){super({extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes}),this.matrixIds_=e.matrixIds}getMatrixId(e){return this.matrixIds_[e]}getMatrixIds(){return this.matrixIds_}}const ZJ=class YJ extends BO{constructor(e){const n=void 0!==e.requestEncoding?e.requestEncoding:"KVP",r=e.tileGrid;let i=e.urls;void 0===i&&void 0!==e.url&&(i=jO(e.url)),super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:i,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition,zDirection:e.zDirection}),this.version_=void 0!==e.version?e.version:"1.0.0",this.format_=void 0!==e.format?e.format:"image/jpeg",this.dimensions_=void 0!==e.dimensions?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style,this.requestEncoding_=n,this.setKey(this.getKeyForDimensions_()),i&&i.length>0&&(this.tileUrlFunction=CT(i.map(this.createFromWMTSTemplate.bind(this))))}setUrls(e){this.urls=e;const n=e.join("\n");this.setTileUrlFunction(CT(e.map(this.createFromWMTSTemplate.bind(this))),n)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){const e=this.urls?this.urls.slice(0):[];for(const n in this.dimensions_)e.push(n+"-"+this.dimensions_[n]);return e.join("/")}updateDimensions(e){Object.assign(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(e){const n=this.requestEncoding_,r={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};"KVP"==n&&Object.assign(r,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e="KVP"==n?GO(e,r):e.replace(/\{(\w+?)\}/g,function(s,a){return a.toLowerCase()in r?r[a.toLowerCase()]:s});const i=this.tileGrid,o=this.dimensions_;return function(s,a,l){if(!s)return;const c={TileMatrix:i.getMatrixId(s[0]),TileCol:s[1],TileRow:s[2]};Object.assign(c,o);let u=e;return u="KVP"==n?GO(u,c):u.replace(/\{(\w+?)\}/g,function(d,h){return c[h]}),u}}};const UO=class JJ extends BO{constructor(e){const n=void 0!==(e=e||{}).projection?e.projection:"EPSG:3857",r=void 0!==e.tileGrid?e.tileGrid:function $J(t){const e=t||{},n=e.extent||Ge("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:VO(n,e.maxZoom,e.tileSize,e.maxResolution)};return new vT(r)}({extent:ET(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=void 0!==e.gutter?e.gutter:0}getGutter(){return this.gutter_}};var HO=qr(218);const zO=class eee{constructor(e){this.rbush_=new HO(e),this.items_={}}insert(e,n){const r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:n};this.rbush_.insert(r),this.items_[He(n)]=r}load(e,n){const r=new Array(n.length);for(let i=0,o=n.length;i<o;i++){const s=e[i],a=n[i],l={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};r[i]=l,this.items_[He(a)]=l}this.rbush_.load(r)}remove(e){const n=He(e),r=this.items_[n];return delete this.items_[n],null!==this.rbush_.remove(r)}update(e,n){const r=this.items_[He(n)];Ku([r.minX,r.minY,r.maxX,r.maxY],e)||(this.remove(n),this.insert(e,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(e){return this.rbush_.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}).map(function(i){return i.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,n){return this.forEach_(this.getInExtent(e),n)}forEach_(e,n){let r;for(let i=0,o=e.length;i<o;i++)if(r=n(e[i]),r)return r;return r}isEmpty(){return xl(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const n=this.rbush_.toJSON();return pi(n.minX,n.minY,n.maxX,n.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const n in e.items_)this.items_[n]=e.items_[n]}};function tee(t,e){return[[-1/0,-1/0,1/0,1/0]]}function WO(t,e){return function(n,r,i,o,s){const a=this;!function nee(t,e,n,r,i,o,s){const a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(n,r,i):t,!0),"arraybuffer"==e.getType()&&(a.responseType="arraybuffer"),a.withCredentials=false,a.onload=function(l){if(!a.status||a.status>=200&&a.status<300){const c=e.getType();let u;"json"==c||"text"==c?u=a.responseText:"xml"==c?(u=a.responseXML,u||(u=(new DOMParser).parseFromString(a.responseText,"application/xml"))):"arraybuffer"==c&&(u=a.response),u?o(e.readFeatures(u,{extent:n,featureProjection:i}),e.readProjection(u)):s()}else s()},a.onerror=s,a.send()}(t,e,n,r,i,function(l,c){a.addFeatures(l),void 0!==o&&o(l)},s||Ol)}}class Vo extends Ki{constructor(e,n,r){super(e),this.feature=n,this.features=r}}const iee=class ree extends LO{constructor(e){super({attributions:(e=e||{}).attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===e.wrapX||e.wrapX}),this.loader_=Ol,this.format_=e.format,this.overlaps_=void 0===e.overlaps||e.overlaps,this.url_=e.url,void 0!==e.loader?this.loader_=e.loader:void 0!==this.url_&&(Ie(this.format_,7),this.loader_=WO(this.url_,this.format_)),this.strategy_=void 0!==e.strategy?e.strategy:tee;const n=void 0===e.useSpatialIndex||e.useSpatialIndex;let r,i;this.featuresRtree_=n?new zO:null,this.loadedExtentsRtree_=new zO,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(e.features)?i=e.features:e.features&&(r=e.features,i=r.getArray()),!n&&void 0===r&&(r=new gi(i)),void 0!==i&&this.addFeaturesInternal(i),void 0!==r&&this.bindFeaturesCollection_(r)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const n=He(e);if(!this.addToIndex_(n,e))return void(this.featuresCollection_&&this.featuresCollection_.remove(e));this.setupChangeEvents_(n,e);const r=e.getGeometry();if(r){const i=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new Vo("addfeature",e))}setupChangeEvents_(e,n){this.featureChangeKeys_[e]=[Ve(n,"change",this.handleFeatureChange_,this),Ve(n,"propertychange",this.handleFeatureChange_,this)]}addToIndex_(e,n){let r=!0;const i=n.getId();return void 0!==i&&(i.toString()in this.idIndex_?r=!1:this.idIndex_[i.toString()]=n),r&&(Ie(!(e in this.uidIndex_),30),this.uidIndex_[e]=n),r}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const n=[],r=[],i=[];for(let o=0,s=e.length;o<s;o++){const a=e[o],l=He(a);this.addToIndex_(l,a)&&r.push(a)}for(let o=0,s=r.length;o<s;o++){const a=r[o],l=He(a);this.setupChangeEvents_(l,a);const c=a.getGeometry();if(c){const u=c.getExtent();n.push(u),i.push(a)}else this.nullGeometryFeatures_[l]=a}if(this.featuresRtree_&&this.featuresRtree_.load(n,i),this.hasListener("addfeature"))for(let o=0,s=r.length;o<s;o++)this.dispatchEvent(new Vo("addfeature",r[o]))}bindFeaturesCollection_(e){let n=!1;this.addEventListener("addfeature",function(r){n||(n=!0,e.push(r.feature),n=!1)}),this.addEventListener("removefeature",function(r){n||(n=!0,e.remove(r.feature),n=!1)}),e.addEventListener("add",r=>{n||(n=!0,this.addFeature(r.element),n=!1)}),e.addEventListener("remove",r=>{n||(n=!0,this.removeFeature(r.element),n=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const r in this.featureChangeKeys_)this.featureChangeKeys_[r].forEach(mt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(i=>{this.removeFeatureInternal(i)});for(const i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new Vo("clear");this.dispatchEvent(n),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,n){return this.forEachFeatureInExtent([e[0],e[1],e[0],e[1]],function(i){if(i.getGeometry().intersectsCoordinate(e))return n(i)})}forEachFeatureInExtent(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(e,n){return this.forEachFeatureInExtent(e,function(r){if(r.getGeometry().intersectsExtent(e)){const o=n(r);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),xl(this.nullGeometryFeatures_)||Yi(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const n=[];return this.forEachFeatureAtCoordinateDirect(e,function(r){n.push(r)}),n}getFeaturesInExtent(e,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const i=function OY(t,e){if(e.canWrapX()){const n=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[n[0],t[1],n[2],t[3]]];mk(t,e);const r=dt(n);if(dt(t)>r)return[[n[0],t[1],n[2],t[3]]];if(t[0]<n[0])return[[t[0]+r,t[1],n[2],t[3]],[n[0],t[1],t[2],t[3]]];if(t[2]>n[2])return[[t[0],t[1],n[2],t[3]],[n[0],t[1],t[2]-r,t[3]]]}return[t]}(e,n);return[].concat(...i.map(o=>this.featuresRtree_.getInExtent(o)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,n){const r=e[0],i=e[1];let o=null;const s=[NaN,NaN];let a=1/0;const l=[-1/0,-1/0,1/0,1/0];return n=n||zu,this.featuresRtree_.forEachInExtent(l,function(c){if(n(c)){const u=c.getGeometry(),d=a;if(a=u.closestPointXY(r,i,s,a),a<d){o=c;const h=Math.sqrt(a);l[0]=r-h,l[1]=i-h,l[2]=r+h,l[3]=i+h}}}),o}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const n=this.idIndex_[e.toString()];return void 0!==n?n:null}getFeatureByUid(e){const n=this.uidIndex_[e];return void 0!==n?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const n=e.target,r=He(n),i=n.getGeometry();if(i){const s=i.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(s,n)):this.featuresRtree_&&this.featuresRtree_.update(s,n)}else r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[r]=n);const o=n.getId();if(void 0!==o){const s=o.toString();this.idIndex_[s]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[s]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[r]=n;this.changed(),this.dispatchEvent(new Vo("changefeature",n))}hasFeature(e){const n=e.getId();return void 0!==n?n in this.idIndex_:He(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&xl(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(e,n,r){const i=this.loadedExtentsRtree_,o=this.strategy_(e,n,r);for(let s=0,a=o.length;s<a;++s){const l=o[s];i.forEachInExtent(l,function(u){return Ws(u.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Vo("featuresloadstart")),this.loader_.call(this,l,n,r,u=>{--this.loadingExtentsCount_,this.dispatchEvent(new Vo("featuresloadend",void 0,u))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Vo("featuresloaderror"))}),i.insert(l,{extent:l.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const n=this.loadedExtentsRtree_;let r;n.forEachInExtent(e,function(i){if(Ku(i.extent,e))return r=i,!0}),r&&n.remove(r)}removeFeature(e){if(!e)return;const n=He(e);n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const n=He(e),r=this.featureChangeKeys_[n];if(!r)return;r.forEach(mt),delete this.featureChangeKeys_[n];const i=e.getId();return void 0!==i&&delete this.idIndex_[i.toString()],delete this.uidIndex_[n],this.dispatchEvent(new Vo("removefeature",e)),e}removeFromIdIndex_(e){let n=!1;for(const r in this.idIndex_)if(this.idIndex_[r]===e){delete this.idIndex_[r],n=!0;break}return n}setLoader(e){this.loader_=e}setUrl(e){Ie(this.format_,7),this.url_=e,this.setLoader(WO(e,this.format_))}};class MT extends fi{constructor(e){super(),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e&&("function"==typeof e.getSimplifiedGeometry?this.setGeometry(e):this.setProperties(e))}clone(){const e=new MT(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&e.setGeometry(n.clone());const r=this.getStyle();return r&&e.setStyle(r),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(mt(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=Ve(e,"change",this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?function oee(t){if("function"==typeof t)return t;let e;return Array.isArray(t)?e=t:(Ie("function"==typeof t.getZIndex,41),e=[t]),function(){return e}}(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}const see=MT;class Rp extends Xk{constructor(e){super(),this.geometries_=e||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(mt),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let e=0,n=this.geometries_.length;e<n;++e)this.changeEventsKeys_.push(Ve(this.geometries_[e],"change",this.changed,this))}clone(){const e=new Rp(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e}closestPointXY(e,n,r,i){if(i<Xs(this.getExtent(),e,n))return i;const o=this.geometries_;for(let s=0,a=o.length;s<a;++s)i=o[s].closestPointXY(e,n,r,i);return i}containsXY(e,n){const r=this.geometries_;for(let i=0,o=r.length;i<o;++i)if(r[i].containsXY(e,n))return!0;return!1}computeExtent(e){qs(e);const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)fk(e,n[r].getExtent());return e}getGeometries(){return qO(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].getType()===this.getType()?e=e.concat(n[r].getGeometriesArrayRecursive()):e.push(n[r]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=[],r=this.geometries_;let i=!1;for(let o=0,s=r.length;o<s;++o){const a=r[o],l=a.getSimplifiedGeometry(e);n.push(l),l!==a&&(i=!0)}if(i){const o=new Rp(null);return o.setGeometriesArray(n),o}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}getType(){return"GeometryCollection"}intersectsExtent(e){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)if(n[r].intersectsExtent(e))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(e,n){const r=this.geometries_;for(let i=0,o=r.length;i<o;++i)r[i].rotate(e,n);this.changed()}scale(e,n,r){r||(r=Ks(this.getExtent()));const i=this.geometries_;for(let o=0,s=i.length;o<s;++o)i[o].scale(e,n,r);this.changed()}setGeometries(e){this.setGeometriesArray(qO(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].applyTransform(e);this.changed()}translate(e,n){const r=this.geometries_;for(let i=0,o=r.length;i<o;++i)r[i].translate(e,n);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function qO(t){const e=[];for(let n=0,r=t.length;n<r;++n)e.push(t[n].clone());return e}const aee=Rp,cee=class lee{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(e,n){if(n){let r=n.dataProjection?Ge(n.dataProjection):this.readProjection(e);n.extent&&r&&"tile-pixels"===r.getUnits()&&(r=Ge(r),r.setWorldExtent(n.extent)),n={dataProjection:r,featureProjection:n.featureProjection}}return this.adaptOptions(n)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)}getType(){return ge()}readFeature(e,n){return ge()}readFeatures(e,n){return ge()}readGeometry(e,n){return ge()}readProjection(e){return ge()}writeFeature(e,n){return ge()}writeFeatures(e,n){return ge()}writeGeometry(e,n){return ge()}};function KO(t,e,n){const r=n?Ge(n.featureProjection):null,i=n?Ge(n.dataProjection):null;let o;if(o=r&&i&&!Qi(r,i)?(e?t.clone():t).transform(e?r:i,e?i:r):t,e&&n&&void 0!==n.decimals){const s=Math.pow(10,n.decimals),a=function(l){for(let c=0,u=l.length;c<u;++c)l[c]=Math.round(l[c]*s)/s;return l};o===t&&(o=t.clone()),o.applyTransform(a)}return o}function Ap(t){return"string"==typeof t?JSON.parse(t)||null:null!==t?t:null}const dee=class uee extends cee{constructor(){super()}getType(){return"json"}readFeature(e,n){return this.readFeatureFromObject(Ap(e),this.getReadOptions(e,n))}readFeatures(e,n){return this.readFeaturesFromObject(Ap(e),this.getReadOptions(e,n))}readFeatureFromObject(e,n){return ge()}readFeaturesFromObject(e,n){return ge()}readGeometry(e,n){return this.readGeometryFromObject(Ap(e),this.getReadOptions(e,n))}readGeometryFromObject(e,n){return ge()}readProjection(e){return this.readProjectionFromObject(Ap(e))}readProjectionFromObject(e){return ge()}writeFeature(e,n){return JSON.stringify(this.writeFeatureObject(e,n))}writeFeatureObject(e,n){return ge()}writeFeatures(e,n){return JSON.stringify(this.writeFeaturesObject(e,n))}writeFeaturesObject(e,n){return ge()}writeGeometry(e,n){return JSON.stringify(this.writeGeometryObject(e,n))}writeGeometryObject(e,n){return ge()}};function YO(t,e,n,r,i,o,s){let a,l;const c=(n-e)/r;if(1===c)a=e;else if(2===c)a=e,l=i;else if(0!==c){let u=t[e],d=t[e+1],h=0;const f=[0];for(let _=e+r;_<n;_+=r){const m=t[_],y=t[_+1];h+=Math.sqrt((m-u)*(m-u)+(y-d)*(y-d)),f.push(h),u=m,d=y}const g=i*h,p=function lY(t,e,n){let r,i;n=n||zs;let o=0,s=t.length,a=!1;for(;o<s;)r=o+(s-o>>1),i=+n(t[r],e),i<0?o=r+1:(s=r,a=!i);return a?o:~o}(f,g);p<0?(l=(g-f[-p-2])/(f[-p-1]-f[-p-2]),a=e+(-p-2)*r):a=e+p*r}s=s>1?s:2,o=o||new Array(s);for(let u=0;u<s;++u)o[u]=void 0===a?NaN:void 0===l?t[a+u]:ar(t[a+u],t[a+r+u],l);return o}function ST(t,e,n,r,i,o){if(n==e)return null;let s;if(i<t[e+r-1])return o?(s=t.slice(e,e+r),s[r-1]=i,s):null;if(t[n-1]<i)return o?(s=t.slice(n-r,n),s[r-1]=i,s):null;if(i==t[e+r-1])return t.slice(e,e+r);let a=e/r,l=n/r;for(;a<l;){const h=a+l>>1;i<t[(h+1)*r-1]?l=h:a=h+1}const c=t[a*r-1];if(i==c)return t.slice((a-1)*r,(a-1)*r+r);const d=(i-c)/(t[(a+1)*r-1]-c);s=[];for(let h=0;h<r-1;++h)s.push(ar(t[(a-1)*r+h],t[a*r+h],d));return s.push(i),s}function DT(t,e,n,r){let i=t[e],o=t[e+1],s=0;for(let a=e+r;a<n;a+=r){const l=t[a],c=t[a+1];s+=Math.sqrt((l-i)*(l-i)+(c-o)*(c-o)),i=l,o=c}return s}class bp extends ra{constructor(e,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}appendCoordinate(e){this.flatCoordinates?Yi(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()}clone(){const e=new bp(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<Xs(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(GC(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),HC(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,n,r,i))}forEachSegment(e){return tO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,n){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:ST(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n=void 0!==n&&n)}getCoordinates(){return Oo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,n){return YO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,this.stride)}getLength(){return DT(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const n=[];return n.length=up(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new bp(n,"XY")}getType(){return"LineString"}intersectsExtent(e){return fp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=cp(this.flatCoordinates,0,e,this.stride),this.changed()}}const wT=bp;class Pp extends ra{constructor(e,n,r){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(void 0!==n&&r)this.setFlatCoordinates(n,e),this.ends_=r;else{let i=this.getLayout();const o=e,s=[],a=[];for(let l=0,c=o.length;l<c;++l){const u=o[l];0===l&&(i=u.getLayout()),Yi(s,u.getFlatCoordinates()),a.push(s.length)}this.setFlatCoordinates(i,s),this.ends_=a}}appendLineString(e){this.flatCoordinates?Yi(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Pp(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<Xs(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(UC(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),zC(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,n,r,i))}getCoordinateAtM(e,n,r){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:function hee(t,e,n,r,i,o,s){if(s)return ST(t,e,n[n.length-1],r,i,o);let a;if(i<t[r-1])return o?(a=t.slice(0,r),a[r-1]=i,a):null;if(t[t.length-1]<i)return o?(a=t.slice(t.length-r),a[r-1]=i,a):null;for(let l=0,c=n.length;l<c;++l){const u=n[l];if(e!=u){if(i<t[e+r-1])return null;if(i<=t[u-1])return ST(t,e,u,r,i,!1);e=u}}return null}(this.flatCoordinates,0,this.ends_,this.stride,e,n=void 0!==n&&n,r=void 0!==r&&r)}getCoordinates(){return ed(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new wT(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,n=this.ends_,r=this.layout,i=[];let o=0;for(let s=0,a=n.length;s<a;++s){const l=n[s],c=new wT(e.slice(o,l),r);i.push(c),o=l}return i}getFlatMidpoints(){const e=[],n=this.flatCoordinates;let r=0;const i=this.ends_,o=this.stride;for(let s=0,a=i.length;s<a;++s){const l=i[s];Yi(e,YO(n,r,l,o,.5)),r=l}return e}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=function Kk(t,e,n,r,i,o,s,a){for(let l=0,c=n.length;l<c;++l){const u=n[l];s=up(t,e,u,r,i,o,s),a.push(s),e=u}return s}(this.flatCoordinates,0,this.ends_,this.stride,e,n,0,r),new Pp(n,"XY",r)}getType(){return"MultiLineString"}intersectsExtent(e){return function FZ(t,e,n,r,i){for(let o=0,s=n.length;o<s;++o){if(fp(t,e,n[o],r,i))return!0;e=n[o]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=XC(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()}}const fee=Pp;class IT extends ra{constructor(e,n){super(),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendPoint(e){this.flatCoordinates?Yi(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()}clone(){const e=new IT(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){if(i<Xs(this.getExtent(),e,n))return i;const o=this.flatCoordinates,s=this.stride;for(let a=0,l=o.length;a<l;a+=s){const c=Zs(e,n,o[a],o[a+1]);if(c<i){i=c;for(let u=0;u<s;++u)r[u]=o[a+u];r.length=s}}return i}getCoordinates(){return Oo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){return e<0||(this.flatCoordinates?this.flatCoordinates.length/this.stride:0)<=e?null:new hp(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,n=this.layout,r=this.stride,i=[];for(let o=0,s=e.length;o<s;o+=r){const a=new hp(e.slice(o,o+r),n);i.push(a)}return i}getType(){return"MultiPoint"}intersectsExtent(e){const n=this.flatCoordinates,r=this.stride;for(let i=0,o=n.length;i<o;i+=r)if(MC(e,n[i],n[i+1]))return!0;return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=cp(this.flatCoordinates,0,e,this.stride),this.changed()}}const ZO=IT;class Np extends ra{constructor(e,n,r){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){let i=this.getLayout();const o=e,s=[],a=[];for(let l=0,c=o.length;l<c;++l){const u=o[l];0===l&&(i=u.getLayout());const d=s.length,h=u.getEnds();for(let f=0,g=h.length;f<g;++f)h[f]+=d;Yi(s,u.getFlatCoordinates()),a.push(h)}n=i,e=s,r=a}void 0!==n&&r?(this.setFlatCoordinates(n,e),this.endss_=r):this.setCoordinates(e,n)}appendPolygon(e){let n;if(this.flatCoordinates){const r=this.flatCoordinates.length;Yi(this.flatCoordinates,e.getFlatCoordinates()),n=e.getEnds().slice();for(let i=0,o=n.length;i<o;++i)n[i]+=r}else this.flatCoordinates=e.getFlatCoordinates().slice(),n=e.getEnds().slice(),this.endss_.push();this.endss_.push(n),this.changed()}clone(){const e=this.endss_.length,n=new Array(e);for(let i=0;i<e;++i)n[i]=this.endss_[i].slice();const r=new Np(this.flatCoordinates.slice(),this.layout,n);return r.applyProperties(this),r}closestPointXY(e,n,r,i){return i<Xs(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function DZ(t,e,n,r,i){for(let o=0,s=n.length;o<s;++o){const a=n[o];i=UC(t,e,a,r,i),e=a[a.length-1]}return i}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function wZ(t,e,n,r,i,o,s,a,l,c,u){u=u||[NaN,NaN];for(let d=0,h=n.length;d<h;++d){const f=n[d];c=zC(t,e,f,r,i,o,s,a,l,c,u),e=f[f.length-1]}return c}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return function OZ(t,e,n,r,i,o){if(0===n.length)return!1;for(let s=0,a=n.length;s<a;++s){const l=n[s];if(KC(t,e,l,r,i,o))return!0;e=l[l.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,n)}getArea(){return function NZ(t,e,n,r){let i=0;for(let o=0,s=n.length;o<s;++o){const a=n[o];i+=Qk(t,e,a,r),e=a[a.length-1]}return i}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let n;return void 0!==e?(n=this.getOrientedFlatCoordinates().slice(),oO(n,0,this.endss_,this.stride,e)):n=this.flatCoordinates,WC(n,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=function gee(t,e,n,r){const i=[];let o=[1/0,1/0,-1/0,-1/0];for(let s=0,a=n.length;s<a;++s){const l=n[s];o=hk(t,e,l[0],r),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=l[l.length-1]}return i}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=function xZ(t,e,n,r,i){let o=[];for(let s=0,a=n.length;s<a;++s){const l=n[s];o=eO(t,e,l,r,i,2*s,o),e=l[l.length-1]}return o}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new ZO(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;!function VZ(t,e,n,r,i){for(let o=0,s=n.length;o<s;++o){const a=n[o];if(!iO(t,e,a,r,i))return!1;a.length&&(e=a[a.length-1])}return!0}(e,0,this.endss_,this.stride)?(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=oO(this.orientedFlatCoordinates_,0,this.endss_,this.stride)):this.orientedFlatCoordinates_=e,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=function PZ(t,e,n,r,i,o,s,a){for(let l=0,c=n.length;l<c;++l){const u=n[l],d=[];s=Yk(t,e,u,r,i,o,s,d),a.push(d),e=u[u.length-1]}return s}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),n,0,r),new Np(n,"XY",r)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let n;if(0===e)n=0;else{const o=this.endss_[e-1];n=o[o.length-1]}const r=this.endss_[e].slice(),i=r[r.length-1];if(0!==n)for(let o=0,s=r.length;o<s;++o)r[o]-=n;return new gp(this.flatCoordinates.slice(n,i),this.layout,r)}getPolygons(){const e=this.layout,n=this.flatCoordinates,r=this.endss_,i=[];let o=0;for(let s=0,a=r.length;s<a;++s){const l=r[s].slice(),c=l[l.length-1];if(0!==o)for(let d=0,h=l.length;d<h;++d)l[d]-=o;const u=new gp(n.slice(o,c),e,l);i.push(u),o=c}return i}getType(){return"MultiPolygon"}intersectsExtent(e){return function LZ(t,e,n,r,i){for(let o=0,s=n.length;o<s;++o){const a=n[o];if(rO(t,e,a,r,i))return!0;e=a[a.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const r=function RZ(t,e,n,r,i){i=i||[];let o=0;for(let s=0,a=n.length;s<a;++s){const l=XC(t,e,n[s],r,i[o]);0===l.length&&(l[0]=e),i[o++]=l,e=l[l.length-1]}return i.length=o,i}(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===r.length)this.flatCoordinates.length=0;else{const i=r[r.length-1];this.flatCoordinates.length=0===i.length?0:i[i.length-1]}this.changed()}}const pee=Np;function RT(t,e){if(!t)return null;let n;switch(t.type){case"Point":n=function yee(t){return new hp(t.coordinates)}(t);break;case"LineString":n=function vee(t){return new wT(t.coordinates)}(t);break;case"Polygon":n=function Mee(t){return new gp(t.coordinates)}(t);break;case"MultiPoint":n=function Cee(t){return new ZO(t.coordinates)}(t);break;case"MultiLineString":n=function Eee(t){return new fee(t.coordinates)}(t);break;case"MultiPolygon":n=function Tee(t){return new pee(t.coordinates)}(t);break;case"GeometryCollection":n=function mee(t,e){const n=t.geometries.map(function(r){return RT(r,e)});return new aee(n)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return KO(n,!1,e)}function AT(t,e){const n=(t=KO(t,!0,e)).getType();let r;switch(n){case"Point":r=function Aee(t){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case"LineString":r=function Dee(t){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case"Polygon":r=function bee(t,e){let n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}(t,e);break;case"MultiPoint":r=function Iee(t){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case"MultiLineString":r=function wee(t){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case"MultiPolygon":r=function Ree(t,e){let n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}(t,e);break;case"GeometryCollection":r=function See(t,e){return delete(e=Object.assign({},e)).featureProjection,{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(r){return AT(r,e)})}}(t,e);break;case"Circle":r={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+n)}return r}const Pee=class _ee extends dee{constructor(e){e=e||{},super(),this.dataProjection=Ge(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=Ge(e.featureProjection)),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,n){let r=null;r="Feature"===e.type?e:{type:"Feature",geometry:e,properties:null};const i=RT(r.geometry,n),o=new see;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in r!==void 0&&o.setGeometryName(r.geometry_name),o.setGeometry(i),"id"in r&&o.setId(r.id),r.properties&&o.setProperties(r.properties,!0),o}readFeaturesFromObject(e,n){let i=null;if("FeatureCollection"===e.type){i=[];const s=e.features;for(let a=0,l=s.length;a<l;++a)i.push(this.readFeatureFromObject(s[a],n))}else i=[this.readFeatureFromObject(e,n)];return i}readGeometryFromObject(e,n){return RT(e,n)}readProjectionFromObject(e){const n=e.crs;let r;return n?"name"==n.type?r=Ge(n.properties.name):"EPSG"===n.type?r=Ge("EPSG:"+n.properties.code):Ie(!1,36):r=this.dataProjection,r}writeFeatureObject(e,n){n=this.adaptOptions(n);const r={type:"Feature",geometry:null,properties:null},i=e.getId();if(void 0!==i&&(r.id=i),!e.hasProperties())return r;const o=e.getProperties(),s=e.getGeometry();return s&&(r.geometry=AT(s,n),delete o[e.getGeometryName()]),xl(o)||(r.properties=o),r}writeFeaturesObject(e,n){n=this.adaptOptions(n);const r=[];for(let i=0,o=e.length;i<o;++i)r.push(this.writeFeatureObject(e[i],n));return{type:"FeatureCollection",features:r}}writeGeometryObject(e,n){return AT(e,this.adaptOptions(n))}};class bT{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=lr(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new bT({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return ge()}getImage(e){return ge()}getHitDetectionImage(){return ge()}getPixelRatio(e){return 1}getImageState(){return ge()}getImageSize(){return ge()}getOrigin(){return ge()}getSize(){return ge()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=lr(e)}listenImageChange(e){ge()}load(){ge()}unlistenImageChange(e){ge()}}const QO=bT;function mi(t){return Array.isArray(t)?Mk(t):t}class PT extends QO{constructor(e){super({opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvas_=void 0,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.size_=null,this.renderOptions_=null,this.render()}clone(){const e=this.getScale(),n=new PT({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const e=this.size_;if(!e)return null;const n=this.getDisplacement(),r=this.getScaleArray();return[e[0]/2-n[0]/r[0],e[1]/2+n[1]/r[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}getImage(e){let n=this.canvas_[e];if(!n){const r=this.renderOptions_,i=Pn(r.size*e,r.size*e);this.draw_(r,i,e),n=i.canvas,this.canvas_[e]=n}return n}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return 2}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,n,r){if(0===n||this.points_===1/0||"bevel"!==e&&"miter"!==e)return n;let i=this.radius_,o=void 0===this.radius2_?i:this.radius2_;if(i<o){const N=i;i=o,o=N}const a=2*Math.PI/(void 0===this.radius2_?this.points_:2*this.points_),l=o*Math.sin(a),u=i-Math.sqrt(o*o-l*l),d=Math.sqrt(l*l+u*u),h=d/l;if("miter"===e&&h<=r)return h*n;const f=n/2/h,g=n/2*(u/d),_=Math.sqrt((i+f)*(i+f)+g*g)-i;if(void 0===this.radius2_||"bevel"===e)return 2*_;const m=i*Math.sin(a),v=o-Math.sqrt(i*i-m*m),C=Math.sqrt(m*m+v*v)/m;return C<=r?2*Math.max(_,C*n/2-o-i):2*_}createRenderOptions(){let o,e=Gl,n=0,r=null,i=0,s=0;this.stroke_&&(o=this.stroke_.getColor(),null===o&&(o=id),o=mi(o),s=this.stroke_.getWidth(),void 0===s&&(s=1),r=this.stroke_.getLineDash(),i=this.stroke_.getLineDashOffset(),e=this.stroke_.getLineJoin(),void 0===e&&(e=Gl),n=this.stroke_.getMiterLimit(),void 0===n&&(n=10));const a=this.calculateLineJoinSize_(e,s,n),l=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:o,strokeWidth:s,size:Math.ceil(2*l+a),lineDash:r,lineDashOffset:i,lineJoin:e,miterLimit:n}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]}draw_(e,n,r){if(n.scale(r,r),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){let i=this.fill_.getColor();null===i&&(i=eo),n.fillStyle=mi(i),n.fill()}this.stroke_&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}createHitDetectionCanvas_(e){if(this.fill_){let n=this.fill_.getColor(),r=0;if("string"==typeof n&&(n=ep(n)),null===n?r=1:Array.isArray(n)&&(r=4===n.length?n[3]:1),0===r){const i=Pn(e.size,e.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(e,i)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(e){let n=this.points_;const r=this.radius_;if(n===1/0)e.arc(0,0,r,0,2*Math.PI);else{const i=void 0===this.radius2_?r:this.radius2_;void 0!==this.radius2_&&(n*=2);const o=this.angle_-Math.PI/2,s=2*Math.PI/n;for(let a=0;a<n;a++){const l=o+a*s,c=a%2==0?r:i;e.lineTo(c*Math.cos(l),c*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=eo,n.fill(),this.stroke_&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}}const JO=PT;class NT extends JO{constructor(e){super({points:1/0,fill:(e=e||{radius:5}).fill,radius:e.radius,stroke:e.stroke,scale:void 0!==e.scale?e.scale:1,rotation:void 0!==e.rotation?e.rotation:0,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),n=new NT({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(e){this.radius_=e,this.render()}}const ex=NT;class kT{constructor(e){this.color_=void 0!==(e=e||{}).color?e.color:null}clone(){const e=this.getColor();return new kT({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){this.color_=e}}const kp=kT;class OT{constructor(e){this.color_=void 0!==(e=e||{}).color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new OT({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}const xT=OT;class jo{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=tx,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new jo({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(n){return n.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=tx,this.geometry_=e}setZIndex(e){this.zIndex_=e}}let FT=null;function kee(t,e){if(!FT){const n=new kp({color:"rgba(255,255,255,0.4)"}),r=new xT({color:"#3399CC",width:1.25});FT=[new jo({image:new ex({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return FT}function tx(t){return t.getGeometry()}const Op=jo;let ud=null;class Oee extends Wu{constructor(e,n,r,i,o,s){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=s,this.unlisten_=null,this.imageState_=o,this.size_=r,this.src_=n}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&2===this.imageState_){ud||(ud=Pn(1,1,void 0,{willReadFrequently:!0})),ud.drawImage(this.image_,0,0);try{ud.getImageData(0,0,1,1),this.tainted_=!1}catch{ud=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent("change")}handleImageError_(){this.imageState_=3,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=2,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],n=this.size_[1],r=Pn(e,n);r.fillRect(0,0,e,n),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(0===this.imageState_){this.image_||this.initializeImage_(),this.imageState_=1;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=fT(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||2!==this.imageState_)return;const n=this.image_,r=document.createElement("canvas");r.width=Math.ceil(n.width*e),r.height=Math.ceil(n.height*e);const i=r.getContext("2d");i.scale(e,e),i.drawImage(n,0,0),i.globalCompositeOperation="multiply",i.fillStyle=Ek(this.color_),i.fillRect(0,0,r.width/e,r.height/e),i.globalCompositeOperation="destination-in",i.drawImage(n,0,0),this.canvas_[e]=r}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}class LT extends QO{constructor(e){super({opacity:void 0!==(e=e||{}).opacity?e.opacity:1,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,declutterMode:e.declutterMode}),this.anchor_=void 0!==e.anchor?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==e.anchorOrigin?e.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:"fraction",this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;const s=void 0!==e.img?e.img:null;this.imgSize_=e.imgSize;let a=e.src;Ie(!(void 0!==a&&s),4),Ie(!s||s&&this.imgSize_,5),(void 0===a||0===a.length)&&s&&(a=s.src||He(s)),Ie(void 0!==a&&a.length>0,6),Ie(!((void 0!==e.width||void 0!==e.height)&&void 0!==e.scale),69);const l=void 0!==e.src?0:2;if(this.color_=void 0!==e.color?ep(e.color):null,this.iconImage_=function xee(t,e,n,r,i,o){let s=tp.get(e,r,o);return s||(s=new Oee(t,e,n,r,i,o),tp.set(e,r,o,s)),s}(s,a,void 0!==this.imgSize_?this.imgSize_:null,this.crossOrigin_,l,this.color_),this.offset_=void 0!==e.offset?e.offset:[0,0],this.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==e.size?e.size:null,this.width_=e.width,this.height_=e.height,void 0!==this.width_||void 0!==this.height_){const c=this.getImage(1),u=()=>{this.updateScaleFromWidthAndHeight(this.width_,this.height_)};c.width>0?this.updateScaleFromWidthAndHeight(this.width_,this.height_):c.addEventListener("load",u)}}clone(){let e=this.getScale();return e=Array.isArray(e)?e.slice():e,(void 0!==this.width_||void 0!==this.height_)&&(e=void 0),new LT({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode(),width:this.width_,height:this.height_})}updateScaleFromWidthAndHeight(e,n){const r=this.getImage(1);super.setScale(void 0!==e&&void 0!==n?[e/r.width,n/r.height]:void 0!==e?[e/r.width,e/r.width]:void 0!==n?[n/r.height,n/r.height]:[1,1])}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const i=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!i)return null;e=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(e[0]*=i[0]),"fraction"==this.anchorYUnits_&&(e[1]*=i[1])}if("top-left"!=this.anchorOrigin_){if(!i)return null;e===this.anchor_&&(e=this.anchor_.slice()),("top-right"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(e[0]=-e[0]+i[0]),("bottom-left"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(e[1]=-e[1]+i[1])}this.normalizedAnchor_=e}const n=this.getDisplacement(),r=this.getScaleArray();return[e[0]-n[0]/r[0],e[1]+n[1]/r[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if("top-left"!=this.offsetOrigin_){const n=this.getSize(),r=this.iconImage_.getSize();if(!n||!r)return null;e=e.slice(),("top-right"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(e[0]=r[0]-n[0]-e[0]),("bottom-left"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(e[1]=r[1]-n[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){return this.width_}getHeight(){return this.height_}setWidth(e){this.width_=e,this.updateScaleFromWidthAndHeight(e,this.height_)}setHeight(e){this.height_=e,this.updateScaleFromWidthAndHeight(this.width_,e)}setScale(e){super.setScale(e);const n=this.getImage(1);if(n){const r=Array.isArray(e)?e[0]:e;void 0!==r&&(this.width_=r*n.width);const i=Array.isArray(e)?e[1]:e;void 0!==i&&(this.height_=i*n.height)}}listenImageChange(e){this.iconImage_.addEventListener("change",e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener("change",e)}}const nx=LT;class $T{constructor(e){this.font_=(e=e||{}).font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=lr(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new kp({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}clone(){const e=this.getScale();return new $T({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=lr(void 0!==e?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}const Lee=$T;function rx(t){return new Op({fill:dd(t,""),stroke:hd(t,""),text:$ee(t),image:Vee(t)})}function dd(t,e){const n=t[e+"fill-color"];if(n)return new kp({color:n})}function hd(t,e){const n=t[e+"stroke-width"],r=t[e+"stroke-color"];if(n||r)return new xT({width:n,color:r,lineCap:t[e+"stroke-line-cap"],lineJoin:t[e+"stroke-line-join"],lineDash:t[e+"stroke-line-dash"],lineDashOffset:t[e+"stroke-line-dash-offset"],miterLimit:t[e+"stroke-miter-limit"]})}function $ee(t){const e=t["text-value"];return e?new Lee({text:e,font:t["text-font"],maxAngle:t["text-max-angle"],offsetX:t["text-offset-x"],offsetY:t["text-offset-y"],overflow:t["text-overflow"],placement:t["text-placement"],repeat:t["text-repeat"],scale:t["text-scale"],rotateWithView:t["text-rotate-with-view"],rotation:t["text-rotation"],textAlign:t["text-align"],justify:t["text-justify"],textBaseline:t["text-baseline"],padding:t["text-padding"],fill:dd(t,"text-"),backgroundFill:dd(t,"text-background-"),stroke:hd(t,"text-"),backgroundStroke:hd(t,"text-background-")}):void 0}function Vee(t){const e=t["icon-src"],n=t["icon-img"];if(e||n)return new nx({src:e,img:n,imgSize:t["icon-img-size"],anchor:t["icon-anchor"],anchorOrigin:t["icon-anchor-origin"],anchorXUnits:t["icon-anchor-x-units"],anchorYUnits:t["icon-anchor-y-units"],color:t["icon-color"],crossOrigin:t["icon-cross-origin"],offset:t["icon-offset"],displacement:t["icon-displacement"],opacity:t["icon-opacity"],scale:t["icon-scale"],rotation:t["icon-rotation"],rotateWithView:t["icon-rotate-with-view"],size:t["icon-size"],declutterMode:t["icon-declutter-mode"]});const r=t["shape-points"];if(r){const o="shape-";return new JO({points:r,fill:dd(t,o),stroke:hd(t,o),radius:t["shape-radius"],radius1:t["shape-radius1"],radius2:t["shape-radius2"],angle:t["shape-angle"],displacement:t["shape-displacement"],rotation:t["shape-rotation"],rotateWithView:t["shape-rotate-with-view"],scale:t["shape-scale"],declutterMode:t["shape-declutter-mode"]})}const i=t["circle-radius"];if(i){const o="circle-";return new ex({radius:i,fill:dd(t,o),stroke:hd(t,o),displacement:t["circle-displacement"],scale:t["circle-scale"],rotation:t["circle-rotation"],rotateWithView:t["circle-rotate-with-view"],declutterMode:t["circle-declutter-mode"]})}}const Bee=class jee extends _p{constructor(e){e=e||{};const n=Object.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=void 0!==e.declutter&&e.declutter,this.renderBuffer_=void 0!==e.renderBuffer?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=void 0!==e.updateWhileAnimating&&e.updateWhileAnimating,this.updateWhileInteracting_=void 0!==e.updateWhileInteracting&&e.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get("renderOrder")}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e){e.declutterTree||(e.declutterTree=new HO(9)),this.getRenderer().renderDeclutter(e)}setRenderOrder(e){this.set("renderOrder",e)}setStyle(e){let n;if(void 0===e)n=kee;else if(null===e)n=null;else if("function"==typeof e)n=e;else if(e instanceof Op)n=e;else if(Array.isArray(e)){const r=e.length,i=new Array(r);for(let o=0;o<r;++o){const s=e[o];i[o]=s instanceof Op?s:rx(s)}n=i}else n=rx(e);this.style_=n,this.styleFunction_=null===e?void 0:function Nee(t){let e;if("function"==typeof t)e=t;else{let n;Array.isArray(t)?n=t:(Ie("function"==typeof t.getZIndex,41),n=[t]),e=function(){return n}}return e}(this.style_),this.changed()}},fd={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},xp=[fd.FILL],Bo=[fd.STROKE],ca=[fd.BEGIN_PATH],ox=[fd.CLOSE_PATH],pe=fd,sx=class Gee{drawCustom(e,n,r,i){}drawGeometry(e){}setStyle(e){}drawCircle(e,n){}drawFeature(e,n){}drawGeometryCollection(e,n){}drawLineString(e,n){}drawMultiLineString(e,n){}drawMultiPoint(e,n){}drawMultiPolygon(e,n){}drawPoint(e,n){}drawPolygon(e,n){}drawText(e,n){}setFillStrokeStyle(e,n){}setImageStyle(e,n){}setTextStyle(e,n){}},gd=class Uee extends sx{constructor(e,n,r,i){super(),this.tolerance=e,this.maxExtent=n,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=r,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const n=this.pixelRatio;return 1==n?e:e.map(function(r){return r*n})}appendFlatPointCoordinates(e,n){const r=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,o=this.coordinates;let s=o.length;for(let a=0,l=e.length;a<l;a+=n)i[0]=e[a],i[1]=e[a+1],zg(r,i)&&(o[s++]=i[0],o[s++]=i[1]);return s}appendFlatLineCoordinates(e,n,r,i,o,s){const a=this.coordinates;let l=a.length;const c=this.getBufferedMaxExtent();s&&(n+=i);let u=e[n],d=e[n+1];const h=this.tmpCoordinate_;let g,p,_,f=!0;for(g=n+i;g<r;g+=i)h[0]=e[g],h[1]=e[g+1],_=SC(c,h),_!==p?(f&&(a[l++]=u,a[l++]=d,f=!1),a[l++]=h[0],a[l++]=h[1]):1===_?(a[l++]=h[0],a[l++]=h[1],f=!1):f=!0,u=h[0],d=h[1],p=_;return(o&&f||g===n+i)&&(a[l++]=u,a[l++]=d),l}drawCustomCoordinates_(e,n,r,i,o){for(let s=0,a=r.length;s<a;++s){const l=r[s],c=this.appendFlatLineCoordinates(e,n,l,i,!1,!1);o.push(c),n=l}return n}drawCustom(e,n,r,i){this.beginGeometry(e,n);const o=e.getType(),s=e.getStride(),a=this.coordinates.length;let l,c,u,d,h;switch(o){case"MultiPolygon":l=e.getOrientedFlatCoordinates(),d=[];const f=e.getEndss();h=0;for(let g=0,p=f.length;g<p;++g){const _=[];h=this.drawCustomCoordinates_(l,h,f[g],s,_),d.push(_)}this.instructions.push([pe.CUSTOM,a,d,e,r,WC]),this.hitDetectionInstructions.push([pe.CUSTOM,a,d,e,i||r,WC]);break;case"Polygon":case"MultiLineString":u=[],l="Polygon"==o?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),h=this.drawCustomCoordinates_(l,0,e.getEnds(),s,u),this.instructions.push([pe.CUSTOM,a,u,e,r,ed]),this.hitDetectionInstructions.push([pe.CUSTOM,a,u,e,i||r,ed]);break;case"LineString":case"Circle":l=e.getFlatCoordinates(),c=this.appendFlatLineCoordinates(l,0,l.length,s,!1,!1),this.instructions.push([pe.CUSTOM,a,c,e,r,Oo]),this.hitDetectionInstructions.push([pe.CUSTOM,a,c,e,i||r,Oo]);break;case"MultiPoint":l=e.getFlatCoordinates(),c=this.appendFlatPointCoordinates(l,s),c>a&&(this.instructions.push([pe.CUSTOM,a,c,e,r,Oo]),this.hitDetectionInstructions.push([pe.CUSTOM,a,c,e,i||r,Oo]));break;case"Point":l=e.getFlatCoordinates(),this.coordinates.push(l[0],l[1]),c=this.coordinates.length,this.instructions.push([pe.CUSTOM,a,c,e,r]),this.hitDetectionInstructions.push([pe.CUSTOM,a,c,e,i||r])}this.endGeometry(n)}beginGeometry(e,n){this.beginGeometryInstruction1_=[pe.BEGIN_GEOMETRY,n,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[pe.BEGIN_GEOMETRY,n,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;let n;e.reverse();const r=e.length;let i,o,s=-1;for(n=0;n<r;++n)i=e[n],o=i[0],o==pe.END_GEOMETRY?s=n:o==pe.BEGIN_GEOMETRY&&(i[2]=n,cY(this.hitDetectionInstructions,s,n),s=-1)}setFillStrokeStyle(e,n){const r=this.state;if(e){const i=e.getColor();r.fillStyle=mi(i||eo)}else r.fillStyle=void 0;if(n){const i=n.getColor();r.strokeStyle=mi(i||id);const o=n.getLineCap();r.lineCap=void 0!==o?o:Ep;const s=n.getLineDash();r.lineDash=s?s.slice():td;const a=n.getLineDashOffset();r.lineDashOffset=a||0;const l=n.getLineJoin();r.lineJoin=void 0!==l?l:Gl;const c=n.getWidth();r.lineWidth=void 0!==c?c:1;const u=n.getMiterLimit();r.miterLimit=void 0!==u?u:10,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0}createFill(e){const n=e.fillStyle,r=[pe.SET_FILL_STYLE,n];return"string"!=typeof n&&r.push(!0),r}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[pe.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,n){const r=e.fillStyle;("string"!=typeof r||e.currentFillStyle!=r)&&(void 0!==r&&this.instructions.push(n.call(this,e)),e.currentFillStyle=r)}updateStrokeStyle(e,n){const r=e.strokeStyle,i=e.lineCap,o=e.lineDash,s=e.lineDashOffset,a=e.lineJoin,l=e.lineWidth,c=e.miterLimit;(e.currentStrokeStyle!=r||e.currentLineCap!=i||o!=e.currentLineDash&&!Po(e.currentLineDash,o)||e.currentLineDashOffset!=s||e.currentLineJoin!=a||e.currentLineWidth!=l||e.currentMiterLimit!=c)&&(void 0!==r&&n.call(this,e),e.currentStrokeStyle=r,e.currentLineCap=i,e.currentLineDash=o,e.currentLineDashOffset=s,e.currentLineJoin=a,e.currentLineWidth=l,e.currentMiterLimit=c)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[pe.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){return!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=dk(this.maxExtent),this.maxLineWidth>0)&&TC(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_),this.bufferedMaxExtent_}},ax=class qee extends gd{constructor(e,n,r,i){super(e,n,r,i)}drawFlatCoordinatess_(e,n,r,i){const o=this.state,s=void 0!==o.fillStyle,a=void 0!==o.strokeStyle,l=r.length;this.instructions.push(ca),this.hitDetectionInstructions.push(ca);for(let c=0;c<l;++c){const u=r[c],d=this.coordinates.length,h=this.appendFlatLineCoordinates(e,n,u,i,!0,!a),f=[pe.MOVE_TO_LINE_TO,d,h];this.instructions.push(f),this.hitDetectionInstructions.push(f),a&&(this.instructions.push(ox),this.hitDetectionInstructions.push(ox)),n=u}return s&&(this.instructions.push(xp),this.hitDetectionInstructions.push(xp)),a&&(this.instructions.push(Bo),this.hitDetectionInstructions.push(Bo)),n}drawCircle(e,n){const r=this.state;if(void 0===r.fillStyle&&void 0===r.strokeStyle)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([pe.SET_FILL_STYLE,eo]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([pe.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);const s=e.getFlatCoordinates(),a=e.getStride(),l=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,a,!1,!1);const c=[pe.CIRCLE,l];this.instructions.push(ca,c),this.hitDetectionInstructions.push(ca,c),void 0!==r.fillStyle&&(this.instructions.push(xp),this.hitDetectionInstructions.push(xp)),void 0!==r.strokeStyle&&(this.instructions.push(Bo),this.hitDetectionInstructions.push(Bo)),this.endGeometry(n)}drawPolygon(e,n){const r=this.state;if(void 0===r.fillStyle&&void 0===r.strokeStyle)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([pe.SET_FILL_STYLE,eo]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([pe.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);const s=e.getEnds(),a=e.getOrientedFlatCoordinates(),l=e.getStride();this.drawFlatCoordinatess_(a,0,s,l),this.endGeometry(n)}drawMultiPolygon(e,n){const r=this.state;if(void 0===r.fillStyle&&void 0===r.strokeStyle)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([pe.SET_FILL_STYLE,eo]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([pe.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);const s=e.getEndss(),a=e.getOrientedFlatCoordinates(),l=e.getStride();let c=0;for(let u=0,d=s.length;u<d;++u)c=this.drawFlatCoordinatess_(a,c,s[u],l);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(0!==e){const n=this.coordinates;for(let r=0,i=n.length;r<i;++r)n[r]=ia(n[r],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)}};function Kee(t,e,n,r,i){const o=[];let s=n,a=0,l=e.slice(n,2);for(;a<t&&s+i<r;){const[c,u]=l.slice(-2),d=e[s+i],h=e[s+i+1],f=Math.sqrt((d-c)*(d-c)+(h-u)*(h-u));if(a+=f,a>=t){const g=(t-a+f)/f,p=ar(c,d,g),_=ar(u,h,g);l.push(p,_),o.push(l),l=[p,_],a==t&&(s+=i),a=0}else if(a<t)l.push(e[s+i],e[s+i+1]),s+=i;else{const g=f-a,p=ar(c,d,g/f),_=ar(u,h,g/f);l.push(p,_),o.push(l),l=[p,_],a=0,s+=i}}return a>0&&o.push(l),o}function Yee(t,e,n,r,i){let u,d,h,f,g,p,_,m,y,v,o=n,s=n,a=0,l=0,c=n;for(d=n;d<r;d+=i){const E=e[d],C=e[d+1];void 0!==g&&(y=E-g,v=C-p,f=Math.sqrt(y*y+v*v),void 0!==_&&(l+=h,u=Math.acos((_*y+m*v)/(h*f)),u>t&&(l>a&&(a=l,o=c,s=d),l=0,c=d-i)),h=f,_=y,m=v),g=E,p=C}return l+=f,l>a?[c,d]:[o,s]}const pd={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Qee={Circle:ax,Default:gd,Image:class Hee extends gd{constructor(e,n,r,i){super(e,n,r,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,n){if(!this.image_)return;this.beginGeometry(e,n);const r=e.getFlatCoordinates(),i=e.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(r,i);this.instructions.push([pe.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([pe.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(e,n){if(!this.image_)return;this.beginGeometry(e,n);const r=e.getFlatCoordinates(),i=e.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(r,i);this.instructions.push([pe.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([pe.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,n){const r=e.getAnchor(),i=e.getSize(),o=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=r[0],this.anchorY_=r[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=e.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=i[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}},LineString:class Xee extends gd{constructor(e,n,r,i){super(e,n,r,i)}drawFlatCoordinates_(e,n,r,i){const o=this.coordinates.length,s=this.appendFlatLineCoordinates(e,n,r,i,!1,!1),a=[pe.MOVE_TO_LINE_TO,o,s];return this.instructions.push(a),this.hitDetectionInstructions.push(a),r}drawLineString(e,n){const r=this.state;if(void 0===r.strokeStyle||void 0===r.lineWidth)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,n),this.hitDetectionInstructions.push([pe.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,td,0],ca);const s=e.getFlatCoordinates(),a=e.getStride();this.drawFlatCoordinates_(s,0,s.length,a),this.hitDetectionInstructions.push(Bo),this.endGeometry(n)}drawMultiLineString(e,n){const r=this.state;if(void 0===r.strokeStyle||void 0===r.lineWidth)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,n),this.hitDetectionInstructions.push([pe.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],ca);const s=e.getEnds(),a=e.getFlatCoordinates(),l=e.getStride();let c=0;for(let u=0,d=s.length;u<d;++u)c=this.drawFlatCoordinates_(a,c,s[u],l);this.hitDetectionInstructions.push(Bo),this.endGeometry(n)}finish(){const e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Bo),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Bo),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(ca)}},Polygon:ax,Text:class Zee extends gd{constructor(e,n,r,i){super(e,n,r,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,n){const o=this.textState_;if(""===this.text_||!o||!this.textFillState_&&!this.textStrokeState_)return;const s=this.coordinates;let a=s.length;const l=e.getType();let c=null,u=e.getStride();if("line"!==o.placement||"LineString"!=l&&"MultiLineString"!=l&&"Polygon"!=l&&"MultiPolygon"!=l){let d=o.overflow?null:[];switch(l){case"Point":case"MultiPoint":c=e.getFlatCoordinates();break;case"LineString":c=e.getFlatMidpoint();break;case"Circle":c=e.getCenter();break;case"MultiLineString":c=e.getFlatMidpoints(),u=2;break;case"Polygon":c=e.getFlatInteriorPoint(),o.overflow||d.push(c[2]/this.resolution),u=3;break;case"MultiPolygon":const _=e.getFlatInteriorPoints();c=[];for(let m=0,y=_.length;m<y;m+=3)o.overflow||d.push(_[m+2]/this.resolution),c.push(_[m],_[m+1]);if(0===c.length)return;u=2}const h=this.appendFlatPointCoordinates(c,u);if(h===a)return;if(d&&(h-a)/2!==c.length/u){let _=a/2;d=d.filter((m,y)=>{const v=s[2*(_+y)]===c[y*u]&&s[2*(_+y)+1]===c[y*u+1];return v||--_,v})}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,n);let f=o.padding;if(f!=aa&&(o.scale[0]<0||o.scale[1]<0)){let _=o.padding[0],m=o.padding[1],y=o.padding[2],v=o.padding[3];o.scale[0]<0&&(m=-m,v=-v),o.scale[1]<0&&(_=-_,y=-y),f=[_,m,y,v]}const g=this.pixelRatio;this.instructions.push([pe.DRAW_IMAGE,a,h,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,f==aa?aa:f.map(function(_){return _*g}),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,d]);const p=1/g;this.hitDetectionInstructions.push([pe.DRAW_IMAGE,a,h,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[p,p],NaN,void 0,this.declutterImageWithText_,f,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,d]),this.endGeometry(n)}else{if(!An(this.getBufferedMaxExtent(),e.getExtent()))return;let d;if(c=e.getFlatCoordinates(),"LineString"==l)d=[c.length];else if("MultiLineString"==l)d=e.getEnds();else if("Polygon"==l)d=e.getEnds().slice(0,1);else if("MultiPolygon"==l){const p=e.getEndss();d=[];for(let _=0,m=p.length;_<m;++_)d.push(p[_][0])}this.beginGeometry(e,n);const h=o.repeat,f=h?void 0:o.textAlign;let g=0;for(let p=0,_=d.length;p<_;++p){let m;m=h?Kee(h*this.resolution,c,g,d[p],u):[c.slice(g,d[p])];for(let y=0,v=m.length;y<v;++y){const E=m[y];let C=0,N=E.length;if(null==f){const L=Yee(o.maxAngle,E,0,E.length,2);C=L[0],N=L[1]}for(let L=C;L<N;L+=u)s.push(E[L],E[L+1]);const P=s.length;g=d[p],this.drawChars_(a,P),a=P}}this.endGeometry(n)}}saveTextStates_(){const e=this.textStrokeState_,n=this.textState_,r=this.textFillState_,i=this.strokeKey_;e&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const o=this.textKey_;o in this.textStates||(this.textStates[o]={font:n.font,textAlign:n.textAlign||od,justify:n.justify,textBaseline:n.textBaseline||Cp,scale:n.scale});const s=this.fillKey_;r&&(s in this.fillStates||(this.fillStates[s]={fillStyle:r.fillStyle}))}drawChars_(e,n){const r=this.textStrokeState_,i=this.textState_,o=this.strokeKey_,s=this.textKey_,a=this.fillKey_;this.saveTextStates_();const l=this.pixelRatio,c=pd[i.textBaseline],u=this.textOffsetY_*l,d=this.text_,h=r?r.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([pe.DRAW_CHARS,e,n,c,i.overflow,a,i.maxAngle,l,u,o,h*l,d,s,1]),this.hitDetectionInstructions.push([pe.DRAW_CHARS,e,n,c,i.overflow,a,i.maxAngle,1,u,o,h,d,s,1/l])}setTextStyle(e,n){let r,i,o;if(e){const s=e.getFill();s?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=mi(s.getColor()||eo)):(i=null,this.textFillState_=i);const a=e.getStroke();if(a){o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);const g=a.getLineDash(),p=a.getLineDashOffset(),_=a.getWidth(),m=a.getMiterLimit();o.lineCap=a.getLineCap()||Ep,o.lineDash=g?g.slice():td,o.lineDashOffset=void 0===p?0:p,o.lineJoin=a.getLineJoin()||Gl,o.lineWidth=void 0===_?1:_,o.miterLimit=void 0===m?10:m,o.strokeStyle=mi(a.getColor()||id)}else o=null,this.textStrokeState_=o;r=this.textState_;const l=e.getFont()||hO;eQ(l);const c=e.getScaleArray();r.overflow=e.getOverflow(),r.font=l,r.maxAngle=e.getMaxAngle(),r.placement=e.getPlacement(),r.textAlign=e.getTextAlign(),r.repeat=e.getRepeat(),r.justify=e.getJustify(),r.textBaseline=e.getTextBaseline()||Cp,r.backgroundFill=e.getBackgroundFill(),r.backgroundStroke=e.getBackgroundStroke(),r.padding=e.getPadding()||aa,r.scale=void 0===c?[1,1]:c;const u=e.getOffsetX(),d=e.getOffsetY(),h=e.getRotateWithView(),f=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===u?0:u,this.textOffsetY_=void 0===d?0:d,this.textRotateWithView_=void 0!==h&&h,this.textRotation_=void 0===f?0:f,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:He(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.repeat||"?")+(r.justify||"?")+(r.textBaseline||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+He(i.fillStyle):""}else this.text_="";this.declutterImageWithText_=n}}},lx=class Jee{constructor(e,n,r,i){this.tolerance_=e,this.maxExtent_=n,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}finish(){const e={};for(const n in this.buildersByZIndex_){e[n]=e[n]||{};const r=this.buildersByZIndex_[n];for(const i in r){const o=r[i].finish();e[n][i]=o}}return e}getBuilder(e,n){const r=void 0!==e?e.toString():"0";let i=this.buildersByZIndex_[r];void 0===i&&(i={},this.buildersByZIndex_[r]=i);let o=i[n];return void 0===o&&(o=new(0,Qee[n])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[n]=o),o}};function ete(t,e,n,r,i,o,s,a,l,c,u,d){let h=t[e],f=t[e+1],g=0,p=0,_=0,m=0;function y(){g=h,p=f,h=t[e+=r],f=t[e+1],m+=_,_=Math.sqrt((h-g)*(h-g)+(f-p)*(f-p))}do{y()}while(e<n-r&&m+_<o);let v=0===_?0:(o-m)/_;const E=ar(g,h,v),C=ar(p,f,v),N=e-r,P=m,L=o+a*l(c,i,u);for(;e<n-r&&m+_<L;)y();v=0===_?0:(L-m)/_;const H=ar(g,h,v),K=ar(p,f,v);let ce;if(d){const j=[E,C,H,K];Hk(j,0,4,2,d,j,j),ce=j[0]>j[2]}else ce=E>H;const V=Math.PI,z=[],Le=N+r===e;let ae;if(_=0,m=P,h=t[e=N],f=t[e+1],Le)return y(),ae=Math.atan2(f-p,h-g),ce&&(ae+=ae>0?-V:V),z[0]=[(H+E)/2,(K+C)/2,(L-o)/2,ae,i],z;for(let j=0,B=(i=i.replace(/\n/g," ")).length;j<B;){y();let X=Math.atan2(f-p,h-g);if(ce&&(X+=X>0?-V:V),void 0!==ae){let be=X-ae;if(be+=be>V?-2*V:be<-V?2*V:0,Math.abs(be)>s)return null}ae=X;const Re=j;let ke=0;for(;j<B;++j){const je=a*l(c,i[ce?B-j-1:j],u);if(e+r<n&&m+_<o+ke+je/2)break;ke+=je}if(j===Re)continue;const Ct=ce?i.substring(B-Re,B-j):i.substring(Re,j);v=0===_?0:(o+ke/2-m)/_;const F=ar(g,h,v),Ut=ar(p,f,v);z.push([F,Ut,ke/2,X,Ct]),o+=ke}return z}const Kl=[1/0,1/0,-1/0,-1/0],Go=[],no=[],ro=[],Uo=[];function cx(t){return t[3].declutterBox}const tte=new RegExp("[\u0591-\u08ff\ufb1d-\ufdff\ufe70-\ufefc\u0800-\u0fff\ue800-\uefff]");function ux(t,e){return("start"===e||"end"===e)&&!tte.test(t)&&(e="start"===e?"left":"right"),pd[e]}function nte(t,e,n){return n>0&&t.push("\n",""),t.push(e,""),t}const ite=class rte{constructor(e,n,r,i){this.overlaps=r,this.pixelRatio=n,this.resolution=e,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}createLabel(e,n,r,i){const o=e+n+r+i;if(this.labels_[o])return this.labels_[o];const s=i?this.strokeStates[i]:null,a=r?this.fillStates[r]:null,l=this.textStates[n],c=this.pixelRatio,u=[l.scale[0]*c,l.scale[1]*c],d=Array.isArray(e),h=l.justify?pd[l.justify]:ux(Array.isArray(e)?e[0]:e,l.textAlign||od),f=i&&s.lineWidth?s.lineWidth:0,g=d?e:e.split("\n").reduce(nte,[]),{width:p,height:_,widths:m,heights:y,lineWidths:v}=function nQ(t,e){const n=[],r=[],i=[];let o=0,s=0,a=0,l=0;for(let c=0,u=e.length;c<=u;c+=2){const d=e[c];if("\n"===d||c===u){o=Math.max(o,s),i.push(s),s=0,a+=l;continue}const h=e[c+1]||t.font,f=Tp(h,d);n.push(f),s+=f;const g=tQ(h);r.push(g),l=Math.max(l,g)}return{width:o,height:a,widths:n,heights:r,lineWidths:i}}(l,g),E=p+f,C=[],N=(E+2)*u[0],P=(_+f)*u[1],L={width:N<0?Math.floor(N):Math.ceil(N),height:P<0?Math.floor(P):Math.ceil(P),contextInstructions:C};(1!=u[0]||1!=u[1])&&C.push("scale",u),i&&(C.push("strokeStyle",s.strokeStyle),C.push("lineWidth",f),C.push("lineCap",s.lineCap),C.push("lineJoin",s.lineJoin),C.push("miterLimit",s.miterLimit),C.push("setLineDash",[s.lineDash]),C.push("lineDashOffset",s.lineDashOffset)),r&&C.push("fillStyle",a.fillStyle),C.push("textBaseline","middle"),C.push("textAlign","center");const H=.5-h;let K=h*E+H*f;const ce=[],V=[];let B,z=0,Le=0,ae=0,j=0;for(let X=0,Re=g.length;X<Re;X+=2){const ke=g[X];if("\n"===ke){Le+=z,z=0,K=h*E+H*f,++j;continue}const Ct=g[X+1]||l.font;Ct!==B&&(i&&ce.push("font",Ct),r&&V.push("font",Ct),B=Ct),z=Math.max(z,y[ae]);const F=[ke,K+H*m[ae]+h*(m[ae]-v[j]),.5*(f+z)+Le];K+=m[ae],i&&ce.push("strokeText",F),r&&V.push("fillText",F),++ae}return Array.prototype.push.apply(C,ce),Array.prototype.push.apply(C,V),this.labels_[o]=L,L}replayTextBackground_(e,n,r,i,o,s,a){e.beginPath(),e.moveTo.apply(e,n),e.lineTo.apply(e,r),e.lineTo.apply(e,i),e.lineTo.apply(e,o),e.lineTo.apply(e,n),s&&(this.alignFill_=s[2],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())}calculateImageOrLabelDimensions_(e,n,r,i,o,s,a,l,c,u,d,h,f,g,p,_){let m=r-(a*=h[0]),y=i-(l*=h[1]);const v=o+c>e?e-c:o,E=s+u>n?n-u:s,C=g[3]+v*h[0]+g[1],N=g[0]+E*h[1]+g[2],P=m-g[3],L=y-g[0];let H;return(p||0!==d)&&(Go[0]=P,Uo[0]=P,Go[1]=L,no[1]=L,no[0]=P+C,ro[0]=no[0],ro[1]=L+N,Uo[1]=ro[1]),0!==d?(H=Zi([1,0,0,1,0,0],r,i,1,1,d,-r,-i),Wt(H,Go),Wt(H,no),Wt(H,ro),Wt(H,Uo),pi(Math.min(Go[0],no[0],ro[0],Uo[0]),Math.min(Go[1],no[1],ro[1],Uo[1]),Math.max(Go[0],no[0],ro[0],Uo[0]),Math.max(Go[1],no[1],ro[1],Uo[1]),Kl)):pi(Math.min(P,P+C),Math.min(L,L+N),Math.max(P,P+C),Math.max(L,L+N),Kl),f&&(m=Math.round(m),y=Math.round(y)),{drawImageX:m,drawImageY:y,drawImageW:v,drawImageH:E,originX:c,originY:u,declutterBox:{minX:Kl[0],minY:Kl[1],maxX:Kl[2],maxY:Kl[3],value:_},canvasTransform:H,scale:h}}replayImageOrLabel_(e,n,r,i,o,s,a){const c=i.declutterBox,u=e.canvas,d=a?a[2]*i.scale[0]/2:0;return c.minX-d<=u.width/n&&c.maxX+d>=0&&c.minY-d<=u.height/n&&c.maxY+d>=0&&(!(!s&&!a)&&this.replayTextBackground_(e,Go,no,ro,Uo,s,a),function rQ(t,e,n,r,i,o,s,a,l,c,u){t.save(),1!==n&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),r.contextInstructions?(t.translate(l,c),t.scale(u[0],u[1]),function iQ(t,e){const n=t.contextInstructions;for(let r=0,i=n.length;r<i;r+=2)Array.isArray(n[r+1])?e[n[r]].apply(e,n[r+1]):e[n[r]]=n[r+1]}(r,t)):u[0]<0||u[1]<0?(t.translate(l,c),t.scale(u[0],u[1]),t.drawImage(r,i,o,s,a,0,0,s,a)):t.drawImage(r,i,o,s,a,l,c,s*u[0],a*u[1]),t.restore()}(e,i.canvasTransform,o,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}fill_(e){if(this.alignFill_){const n=Wt(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(n[0]%r,n[1]%r),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()}setStrokeStyle_(e,n){e.strokeStyle=n[1],e.lineWidth=n[2],e.lineCap=n[3],e.lineJoin=n[4],e.miterLimit=n[5],e.lineDashOffset=n[7],e.setLineDash(n[6])}drawLabelWithPointPlacement_(e,n,r,i){const o=this.textStates[n],s=this.createLabel(e,n,i,r),a=this.strokeStates[r],l=this.pixelRatio,c=ux(Array.isArray(e)?e[0]:e,o.textAlign||od),u=pd[o.textBaseline||Cp],d=a&&a.lineWidth?a.lineWidth:0;return{label:s,anchorX:c*(s.width/l-2*o.scale[0])+2*(.5-c)*d,anchorY:u*s.height/l+2*(.5-u)*d}}execute_(e,n,r,i,o,s,a,l){let c;this.pixelCoordinates_&&Po(r,this.renderedTransform_)?c=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),c=na(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),function MY(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5]}(this.renderedTransform_,r));let u=0;const d=i.length;let f,g,p,_,m,y,v,E,C,N,P,L,h=0,H=0,K=0,ce=null,V=null;const z=this.coordinateCache_,Le=this.viewRotation_,ae=Math.round(1e12*Math.atan2(-r[1],r[0]))/1e12,j={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Le},B=this.instructions!=i||this.overlaps?0:200;let X,Re,ke,Ct;for(;u<d;){const F=i[u];switch(F[0]){case pe.BEGIN_GEOMETRY:X=F[1],Ct=F[3],X.getGeometry()?void 0===a||An(a,Ct.getExtent())?++u:u=F[2]+1:u=F[2];break;case pe.BEGIN_PATH:H>B&&(this.fill_(e),H=0),K>B&&(e.stroke(),K=0),!H&&!K&&(e.beginPath(),_=NaN,m=NaN),++u;break;case pe.CIRCLE:h=F[1];const be=c[h],je=c[h+1],St=c[h+2]-be,Nn=c[h+3]-je,Mr=Math.sqrt(St*St+Nn*Nn);e.moveTo(be+Mr,je),e.arc(be,je,Mr,0,2*Math.PI,!0),++u;break;case pe.CLOSE_PATH:e.closePath(),++u;break;case pe.CUSTOM:h=F[1],f=F[2];const Sr=F[4],Ti=6==F.length?F[5]:void 0;j.geometry=F[3],j.feature=X,u in z||(z[u]=[]);const Yn=z[u];Ti?Ti(c,h,f,2,Yn):(Yn[0]=c[h],Yn[1]=c[h+1],Yn.length=2),Sr(Yn,j),++u;break;case pe.DRAW_IMAGE:h=F[1],f=F[2],E=F[3],g=F[4],p=F[5];let ur=F[6];const Zn=F[7],Q=F[8],ga=F[9],pa=F[10];let io=F[11];const ec=F[12];let nn=F[13];const kn=F[14],Qn=F[15];if(!E&&F.length>=20){C=F[19],N=F[20],P=F[21],L=F[22];const pn=this.drawLabelWithPointPlacement_(C,N,P,L);E=pn.label,F[3]=E,g=(pn.anchorX-F[23])*this.pixelRatio,F[4]=g,p=(pn.anchorY-F[24])*this.pixelRatio,F[5]=p,ur=E.height,F[6]=ur,nn=E.width,F[13]=nn}let Dr,oo,Mi,Wr;F.length>25&&(Dr=F[25]),F.length>17?(oo=F[16],Mi=F[17],Wr=F[18]):(oo=aa,Mi=!1,Wr=!1),pa&&ae?io+=Le:!pa&&!ae&&(io-=Le);let so=0;for(;h<f;h+=2){if(Dr&&Dr[so++]<nn/this.pixelRatio)continue;const pn=this.calculateImageOrLabelDimensions_(E.width,E.height,c[h],c[h+1],nn,ur,g,p,Q,ga,io,ec,o,oo,Mi||Wr,X),ao=[e,n,E,pn,Zn,Mi?ce:null,Wr?V:null];if(l){if("none"===kn)continue;if("obstacle"===kn){l.insert(pn.declutterBox);continue}{let On,wr;if(Qn){const _n=f-h;if(!Qn[_n]){Qn[_n]=ao;continue}if(On=Qn[_n],delete Qn[_n],wr=cx(On),l.collides(wr))continue}if(l.collides(pn.declutterBox))continue;On&&(l.insert(wr),this.replayImageOrLabel_.apply(this,On)),l.insert(pn.declutterBox)}}this.replayImageOrLabel_.apply(this,ao)}++u;break;case pe.DRAW_CHARS:const _a=F[1],Kt=F[2],tc=F[3],i_=F[4];L=F[5];const o_=F[6],Id=F[7],Rd=F[8];P=F[9];const nc=F[10];C=F[11],N=F[12];const Ad=[F[13],F[13]],rc=this.textStates[N],Yo=rc.font,Zo=[rc.scale[0]*Id,rc.scale[1]*Id];let Qo;Yo in this.widths_?Qo=this.widths_[Yo]:(Qo={},this.widths_[Yo]=Qo);const bd=DT(c,_a,Kt,2),Pd=Math.abs(Zo[0])*gO(Yo,C,Qo);if(i_||Pd<=bd){const On=ete(c,_a,Kt,2,C,(bd-Pd)*pd[this.textStates[N].textAlign],o_,Math.abs(Zo[0]),gO,Yo,Qo,ae?0:this.viewRotation_);e:if(On){const wr=[];let _n,ma,ya,rn,xn;if(P)for(_n=0,ma=On.length;_n<ma;++_n){xn=On[_n],ya=xn[4],rn=this.createLabel(ya,N,"",P),g=xn[2]+(Zo[0]<0?-nc:nc),p=tc*rn.height+2*(.5-tc)*nc*Zo[1]/Zo[0]-Rd;const Ir=this.calculateImageOrLabelDimensions_(rn.width,rn.height,xn[0],xn[1],rn.width,rn.height,g,p,0,0,xn[3],Ad,!1,aa,!1,X);if(l&&l.collides(Ir.declutterBox))break e;wr.push([e,n,rn,Ir,1,null,null])}if(L)for(_n=0,ma=On.length;_n<ma;++_n){xn=On[_n],ya=xn[4],rn=this.createLabel(ya,N,L,""),g=xn[2],p=tc*rn.height-Rd;const Ir=this.calculateImageOrLabelDimensions_(rn.width,rn.height,xn[0],xn[1],rn.width,rn.height,g,p,0,0,xn[3],Ad,!1,aa,!1,X);if(l&&l.collides(Ir.declutterBox))break e;wr.push([e,n,rn,Ir,1,null,null])}l&&l.load(wr.map(cx));for(let Ir=0,s_=wr.length;Ir<s_;++Ir)this.replayImageOrLabel_.apply(this,wr[Ir])}}++u;break;case pe.END_GEOMETRY:if(void 0!==s){X=F[1];const pn=s(X,Ct);if(pn)return pn}++u;break;case pe.FILL:B?H++:this.fill_(e),++u;break;case pe.MOVE_TO_LINE_TO:for(h=F[1],f=F[2],Re=c[h],ke=c[h+1],y=Re+.5|0,v=ke+.5|0,(y!==_||v!==m)&&(e.moveTo(Re,ke),_=y,m=v),h+=2;h<f;h+=2)Re=c[h],ke=c[h+1],y=Re+.5|0,v=ke+.5|0,(h==f-2||y!==_||v!==m)&&(e.lineTo(Re,ke),_=y,m=v);++u;break;case pe.SET_FILL_STYLE:ce=F,this.alignFill_=F[2],H&&(this.fill_(e),H=0,K&&(e.stroke(),K=0)),e.fillStyle=F[1],++u;break;case pe.SET_STROKE_STYLE:V=F,K&&(e.stroke(),K=0),this.setStrokeStyle_(e,F),++u;break;case pe.STROKE:B?K++:e.stroke(),++u;break;default:++u}}H&&this.fill_(e),K&&e.stroke()}execute(e,n,r,i,o,s){this.viewRotation_=i,this.execute_(e,n,r,this.instructions,o,void 0,void 0,s)}executeHitDetection(e,n,r,i,o){return this.viewRotation_=r,this.execute_(e,1,n,this.hitDetectionInstructions,!0,i,o)}},VT=["Polygon","Circle","LineString","Image","Text","Default"],jT={},dx=class ote{constructor(e,n,r,i,o,s){this.maxExtent_=e,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=n,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(o)}clip(e,n){const r=this.getClipCoords(n);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()}createExecutors_(e){for(const n in e){let r=this.executorsByZIndex_[n];void 0===r&&(r={},this.executorsByZIndex_[n]=r);const i=e[n];for(const o in i)r[o]=new ite(this.resolution_,this.pixelRatio_,this.overlaps_,i[o])}}hasExecutors(e){for(const n in this.executorsByZIndex_){const r=this.executorsByZIndex_[n];for(let i=0,o=e.length;i<o;++i)if(e[i]in r)return!0}return!1}forEachFeatureAtCoordinate(e,n,r,i,o,s){const a=2*(i=Math.round(i))+1,l=Zi(this.hitDetectionTransform_,i+.5,i+.5,1/n,-1/n,-r,-e[0],-e[1]),c=!this.hitDetectionContext_;c&&(this.hitDetectionContext_=Pn(a,a,void 0,{willReadFrequently:!0}));const u=this.hitDetectionContext_;let d;u.canvas.width!==a||u.canvas.height!==a?(u.canvas.width=a,u.canvas.height=a):c||u.clearRect(0,0,a,a),void 0!==this.renderBuffer_&&(d=[1/0,1/0,-1/0,-1/0],Fl(d,e),TC(d,n*(this.renderBuffer_+i),d));const h=function ste(t){if(void 0!==jT[t])return jT[t];const e=2*t+1,n=t*t,r=new Array(n+1);for(let o=0;o<=t;++o)for(let s=0;s<=t;++s){const a=o*o+s*s;if(a>n)break;let l=r[a];l||(l=[],r[a]=l),l.push(4*((t+o)*e+(t+s))+3),o>0&&l.push(4*((t-o)*e+(t+s))+3),s>0&&(l.push(4*((t+o)*e+(t-s))+3),o>0&&l.push(4*((t-o)*e+(t-s))+3))}const i=[];for(let o=0,s=r.length;o<s;++o)r[o]&&i.push(...r[o]);return jT[t]=i,i}(i);let f;function g(C,N){const P=u.getImageData(0,0,a,a).data;for(let L=0,H=h.length;L<H;L++)if(P[h[L]]>0){if(!s||"Image"!==f&&"Text"!==f||s.includes(C)){const K=(h[L]-3)/4,ce=i-K%a,V=i-(K/a|0),z=o(C,N,ce*ce+V*V);if(z)return z}u.clearRect(0,0,a,a);break}}const p=Object.keys(this.executorsByZIndex_).map(Number);let _,m,y,v,E;for(p.sort(zs),_=p.length-1;_>=0;--_){const C=p[_].toString();for(y=this.executorsByZIndex_[C],m=VT.length-1;m>=0;--m)if(f=VT[m],v=y[f],void 0!==v&&(E=v.executeHitDetection(u,l,r,g,d),E))return E}}getClipCoords(e){const n=this.maxExtent_;if(!n)return null;const r=n[0],i=n[1],o=n[2],s=n[3],a=[r,i,r,s,o,s,o,i];return na(a,0,8,2,e,a),a}isEmpty(){return xl(this.executorsByZIndex_)}execute(e,n,r,i,o,s,a){const l=Object.keys(this.executorsByZIndex_).map(Number);let c,u,d,h,f,g;for(l.sort(zs),this.maxExtent_&&(e.save(),this.clip(e,r)),s=s||VT,a&&l.reverse(),c=0,u=l.length;c<u;++c){const p=l[c].toString();for(f=this.executorsByZIndex_[p],d=0,h=s.length;d<h;++d)g=f[s[d]],void 0!==g&&g.execute(e,n,r,i,o,a)}this.maxExtent_&&e.restore()}},lte=class ate extends sx{constructor(e,n,r,i,o,s,a){super(),this.context_=e,this.pixelRatio_=n,this.extent_=r,this.transform_=i,this.transformRotation_=i?Zg(Math.atan2(i[1],i[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=s,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=[1,0,0,1,0,0]}drawImages_(e,n,r,i){if(!this.image_)return;const o=na(e,n,r,i,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.tmpLocalTransform_,l=s.globalAlpha;1!=this.imageOpacity_&&(s.globalAlpha=l*this.imageOpacity_);let c=this.imageRotation_;0===this.transformRotation_&&(c-=this.viewRotation_),this.imageRotateWithView_&&(c+=this.viewRotation_);for(let u=0,d=o.length;u<d;u+=2){const h=o[u]-this.imageAnchorX_,f=o[u+1]-this.imageAnchorY_;if(0!==c||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const g=h+this.imageAnchorX_,p=f+this.imageAnchorY_;Zi(a,g,p,1,1,c,-g,-p),s.setTransform.apply(s,a),s.translate(g,p),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,f,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(s.globalAlpha=l)}drawText_(e,n,r,i){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const o=na(e,n,r,i,this.transform_,this.pixelCoordinates_),s=this.context_;let a=this.textRotation_;for(0===this.transformRotation_&&(a-=this.viewRotation_),this.textRotateWithView_&&(a+=this.viewRotation_);n<r;n+=i){const l=o[n]+this.textOffsetX_,c=o[n+1]+this.textOffsetY_;0!==a||1!=this.textScale_[0]||1!=this.textScale_[1]?(s.translate(l-this.textOffsetX_,c-this.textOffsetY_),s.rotate(a),s.translate(this.textOffsetX_,this.textOffsetY_),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&s.strokeText(this.text_,l,c),this.textFillState_&&s.fillText(this.text_,l,c))}}moveToLineTo_(e,n,r,i,o){const s=this.context_,a=na(e,n,r,i,this.transform_,this.pixelCoordinates_);s.moveTo(a[0],a[1]);let l=a.length;o&&(l-=2);for(let c=2;c<l;c+=2)s.lineTo(a[c],a[c+1]);return o&&s.closePath(),r}drawRings_(e,n,r,i){for(let o=0,s=r.length;o<s;++o)n=this.moveToLineTo_(e,n,r[o],i,!0);return n}drawCircle(e){if(An(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=function SZ(t,e,n){const r=t.getFlatCoordinates();if(!r)return null;const i=t.getStride();return na(r,0,r.length,i,e,n)}(e,this.transform_,this.pixelCoordinates_),r=n[2]-n[0],i=n[3]-n[1],o=Math.sqrt(r*r+i*i),s=this.context_;s.beginPath(),s.arc(n[0],n[1],o,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e)}}drawFeature(e,n){const r=n.getGeometryFunction()(e);!r||!An(this.extent_,r.getExtent())||(this.setStyle(n),this.drawGeometry(r))}drawGeometryCollection(e){const n=e.getGeometriesArray();for(let r=0,i=n.length;r<i;++r)this.drawGeometry(n[r])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(n,0,n.length,r),""!==this.text_&&this.drawText_(n,0,n.length,r)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(n,0,n.length,r),""!==this.text_&&this.drawText_(n,0,n.length,r)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),An(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(r,0,r.length,e.getStride(),!1),n.stroke()}if(""!==this.text_){const n=e.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getExtent();if(An(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const r=this.context_,i=e.getFlatCoordinates();let o=0;const s=e.getEnds(),a=e.getStride();r.beginPath();for(let l=0,c=s.length;l<c;++l)o=this.moveToLineTo_(i,o,s[l],a,!1);r.stroke()}if(""!==this.text_){const r=e.getFlatMidpoints();this.drawText_(r,0,r.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),An(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(""!==this.text_){const n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),An(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=e.getOrientedFlatCoordinates();let i=0;const o=e.getEndss(),s=e.getStride();n.beginPath();for(let a=0,l=o.length;a<l;++a)i=this.drawRings_(r,i,o[a],s);this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(""!==this.text_){const n=e.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(e){const n=this.context_,r=this.contextFillState_;r?r.fillStyle!=e.fillStyle&&(r.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const n=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=e.lineCap&&(r.lineCap=e.lineCap,n.lineCap=e.lineCap),Po(r.lineDash,e.lineDash)||n.setLineDash(r.lineDash=e.lineDash),r.lineDashOffset!=e.lineDashOffset&&(r.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset),r.lineJoin!=e.lineJoin&&(r.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),r.lineWidth!=e.lineWidth&&(r.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),r.miterLimit!=e.miterLimit&&(r.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),r.strokeStyle!=e.strokeStyle&&(r.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset,n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const n=this.context_,r=this.contextTextState_,i=e.textAlign?e.textAlign:od;r?(r.font!=e.font&&(r.font=e.font,n.font=e.font),r.textAlign!=i&&(r.textAlign=i,n.textAlign=i),r.textBaseline!=e.textBaseline&&(r.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=i,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:i,textBaseline:e.textBaseline})}setFillStrokeStyle(e,n){if(e){const r=e.getColor();this.fillState_={fillStyle:mi(r||eo)}}else this.fillState_=null;if(n){const r=n.getColor(),i=n.getLineCap(),o=n.getLineDash(),s=n.getLineDashOffset(),a=n.getLineJoin(),l=n.getWidth(),c=n.getMiterLimit(),u=o||td;this.strokeState_={lineCap:void 0!==i?i:Ep,lineDash:1===this.pixelRatio_?u:u.map(d=>d*this.pixelRatio_),lineDashOffset:(s||0)*this.pixelRatio_,lineJoin:void 0!==a?a:Gl,lineWidth:(void 0!==l?l:1)*this.pixelRatio_,miterLimit:void 0!==c?c:10,strokeStyle:mi(r||id)}}else this.strokeState_=null}setImageStyle(e){let n;if(!e||!(n=e.getSize()))return void(this.image_=null);const r=e.getPixelRatio(this.pixelRatio_),i=e.getAnchor(),o=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*r,this.imageAnchorY_=i[1]*r,this.imageHeight_=n[1]*r,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const s=e.getScaleArray();this.imageScale_=[s[0]*this.pixelRatio_/r,s[1]*this.pixelRatio_/r],this.imageWidth_=n[0]*r}setTextStyle(e){if(e){const n=e.getFill();if(n){const f=n.getColor();this.textFillState_={fillStyle:mi(f||eo)}}else this.textFillState_=null;const r=e.getStroke();if(r){const f=r.getColor(),g=r.getLineCap(),p=r.getLineDash(),_=r.getLineDashOffset(),m=r.getLineJoin(),y=r.getWidth(),v=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==g?g:Ep,lineDash:p||td,lineDashOffset:_||0,lineJoin:void 0!==m?m:Gl,lineWidth:void 0!==y?y:1,miterLimit:void 0!==v?v:10,strokeStyle:mi(f||id)}}else this.textStrokeState_=null;const i=e.getFont(),o=e.getOffsetX(),s=e.getOffsetY(),a=e.getRotateWithView(),l=e.getRotation(),c=e.getScaleArray(),u=e.getText(),d=e.getTextAlign(),h=e.getTextBaseline();this.textState_={font:void 0!==i?i:hO,textAlign:void 0!==d?d:od,textBaseline:void 0!==h?h:Cp},this.text_=void 0!==u?Array.isArray(u)?u.reduce((f,g,p)=>f+(p%2?" ":g),""):u:"",this.textOffsetX_=void 0!==o?this.pixelRatio_*o:0,this.textOffsetY_=void 0!==s?this.pixelRatio_*s:0,this.textRotateWithView_=void 0!==a&&a,this.textRotation_=void 0!==l?l:0,this.textScale_=[this.pixelRatio_*c[0],this.pixelRatio_*c[1]]}else this.text_=""}},yi=.5,hx={Point:function Ete(t,e,n,r,i){const o=n.getImage(),s=n.getText();let a;if(o){if(2!=o.getImageState())return;let l=t;if(i){const u=o.getDeclutterMode();if("none"!==u)if(l=i,"obstacle"===u){const d=t.getBuilder(n.getZIndex(),"Image");d.setImageStyle(o,a),d.drawPoint(e,r)}else s&&s.getText()&&(a={})}const c=l.getBuilder(n.getZIndex(),"Image");c.setImageStyle(o,a),c.drawPoint(e,r)}if(s&&s.getText()){let l=t;i&&(l=i);const c=l.getBuilder(n.getZIndex(),"Text");c.setTextStyle(s,a),c.drawText(e,r)}},LineString:function mte(t,e,n,r,i){const o=n.getStroke();if(o){const a=t.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawLineString(e,r)}const s=n.getText();if(s&&s.getText()){const a=(i||t).getBuilder(n.getZIndex(),"Text");a.setTextStyle(s),a.drawText(e,r)}},Polygon:function Tte(t,e,n,r,i){const o=n.getFill(),s=n.getStroke();if(o||s){const l=t.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(o,s),l.drawPolygon(e,r)}const a=n.getText();if(a&&a.getText()){const l=(i||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,r)}},MultiPoint:function Cte(t,e,n,r,i){const o=n.getImage(),s=n.getText();let a;if(o){if(2!=o.getImageState())return;let l=t;if(i){const u=o.getDeclutterMode();if("none"!==u)if(l=i,"obstacle"===u){const d=t.getBuilder(n.getZIndex(),"Image");d.setImageStyle(o,a),d.drawMultiPoint(e,r)}else s&&s.getText()&&(a={})}const c=l.getBuilder(n.getZIndex(),"Image");c.setImageStyle(o,a),c.drawMultiPoint(e,r)}if(s&&s.getText()){let l=t;i&&(l=i);const c=l.getBuilder(n.getZIndex(),"Text");c.setTextStyle(s,a),c.drawText(e,r)}},MultiLineString:function yte(t,e,n,r,i){const o=n.getStroke();if(o){const a=t.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawMultiLineString(e,r)}const s=n.getText();if(s&&s.getText()){const a=(i||t).getBuilder(n.getZIndex(),"Text");a.setTextStyle(s),a.drawText(e,r)}},MultiPolygon:function vte(t,e,n,r,i){const o=n.getFill(),s=n.getStroke();if(s||o){const l=t.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(o,s),l.drawMultiPolygon(e,r)}const a=n.getText();if(a&&a.getText()){const l=(i||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,r)}},GeometryCollection:function _te(t,e,n,r,i){const o=e.getGeometriesArray();let s,a;for(s=0,a=o.length;s<a;++s)(0,hx[o[s].getType()])(t,o[s],n,r,i)},Circle:function gte(t,e,n,r,i){const o=n.getFill(),s=n.getStroke();if(o||s){const l=t.getBuilder(n.getZIndex(),"Circle");l.setFillStrokeStyle(o,s),l.drawCircle(e,r)}const a=n.getText();if(a&&a.getText()){const l=(i||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,r)}}};function hte(t,e){return parseInt(He(t),10)-parseInt(He(e),10)}function BT(t,e){return.5*t/e}function fx(t,e,n,r,i,o,s){let a=!1;const l=n.getImage();if(l){const c=l.getImageState();2==c||3==c?l.unlistenImageChange(i):(0==c&&l.load(),l.listenImageChange(i),a=!0)}return function pte(t,e,n,r,i,o){const s=n.getGeometryFunction()(e);if(!s)return;const a=s.simplifyTransformed(r,i);n.getRenderer()?gx(t,a,n,e):(0,hx[a.getType()])(t,a,n,e,o)}(t,e,n,r,o,s),a}function gx(t,e,n,r){if("GeometryCollection"==e.getType()){const o=e.getGeometries();for(let s=0,a=o.length;s<a;++s)gx(t,o[s],n,r);return}t.getBuilder(n.getZIndex(),"Default").drawCustom(e,r,n.getRenderer(),n.getHitDetectionRenderer())}const Ste=class Mte extends DO{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=[1/0,1/0,-1/0,-1/0],this.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(e,n,r){const i=n.extent,o=n.viewState,s=o.center,a=o.resolution,l=o.projection,c=o.rotation,u=l.getExtent(),d=this.getLayer().getSource(),h=n.pixelRatio,f=n.viewHints,g=!(f[0]||f[1]),p=this.compositionContext_,_=Math.round(n.size[0]*h),m=Math.round(n.size[1]*h),y=d.getWrapX()&&l.canWrapX(),v=y?dt(u):null,E=y?Math.ceil((i[2]-u[2])/v)+1:1;let C=y?Math.floor((i[0]-u[0])/v):0;do{const N=this.getRenderTransform(s,a,c,h,_,m,C*v);e.execute(p,1,N,c,g,void 0,r)}while(++C<E)}setupCompositionContext_(){if(1!==this.opacity_){const e=Pn(this.context.canvas.width,this.context.canvas.height,SO);this.compositionContext_=e}else this.compositionContext_=this.context}releaseCompositionContext_(){if(1!==this.opacity_){const e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,vp(this.compositionContext_),SO.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())}renderFrame(e,n){const r=e.pixelRatio,i=e.layerStatesArray[e.layerIndex];(function SY(t,e,n){(function qu(t,e,n,r,i,o,s){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=s,t})(t,e,0,0,n,0,0)})(this.pixelTransform,1/r,1/r),Hg(this.inversePixelTransform,this.pixelTransform);const o=EC(this.pixelTransform);this.useContainer(n,o,this.getBackground(e));const s=this.context,a=s.canvas,l=this.replayGroup_,c=this.declutterExecutorGroup;if((!l||l.isEmpty())&&(!c||c.isEmpty()))return null;const u=Math.round(e.size[0]*r),d=Math.round(e.size[1]*r);a.width!=u||a.height!=d?(a.width=u,a.height=d,a.style.transform!==o&&(a.style.transform=o)):this.containerReused||s.clearRect(0,0,u,d),this.preRender(s,e);const h=e.viewState;this.opacity_=i.opacity,this.setupCompositionContext_();let g=!1,p=!0;if(i.extent&&this.clipping){const _=ta(i.extent);p=An(_,e.extent),g=p&&!Ws(_,e.extent),g&&this.clipUnrotated(this.compositionContext_,e,_)}return p&&this.renderWorlds(l,e),g&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(s,e),this.renderedRotation_!==h.rotation&&(this.renderedRotation_=h.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(e){return new Promise(n=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const r=[this.context.canvas.width,this.context.canvas.height];Wt(this.pixelTransform,r);const i=this.renderedCenter_,o=this.renderedResolution_,s=this.renderedRotation_,a=this.renderedProjection_,l=this.wrappedRenderedExtent_,c=this.getLayer(),u=[],d=r[0]*yi,h=r[1]*yi;u.push(this.getRenderTransform(i,o,s,yi,d,h,0).slice());const f=c.getSource(),g=a.getExtent();if(f.getWrapX()&&a.canWrapX()&&!Ws(g,l)){let p=l[0];const _=dt(g);let y,m=0;for(;p<g[0];)--m,y=_*m,u.push(this.getRenderTransform(i,o,s,yi,d,h,y).slice()),p+=_;for(m=0,p=l[2];p>g[2];)++m,y=_*m,u.push(this.getRenderTransform(i,o,s,yi,d,h,y).slice()),p-=_}this.hitDetectionImageData_=function cte(t,e,n,r,i,o,s){const c=Pn(t[0]*yi,t[1]*yi);c.imageSmoothingEnabled=!1;const u=c.canvas,d=new lte(c,yi,i,null,s),h=n.length,f=Math.floor(16777215/h),g={};for(let _=1;_<=h;++_){const m=n[_-1],y=m.getStyleFunction()||r;if(!r)continue;let v=y(m,o);if(!v)continue;Array.isArray(v)||(v=[v]);const C=(_*f).toString(16).padStart(7,"#00000");for(let N=0,P=v.length;N<P;++N){const L=v[N],H=L.getGeometryFunction()(m);if(!H||!An(i,H.getExtent()))continue;const K=L.clone(),ce=K.getFill();ce&&ce.setColor(C);const V=K.getStroke();V&&(V.setColor(C),V.setLineDash(null)),K.setText(void 0);const z=L.getImage();if(z&&0!==z.getOpacity()){const B=z.getImageSize();if(!B)continue;const X=Pn(B[0],B[1],void 0,{alpha:!1}),Re=X.canvas;X.fillStyle=C,X.fillRect(0,0,Re.width,Re.height),K.setImage(new nx({img:Re,imgSize:B,anchor:z.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:z.getOrigin(),opacity:1,size:z.getSize(),scale:z.getScale(),rotation:z.getRotation(),rotateWithView:z.getRotateWithView()}))}const Le=K.getZIndex()||0;let ae=g[Le];ae||(ae={},g[Le]=ae,ae.Polygon=[],ae.Circle=[],ae.LineString=[],ae.Point=[]);const j=H.getType();if("GeometryCollection"===j){const B=H.getGeometriesArrayRecursive();for(let X=0,Re=B.length;X<Re;++X){const ke=B[X];ae[ke.getType().replace("Multi","")].push(ke,K)}}else ae[j.replace("Multi","")].push(H,K)}}const p=Object.keys(g).map(Number).sort(zs);for(let _=0,m=p.length;_<m;++_){const y=g[p[_]];for(const v in y){const E=y[v];for(let C=0,N=E.length;C<N;C+=2){d.setStyle(E[C+1]);for(let P=0,L=e.length;P<L;++P)d.setTransform(e[P]),d.drawGeometry(E[C])}}}return c.getImageData(0,0,u.width,u.height)}(r,u,this.renderedFeatures_,c.getStyleFunction(),l,o,s)}n(function ute(t,e,n){const r=[];if(n){const i=Math.floor(Math.round(t[0])*yi),o=Math.floor(Math.round(t[1])*yi),s=4*(jt(i,0,n.width-1)+jt(o,0,n.height-1)*n.width),u=n.data[s+2]+256*(n.data[s+1]+256*n.data[s]),d=Math.floor(16777215/e.length);u&&u%d===0&&r.push(e[u/d-1])}return r}(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,n,r,i,o){if(!this.replayGroup_)return;const s=n.viewState.resolution,a=n.viewState.rotation,l=this.getLayer(),c={},u=function(f,g,p){const _=He(f),m=c[_];if(m){if(!0!==m&&p<m.distanceSq){if(0===p)return c[_]=!0,o.splice(o.lastIndexOf(m),1),i(f,l,g);m.geometry=g,m.distanceSq=p}}else{if(0===p)return c[_]=!0,i(f,l,g);o.push(c[_]={feature:f,layer:l,geometry:g,distanceSq:p,callback:i})}};let d;const h=[this.replayGroup_];return this.declutterExecutorGroup&&h.push(this.declutterExecutorGroup),h.some(f=>d=f.forEachFeatureAtCoordinate(e,s,a,r,u,f===this.declutterExecutorGroup&&n.declutterTree?n.declutterTree.all().map(g=>g.value):null)),d}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const n=this.getLayer(),r=n.getSource();if(!r)return!1;const i=e.viewHints[0],o=e.viewHints[1],s=n.getUpdateWhileAnimating(),a=n.getUpdateWhileInteracting();if(this.ready&&!s&&i||!a&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const l=e.extent,c=e.viewState,u=c.projection,d=c.resolution,h=e.pixelRatio,f=n.getRevision(),g=n.getRenderBuffer();let p=n.getRenderOrder();void 0===p&&(p=hte);const _=c.center.slice(),m=TC(l,g*d),y=m.slice(),v=[m.slice()],E=u.getExtent();if(r.getWrapX()&&u.canWrapX()&&!Ws(E,e.extent)){const j=dt(E),B=Math.max(dt(m)/2,j);m[0]=E[0]-B,m[2]=E[2]+B,Nk(_,u);const X=mk(v[0],u);X[0]<E[0]&&X[2]<E[2]?v.push([X[0]+j,X[1],X[2]+j,X[3]]):X[0]>E[0]&&X[2]>E[2]&&v.push([X[0]-j,X[1],X[2]-j,X[3]])}if(this.ready&&this.renderedResolution_==d&&this.renderedRevision_==f&&this.renderedRenderOrder_==p&&Ws(this.wrappedRenderedExtent_,m))return Po(this.renderedExtent_,y)||(this.hitDetectionImageData_=null,this.renderedExtent_=y),this.renderedCenter_=_,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const C=new lx(BT(d,h),m,d,h);let N;this.getLayer().getDeclutter()&&(N=new lx(BT(d,h),m,d,h));const P=Vk();let L;if(P){for(let j=0,B=v.length;j<B;++j){const Re=LC(v[j]);r.loadFeatures(Re,dZ(d),P)}L=Qu(P,u)}else for(let j=0,B=v.length;j<B;++j)r.loadFeatures(v[j],d,u);const H=function fte(t,e){const n=BT(t,e);return n*n}(d,h);let K=!0;const ce=j=>{let B;const X=j.getStyleFunction()||n.getStyleFunction();if(X&&(B=X(j,d)),B){const Re=this.renderFeature(j,H,B,C,L,N);K=K&&!Re}},V=LC(m),z=r.getFeaturesInExtent(V);p&&z.sort(p);for(let j=0,B=z.length;j<B;++j)ce(z[j]);this.renderedFeatures_=z,this.ready=K;const Le=C.finish(),ae=new dx(m,d,h,r.getOverlaps(),Le,n.getRenderBuffer());return N&&(this.declutterExecutorGroup=new dx(m,d,h,r.getOverlaps(),N.finish(),n.getRenderBuffer())),this.renderedResolution_=d,this.renderedRevision_=f,this.renderedRenderOrder_=p,this.renderedExtent_=y,this.wrappedRenderedExtent_=m,this.renderedCenter_=_,this.renderedProjection_=u,this.replayGroup_=ae,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,n,r,i,o,s){if(!r)return!1;let a=!1;if(Array.isArray(r))for(let l=0,c=r.length;l<c;++l)a=fx(i,e,r[l],n,this.boundHandleStyleImageChange_,o,s)||a;else a=fx(i,e,r,n,this.boundHandleStyleImageChange_,o,s);return a}},wte=class Dte extends Bee{constructor(e){super(e)}createRenderer(){return new Ste(this)}};function GT(t,e){return px(t,e,[]).join("")}function px(t,e,n){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)n.push(e?String(t.nodeValue).replace(/(\r\n|\r|\n)/g,""):t.nodeValue);else{let r;for(r=t.firstChild;r;r=r.nextSibling)px(r,e,n)}return n}function UT(t,e){return function(n,r){const i=t.call(void 0!==e?e:this,n,r);void 0!==i&&r[r.length-1].push(i)}}function cr(t,e,n){return function(r,i){const o=t.call(void 0!==n?n:this,r,i);if(void 0!==o){const s=i[i.length-1],a=void 0!==e?e:r.localName;let l;a in s?l=s[a]:(l=[],s[a]=l),l.push(o)}}}function te(t,e,n){return function(r,i){const o=t.call(void 0!==n?n:this,r,i);void 0!==o&&(i[i.length-1][void 0!==e?e:r.localName]=o)}}function Ke(t,e,n){let r,i;for(n=void 0!==n?n:{},r=0,i=t.length;r<i;++r)n[t[r]]=e;return n}function yt(t,e,n,r,i){return r.push(t),function bte(t,e,n,r){let i;for(i=e.firstElementChild;i;i=i.nextElementSibling){const o=t[i.namespaceURI];if(void 0!==o){const s=o[i.localName];void 0!==s&&s.call(r,i,n)}}}(e,n,r,i),r.pop()}let Lp;!function _x(t,e){return function(n,r,i){let a=t;return void 0===a&&(a=i),function Ite(t,e){return function Pte(){return void 0===Lp&&typeof document<"u"&&(Lp=document.implementation.createDocument("","",null)),Lp}().createElementNS(t,e)}(void 0!==e?e:r[r.length-1].node.namespaceURI,a)}}();const yx=class Nte{read(e){if(!e)return null;if("string"==typeof e){const n=function Ate(t){return(new DOMParser).parseFromString(t,"application/xml")}(e);return this.readFromDocument(n)}return function Rte(t){return"documentElement"in t}(e)?this.readFromDocument(e):this.readFromNode(e)}readFromDocument(e){for(let n=e.firstChild;n;n=n.nextSibling)if(n.nodeType==Node.ELEMENT_NODE)return this.readFromNode(n);return null}readFromNode(e){}};function HT(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}function Ho(t){return function Lte(t){const e=/^\s*(\d+)\s*$/.exec(t);if(e)return parseInt(e[1],10)}(GT(t,!1))}function Fe(t){return GT(t,!1).trim()}const qn=[null,"http://www.opengis.net/ows/1.1"],Vte=Ke(qn,{ServiceIdentification:te(function une(t,e){return yt({},Qte,t,e)}),ServiceProvider:te(function hne(t,e){return yt({},Jte,t,e)}),OperationsMetadata:te(function lne(t,e){return yt({},qte,t,e)})}),Bte=Ke(qn,{DeliveryPoint:te(Fe),City:te(Fe),AdministrativeArea:te(Fe),PostalCode:te(Fe),Country:te(Fe),ElectronicMailAddress:te(Fe)}),Gte=Ke(qn,{Value:cr(function fne(t,e){return Fe(t)})}),Ute=Ke(qn,{AllowedValues:te(function tne(t,e){return yt({},Gte,t,e)})}),Hte=Ke(qn,{Phone:te(function cne(t,e){return yt({},Kte,t,e)}),Address:te(function ene(t,e){return yt({},Bte,t,e)})}),zte=Ke(qn,{HTTP:te(function sne(t,e){return yt({},Xte,t,e)})}),Xte=Ke(qn,{Get:cr(function one(t,e){const n=HT(t);if(n)return yt({href:n},Yte,t,e)}),Post:void 0}),Wte=Ke(qn,{DCP:te(function ine(t,e){return yt({},zte,t,e)})}),qte=Ke(qn,{Operation:function ane(t,e){const n=t.getAttribute("name"),r=yt({},Wte,t,e);r&&(e[e.length-1][n]=r)}}),Kte=Ke(qn,{Voice:te(Fe),Facsimile:te(Fe)}),Yte=Ke(qn,{Constraint:cr(function nne(t,e){const n=t.getAttribute("name");if(n)return yt({name:n},Ute,t,e)})}),Zte=Ke(qn,{IndividualName:te(Fe),PositionName:te(Fe),ContactInfo:te(function rne(t,e){return yt({},Hte,t,e)})}),Qte=Ke(qn,{Abstract:te(Fe),AccessConstraints:te(Fe),Fees:te(Fe),Title:te(Fe),ServiceTypeVersion:te(Fe),ServiceType:te(Fe)}),Jte=Ke(qn,{ProviderName:te(Fe),ProviderSite:te(HT),ServiceContact:te(function dne(t,e){return yt({},Zte,t,e)})}),gne=class jte extends yx{constructor(){super()}readFromNode(e){return yt({},Vte,e,[])||null}},vi=[null,"http://www.opengis.net/wmts/1.0"],Yl=[null,"http://www.opengis.net/ows/1.1"],pne=Ke(vi,{Contents:te(function Ine(t,e){return yt({},mne,t,e)})}),mne=Ke(vi,{Layer:cr(function Rne(t,e){return yt({},yne,t,e)}),TileMatrixSet:cr(function Ane(t,e){return yt({},Dne,t,e)})}),yne=Ke(vi,{Style:cr(function bne(t,e){const n=yt({},vne,t,e);if(!n)return;const r="true"===t.getAttribute("isDefault");return n.isDefault=r,n}),Format:cr(Fe),TileMatrixSetLink:cr(function Pne(t,e){return yt({},Ene,t,e)}),Dimension:cr(function Nne(t,e){return yt({},Mne,t,e)}),ResourceURL:cr(function kne(t,e){const n=t.getAttribute("format"),r=t.getAttribute("template"),i=t.getAttribute("resourceType"),o={};return n&&(o.format=n),r&&(o.template=r),i&&(o.resourceType=i),o})},Ke(Yl,{Title:te(Fe),Abstract:te(Fe),WGS84BoundingBox:te(vx),Identifier:te(Fe)})),vne=Ke(vi,{LegendURL:cr(function One(t,e){const n={};return n.format=t.getAttribute("format"),n.href=HT(t),n})},Ke(Yl,{Title:te(Fe),Identifier:te(Fe)})),Ene=Ke(vi,{TileMatrixSet:te(Fe),TileMatrixSetLimits:te(function Fne(t,e){return yt([],Cne,t,e)})}),Cne=Ke(vi,{TileMatrixLimits:UT(function Lne(t,e){return yt({},Tne,t,e)})}),Tne=Ke(vi,{TileMatrix:te(Fe),MinTileRow:te(Ho),MaxTileRow:te(Ho),MinTileCol:te(Ho),MaxTileCol:te(Ho)}),Mne=Ke(vi,{Default:te(Fe),Value:cr(Fe)},Ke(Yl,{Identifier:te(Fe)})),Sne=Ke(Yl,{LowerCorner:UT(zT),UpperCorner:UT(zT)}),Dne=Ke(vi,{WellKnownScaleSet:te(Fe),TileMatrix:cr(function xne(t,e){return yt({},wne,t,e)})},Ke(Yl,{SupportedCRS:te(Fe),Identifier:te(Fe),BoundingBox:te(vx)})),wne=Ke(vi,{TopLeftCorner:te(zT),ScaleDenominator:te(function xte(t){return function Fte(t){const e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);if(e)return parseFloat(e[1])}(GT(t,!1))}),TileWidth:te(Ho),TileHeight:te(Ho),MatrixWidth:te(Ho),MatrixHeight:te(Ho)},Ke(Yl,{Identifier:te(Fe)}));function vx(t,e){const n=yt([],Sne,t,e);if(2==n.length)return CC(n)}function zT(t,e){const n=Fe(t).split(/\s+/);if(!n||2!=n.length)return;const r=+n[0],i=+n[1];return isNaN(r)||isNaN(i)?void 0:[r,i]}class zr{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof zr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new zr;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof zr?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}addHeaderEntry(e,n){const r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class Vne{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}class jne{encodeKey(e){return Ex(e)}encodeValue(e){return Ex(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Gne=/%(\d[a-f0-9])/gi,Une={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ex(t){return encodeURIComponent(t).replace(Gne,(e,n)=>Une[n]??e)}function $p(t){return`${t}`}class zo{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new jne,e.fromString){if(e.fromObject)throw new D(2805,!1);this.map=function Bne(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map($p):[$p(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new zo({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push($p(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf($p(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function Cx(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Tx(t){return typeof Blob<"u"&&t instanceof Blob}function Mx(t){return typeof FormData<"u"&&t instanceof FormData}const _d="Content-Type",Sx="text/plain",Dx="application/json",wx=`${Dx}, ${Sx}, */*`;class md{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,n,r,i){let o;if(this.url=n,this.method=e.toUpperCase(),function Hne(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),"number"==typeof o.timeout){if(o.timeout<1||!Number.isInteger(o.timeout))throw new D(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new zr,this.context??=new Vne,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new zo,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||Cx(this.body)||Tx(this.body)||Mx(this.body)||function zne(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)?this.body:this.body instanceof zo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Mx(this.body)?null:Tx(this.body)?this.body.type||null:Cx(this.body)?null:"string"==typeof this.body?Sx:this.body instanceof zo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?Dx:null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,l=e.mode||this.mode,c=e.redirect||this.redirect,u=e.credentials||this.credentials,d=e.referrer||this.referrer,h=e.integrity||this.integrity,f=e.referrerPolicy||this.referrerPolicy,g=e.transferCache??this.transferCache,p=e.timeout??this.timeout,_=void 0!==e.body?e.body:this.body,m=e.withCredentials??this.withCredentials,y=e.reportProgress??this.reportProgress;let v=e.headers||this.headers,E=e.params||this.params;const C=e.context??this.context;return void 0!==e.setHeaders&&(v=Object.keys(e.setHeaders).reduce((N,P)=>N.set(P,e.setHeaders[P]),v)),e.setParams&&(E=Object.keys(e.setParams).reduce((N,P)=>N.set(P,e.setParams[P]),E)),new md(n,r,_,{params:E,headers:v,context:C,reportProgress:y,responseType:i,withCredentials:m,transferCache:g,keepalive:o,cache:a,priority:s,timeout:p,mode:l,redirect:c,credentials:u,referrer:d,integrity:h,referrerPolicy:f})}}var Xo=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Xo||{});class XT{headers;status;statusText;url;ok;type;redirected;responseType;constructor(e,n=200,r="OK"){this.headers=e.headers||new zr,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.responseType=e.responseType,this.ok=this.status>=200&&this.status<300}}class jp extends XT{constructor(e={}){super(e)}type=Xo.ResponseHeader;clone(e={}){return new jp({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class yd extends XT{body;constructor(e={}){super(e),this.body=void 0!==e.body?e.body:null}type=Xo.Response;clone(e={}){return new yd({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected,responseType:e.responseType??this.responseType})}}class ua extends XT{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}const Rx=new O(""),Zne=/^\)\]\}',?\n/;let Ax=(()=>{class t{xhrFactory;tracingService=S(Za,{optional:!0});constructor(n){this.xhrFactory=n}maybePropagateTrace(n){return this.tracingService?.propagate?this.tracingService.propagate(n):n}handle(n){if("JSONP"===n.method)throw new D(-2800,!1);const r=this.xhrFactory;return we(null).pipe(ci(()=>new Pt(o=>{const s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((_,m)=>s.setRequestHeader(_,m.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept",wx),!n.headers.has(_d)){const _=n.detectContentTypeHeader();null!==_&&s.setRequestHeader(_d,_)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){const _=n.responseType.toLowerCase();s.responseType="json"!==_?_:"text"}const a=n.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const _=s.statusText||"OK",m=new zr(s.getAllResponseHeaders());return l=new jp({headers:m,status:s.status,statusText:_,url:s.responseURL||n.url}),l},u=this.maybePropagateTrace(()=>{let{headers:_,status:m,statusText:y,url:v}=c(),E=null;204!==m&&(E=typeof s.response>"u"?s.responseText:s.response),0===m&&(m=E?200:0);let C=m>=200&&m<300;if("json"===n.responseType&&"string"==typeof E){const N=E;E=E.replace(Zne,"");try{E=""!==E?JSON.parse(E):null}catch(P){E=N,C&&(C=!1,E={error:P,text:E})}}C?(o.next(new yd({body:E,headers:_,status:m,statusText:y,url:v||void 0})),o.complete()):o.error(new ua({error:E,headers:_,status:m,statusText:y,url:v||void 0}))}),d=this.maybePropagateTrace(_=>{const{url:m}=c(),y=new ua({error:_,status:s.status||0,statusText:s.statusText||"Unknown Error",url:m||void 0});o.error(y)});let h=d;n.timeout&&(h=this.maybePropagateTrace(_=>{const{url:m}=c(),y=new ua({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:m||void 0});o.error(y)}));let f=!1;const g=this.maybePropagateTrace(_=>{f||(o.next(c()),f=!0);let m={type:Xo.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(m.total=_.total),"text"===n.responseType&&s.responseText&&(m.partialText=s.responseText),o.next(m)}),p=this.maybePropagateTrace(_=>{let m={type:Xo.UploadProgress,loaded:_.loaded};_.lengthComputable&&(m.total=_.total),o.next(m)});return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",h),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",g),null!==a&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),o.next({type:Xo.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",h),n.reportProgress&&(s.removeEventListener("progress",g),null!==a&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(ie(US))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bx(t,e){return e(t)}function Qne(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const ere=new O(""),vd=new O("",{factory:()=>[]}),tre=new O(""),Px=new O("",{providedIn:"root",factory:()=>!0});function nre(){let t=null;return(e,n)=>{null===t&&(t=(S(ere,{optional:!0})??[]).reduceRight(Qne,bx));const r=S(ah);if(S(Px)){const o=r.add();return t(e,n).pipe(xE(o))}return t(e,n)}}let Bp=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:function(r){let i=null;return i=r?new(r||t):ie(Ax),i},providedIn:"root"})}return t})(),KT=(()=>{class t{backend;injector;chain=null;pendingTasks=S(ah);contributeToStability=S(Px);constructor(n,r){this.backend=n,this.injector=r}handle(n){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(vd),...this.injector.get(tre,[])]));this.chain=r.reduceRight((i,o)=>function Jne(t,e,n){return(r,i)=>jn(n,()=>e(r,o=>t(o,i)))}(i,o,this.injector),bx)}if(this.contributeToStability){const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(xE(r))}return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(ie(Bp),ie(Yt))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),YT=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:function(r){let i=null;return i=r?new(r||t):ie(KT),i},providedIn:"root"})}return t})();function ZT(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer,referrerPolicy:t.referrerPolicy}}let Nx=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof md)o=n;else{let l,c;l=i.headers instanceof zr?i.headers:new zr(i.headers),i.params&&(c=i.params instanceof zo?i.params:new zo({fromObject:i.params})),o=new md(n,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}const s=we(o).pipe(Mg(l=>this.handler.handle(l)));if(n instanceof md||"events"===i.observe)return s;const a=s.pipe(Xi(l=>l instanceof yd));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(vt(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new D(2806,!1);return l.body}));case"blob":return a.pipe(vt(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new D(2807,!1);return l.body}));case"text":return a.pipe(vt(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new D(2808,!1);return l.body}));default:return a.pipe(vt(l=>l.body))}case"response":return a;default:throw new D(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new zo).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,ZT(i,r))}post(n,r,i={}){return this.request("POST",n,ZT(i,r))}put(n,r,i={}){return this.request("PUT",n,ZT(i,r))}static \u0275fac=function(r){return new(r||t)(ie(YT))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Ox=new O("",{factory:()=>!0}),xx=new O("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Fx=new O("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});let lre=(()=>{class t{cookieName=S(xx);doc=S(Cn);lastCookieString="";lastToken=null;parseCount=0;getToken(){const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=GS(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),cre=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:function(r){let i=null;return i=r?new(r||t):ie(lre),i},providedIn:"root"})}return t})();function ure(t,e){if(!S(Ox)||"GET"===t.method||"HEAD"===t.method)return e(t);try{const i=S(lh).href,{origin:o}=new URL(i),{origin:s}=new URL(t.url,o);if(o!==s)return e(t)}catch{return e(t)}const n=S(cre).getToken(),r=S(Fx);return null!=n&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,n)})),e(t)}var Wo=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Wo||{});function da(t,e){return{\u0275kind:t,\u0275providers:e}}function dre(...t){const e=[Nx,KT,{provide:YT,useExisting:KT},{provide:Bp,useFactory:()=>S(Rx,{optional:!0})??S(Ax)},{provide:vd,useValue:ure,multi:!0}];for(const n of t)e.push(...n.\u0275providers);return qd(e)}const Lx=new O("");function fre(t,e){1&t&&(De(0),b(1,2),ne())}function gre(t,e){if(1&t&&(De(0),Et(1),ne()),2&t){const n=qe().$implicit;Y(),Gt(" ",n.label," ")}}function pre(t,e){if(1&t&&(w(0,"option",64),Jt(1,fre,2,0,"ng-container",65)(2,gre,2,1,"ng-container",65),M()),2&t){const n=e.$implicit;Te("value",n.operator),Y(),Te("ngIf","@all"===n.label),Y(),Te("ngIf","@all"!==n.label)}}function _re(t,e){if(1&t){const n=Av();w(0,"select",62),Zf("ngModelChange",function(i){mc(n);const o=qe();return Vv(o.selectedOperator,i)||(o.selectedOperator=i),yc(i)}),Dn("ngModelChange",function(){mc(n);const i=qe();return i.selectedObligationLayer=null,yc(i.reloadMap())}),Jt(1,pre,3,3,"option",63),M()}if(2&t){const n=qe();Yf("ngModel",n.selectedOperator),Y(),Te("ngForOf",n.formOptions.filter.operators)}}function mre(t,e){1&t&&(De(0),b(1,5),ne())}function yre(t,e){1&t&&(De(0),b(1,6),ne())}function vre(t,e){1&t&&(De(0),b(1,7),ne())}function Ere(t,e){1&t&&(De(0),b(1,8),ne())}function Cre(t,e){1&t&&(De(0),b(1,9),ne())}function Tre(t,e){1&t&&(De(0),b(1,10),ne())}function Mre(t,e){if(1&t&&(w(0,"option",64),Jt(1,mre,2,0,"ng-container",65)(2,yre,2,0,"ng-container",65)(3,vre,2,0,"ng-container",65)(4,Ere,2,0,"ng-container",65)(5,Cre,2,0,"ng-container",65)(6,Tre,2,0,"ng-container",65),M()),2&t){const n=e.$implicit;Te("value",n.type),Y(),Te("ngIf","kg"===n.type),Y(),Te("ngIf","street"===n.type),Y(),Te("ngIf","cities"===n.type),Y(),Te("ngIf","roads_bl"===n.type),Y(),Te("ngIf","motorways"===n.type),Y(),Te("ngIf","railways"===n.type)}}function Sre(t,e){if(1&t){const n=Av();w(0,"p",66)(1,"label",54),b(2,3),M(),w(3,"select",67),Zf("ngModelChange",function(i){mc(n);const o=qe();return Vv(o.selectedObligationLayer,i)||(o.selectedObligationLayer=i),yc(i)}),Dn("ngModelChange",function(){return mc(n),yc(qe().reloadMap())}),w(4,"option",64),b(5,4),M(),Jt(6,Mre,7,7,"option",63),M()()}if(2&t){let n;const r=qe();Y(3),Yf("ngModel",r.selectedObligationLayer),Y(),Te("value",null),Y(2),Te("ngForOf",null==(n=r.operatorFilterForOperator(r.selectedOperator))?null:n.obligations)}}function Dre(t,e){1&t&&(w(0,"div",68)(1,"div",69)(2,"h5"),b(3,11),M(),w(4,"div"),Os(5,12),w(6,"p"),fe(7,"a",70),M(),fe(8,"p"),w(9,"p"),fe(10,"a",71),M(),xs(),M()(),w(11,"div",72)(12,"p")(13,"strong"),b(14,13),M(),jf(15),M(),w(16,"div",73)(17,"div"),b(18,14),M(),fe(19,"div",74),w(20,"div",75)(21,"div",76),b(22,15),M(),w(23,"div",77),b(24,16),M(),w(25,"div",78),Os(26,17),fe(27,"wbr"),xs(),M()()()()())}function wre(t,e){if(1&t&&(De(0)(1),b(2,25),ne(),Et(3),fe(4,"br"),ne()),2&t){const n=qe(4);Y(3),Gt(": ",n.pointInfoIds[0].rtr_j1_kg," ")}}function Ire(t,e){if(1&t&&(De(0)(1),b(2,26),ne(),Et(3),fe(4,"br"),ne()),2&t){const n=qe(4);Y(3),Gt(" ",n.pointInfoIds[0].kg_operator," ")}}function Rre(t,e){if(1&t&&(De(0)(1),b(2,27),ne(),Et(3),fe(4,"br"),ne()),2&t){const n=qe(4);Y(3),Gt(" ",n.pointInfoIds[0].kg_deadline," ")}}function Are(t,e){if(1&t&&(De(0),w(1,"h3"),b(2,24),M(),Jt(3,wre,5,1,"ng-container",65)(4,Ire,5,1,"ng-container",65)(5,Rre,5,1,"ng-container",65),ne()),2&t){const n=qe(3);Y(3),Te("ngIf",n.pointInfoIds[0].rtr_j1_kg),Y(),Te("ngIf",n.pointInfoIds[0].kg_operator),Y(),Te("ngIf",n.pointInfoIds[0].kg_deadline)}}function bre(t,e){if(1&t&&(w(0,"div",69)(1,"b"),De(2),Os(3,23),fe(4,"br"),xs(),ne(),M(),w(5,"p"),Jt(6,Are,6,3,"ng-container",65),M()()),2&t){const n=qe(2);Y(4),zf(n.convertDMS(n.pointInfoIds[0].request_latitude))(n.convertDMS(n.pointInfoIds[0].request_longitude)),Nv(3),Y(2),Te("ngIf","kg"==n.selectedObligationLayer&&n.pointInfoIds[0].kg_operator&&n.pointInfoIds[0].kg_deadline)}}function Pre(t,e){if(1&t&&(w(0,"tr")(1,"td"),De(2),b(3,35),ne(),M(),w(4,"td",86),Et(5),ml(6,"FormatBps"),M(),w(7,"td",86),Et(8),ml(9,"FormatBps"),M()()),2&t){const n=qe().$implicit;Y(5),Gt("",vu(6,2,n.downloadkbitnormal/1e3),"\xa0"),Y(3),Gt("",vu(9,4,n.uploadkbitnormal/1e3),"\xa0")}}function Nre(t,e){if(1&t&&(w(0,"tr")(1,"td"),De(2),b(3,36),ne(),M(),w(4,"td",86),Et(5),ml(6,"FormatBps"),M(),w(7,"td",86),Et(8),ml(9,"FormatBps"),M()()),2&t){const n=qe().$implicit;Y(5),Gt("",vu(6,2,n.downloadkbitmax/1e3),"\xa0"),Y(3),Gt("",vu(9,4,n.uploadkbitmax/1e3),"\xa0")}}function kre(t,e){if(1&t&&(w(0,"div")(1,"h4",83),Et(2),M(),De(3),b(4,30),ne(),w(5,"table",84)(6,"thead")(7,"tr")(8,"th",85),b(9,31),M(),w(10,"th",85),b(11,32),M(),w(12,"th",85),b(13,33),M()()(),w(14,"tbody"),Jt(15,Pre,10,6,"tr",65)(16,Nre,10,6,"tr",65),M()(),w(17,"p"),De(18),b(19,34),ne(),Et(20),ml(21,"date"),M()()),2&t){let n;const r=e.$implicit,i=qe(3);Y(2),$v(null==(n=i.getOperatorByLabel(r.operator))?null:n.label),Y(13),Te("ngIf",r.downloadkbitnormal),Y(),Te("ngIf",r.downloadkbitmax),Y(4),Gt(" : ",Nb(21,4,r.last_updated,"dd.MM.yyyy")," ")}}function Ore(t,e){if(1&t&&(w(0,"div",68)(1,"h3"),b(2,28),M(),Jt(3,kre,22,7,"div",81),w(4,"a",82),b(5,29),M()()),2&t){const n=qe(2);Y(3),Te("ngForOf",n.pointInfoCov)}}function xre(t,e){1&t&&(w(0,"div",68)(1,"h4"),b(2,37),M()())}function Fre(t,e){if(1&t&&(De(0)(1),b(2,39),ne(),Et(3),fe(4,"br"),ne()),2&t){const n=qe(3);Y(3),Gt(": ",n.pointInfoIds[0].vgd_kg," ")}}function Lre(t,e){if(1&t&&(De(0)(1),b(2,40),ne(),Et(3),fe(4,"br"),ne()),2&t){const n=qe(3);Y(3),Gt(": ",n.pointInfoIds[0].vgd_pg," ")}}function $re(t,e){if(1&t&&(De(0)(1),b(2,41),ne(),Et(3),fe(4,"br"),ne()),2&t){const n=qe(3);Y(3),Gt(": ",n.pointInfoIds[0].vgd_gb," ")}}function Vre(t,e){if(1&t&&(De(0)(1),b(2,42),ne(),Et(3),fe(4,"br"),ne()),2&t){const n=qe(3);Y(3),Gt(": ",n.pointInfoIds[0].vgd_bl," ")}}function jre(t,e){if(1&t&&(De(0)(1),b(2,43),ne(),Et(3),fe(4,"br"),ne()),2&t){const n=qe(3);Y(3),Gt(": ",n.pointInfoIds[0].rtr_j6_name," ")}}function Bre(t,e){if(1&t&&(De(0)(1),b(2,44),ne(),Et(3),fe(4,"br"),ne()),2&t){const n=qe(3);Y(3),Gt(": ",n.pointInfoIds[0].r100," ")}}function Gre(t,e){if(1&t&&(De(0)(1),b(2,45),ne(),Et(3),fe(4,"br"),ne()),2&t){const n=qe(3);Y(3),mu(": ",n.pointInfoIds[0].short_id100," (",n.pointInfoIds[0].long_id100,") ")}}function Ure(t,e){if(1&t&&(De(0)(1),b(2,46),ne(),Et(3),fe(4,"br"),ne()),2&t){const n=qe(3);Y(3),Gt(": ",n.pointInfoIds[0].r250," ")}}function Hre(t,e){if(1&t&&(De(0)(1),b(2,47),ne(),Et(3),fe(4,"br"),ne()),2&t){const n=qe(3);Y(3),mu(": ",n.pointInfoIds[0].short_id250," (",n.pointInfoIds[0].long_id250,") ")}}function zre(t,e){if(1&t&&(w(0,"div")(1,"h3"),b(2,38),M(),w(3,"p"),Jt(4,Fre,5,1,"ng-container",65)(5,Lre,5,1,"ng-container",65)(6,$re,5,1,"ng-container",65)(7,Vre,5,1,"ng-container",65)(8,jre,5,1,"ng-container",65)(9,Bre,5,1,"ng-container",65)(10,Gre,5,2,"ng-container",65)(11,Ure,5,1,"ng-container",65)(12,Hre,5,2,"ng-container",65),M()()),2&t){const n=qe(2);Y(4),Te("ngIf",n.pointInfoIds[0].vgd_kg),Y(),Te("ngIf",n.pointInfoIds[0].vgd_pg),Y(),Te("ngIf",n.pointInfoIds[0].vgd_gb),Y(),Te("ngIf",n.pointInfoIds[0].vgd_bl),Y(),Te("ngIf",n.pointInfoIds[0].rtr_j6_name),Y(),Te("ngIf",n.pointInfoIds[0].r100),Y(),Te("ngIf",n.pointInfoIds[0].short_id100&&n.pointInfoIds[0].long_id100),Y(),Te("ngIf",n.pointInfoIds[0].r250),Y(),Te("ngIf",n.pointInfoIds[0].short_id250&&n.pointInfoIds[0].long_id250)}}function Xre(t,e){1&t&&(De(0),Et(1,","),ne())}function Wre(t,e){if(1&t&&(De(0),Et(1),Jt(2,Xre,2,0,"ng-container",65),ne()),2&t){let n;const r=e.$implicit,i=e.last,o=qe(3);Y(),mu(" ",r.license," ",null==(n=o.getOperatorByLabel(r.operator))?null:n.label," "),Y(),Te("ngIf",!i)}}function qre(t,e){if(1&t&&(w(0,"div",72)(1,"p"),De(2),b(3,48),ne(),Jt(4,Wre,3,3,"ng-container",81),Et(5,", CCBY4.0 BEV "),M()()),2&t){const n=qe(2);Y(3),zf(n.pointInfoCov.length),Nv(3),Y(),Te("ngForOf",n.pointInfoCov)}}function Kre(t,e){if(1&t&&(w(0,"div",68),Jt(1,bre,7,3,"div",79)(2,Ore,6,1,"div",61)(3,xre,3,0,"div",61)(4,zre,13,9,"div",65)(5,qre,6,2,"div",80),w(6,"div",72)(7,"p")(8,"strong"),b(9,18),M(),jf(10),M(),w(11,"div",73)(12,"div"),b(13,19),M(),fe(14,"div",74),w(15,"div",75)(16,"div",76),b(17,20),M(),w(18,"div",77),b(19,21),M(),w(20,"div",78),Os(21,22),fe(22,"wbr"),xs(),M()()()()()),2&t){const n=qe();Y(),Te("ngIf",n.pointInfoIds),Y(),Te("ngIf",n.pointInfoCov),Y(),Te("ngIf",!n.pointInfoCov),Y(),Te("ngIf",n.pointInfoIds),Y(),Te("ngIf",n.pointInfoCov)}}const Ed="/api",Zre=new class _ne extends yx{constructor(){super(),this.owsParser_=new gne}readFromNode(e){let n=e.getAttribute("version");n&&(n=n.trim());let r=this.owsParser_.readFromNode(e);return r?(r.version=n,r=yt(r,pne,e,[]),r||null):null}};let jx=(()=>{class t{constructor(n){this.http=n,this.currentVectorLayer=null,this.selectedObligationLayer=null}ngOnInit(){console.log("init"),this.loadOptions(),this.initMap()}initMap(){this.map=new oJ({controls:pO().extend([new Qre]),view:new _i({center:[0,0],zoom:10,enableRotation:!1}),layers:[],target:"map",pixelRatio:1}),this.map.getView().fit([908071,5751733,2047289,6375459],{size:this.map.getSize()}),this.http.get("assets/WMTSCapabilities.xml",{observe:"body",responseType:"text"}).subscribe(i=>{const s=function QJ(t,e){const r=t.Contents.Layer.find(function(V){return V.Identifier==e.layer});if(!r)return null;const i=t.Contents.TileMatrixSet;let o;o=r.TileMatrixSetLink.length>1?r.TileMatrixSetLink.findIndex("projection"in e?function(V){const Le=i.find(function(B){return B.Identifier==V.TileMatrixSet}).SupportedCRS,ae=Ge(Le),j=Ge(e.projection);return ae&&j?Qi(ae,j):Le==e.projection}:function(V){return V.TileMatrixSet==e.matrixSet}):0,o<0&&(o=0);const s=r.TileMatrixSetLink[o].TileMatrixSet,a=r.TileMatrixSetLink[o].TileMatrixSetLimits;let l=r.Format[0];"format"in e&&(l=e.format),o=r.Style.findIndex(function(V){return"style"in e?V.Title==e.style:V.isDefault}),o<0&&(o=0);const c=r.Style[o].Identifier,u={};"Dimension"in r&&r.Dimension.forEach(function(V,z,Le){let j=V.Default;void 0===j&&(j=V.Value[0]),u[V.Identifier]=j});const h=t.Contents.TileMatrixSet.find(function(V){return V.Identifier==s});let f;const g=h.SupportedCRS;if(g&&(f=Ge(g)),"projection"in e){const V=Ge(e.projection);V&&(!f||Qi(V,f))&&(f=V)}let p=!1;const _="ne"==f.getAxisOrientation().substr(0,2);let m=h.TileMatrix[0],y={MinTileCol:0,MinTileRow:0,MaxTileCol:m.MatrixWidth-1,MaxTileRow:m.MatrixHeight-1};if(a){y=a[a.length-1];const V=h.TileMatrix.find(z=>z.Identifier===y.TileMatrix||h.Identifier+":"+z.Identifier===y.TileMatrix);V&&(m=V)}const v=28e-5*m.ScaleDenominator/f.getMetersPerUnit(),E=_?[m.TopLeftCorner[1],m.TopLeftCorner[0]]:m.TopLeftCorner,C=m.TileWidth*v,N=m.TileHeight*v;let P=h.BoundingBox;P&&_&&(P=[P[1],P[0],P[3],P[2]]);let L=[E[0]+C*y.MinTileCol,E[1]-N*(1+y.MaxTileRow),E[0]+C*(1+y.MaxTileCol),E[1]-N*y.MinTileRow];if(void 0!==P&&!Ws(P,L)){const V=r.WGS84BoundingBox,z=Ge("EPSG:4326").getExtent();if(L=P,V)p=V[0]===z[0]&&V[2]===z[2];else{const Le=xC(P,h.SupportedCRS,"EPSG:4326");p=Le[0]-1e-10<=z[0]&&Le[2]+1e-10>=z[2]}}const H=function KJ(t,e,n){const r=[],i=[],o=[],s=[],a=[];n=void 0!==n?n:[];const c="TileMatrix",u="Identifier",d="ScaleDenominator",h="TopLeftCorner",_=Ge(t.SupportedCRS),m=_.getMetersPerUnit(),y="ne"==_.getAxisOrientation().substr(0,2);return t[c].sort(function(v,E){return E[d]-v[d]}),t[c].forEach(function(v){let E;if(E=!(n.length>0)||n.find(function(C){return v[u]==C[c]||!v[u].includes(":")&&t[u]+":"+v[u]===C[c]}),E){i.push(v[u]);const C=28e-5*v[d]/m,N=v.TileWidth,P=v.TileHeight;o.push(y?[v[h][1],v[h][0]]:v[h]),r.push(C),s.push(N==P?N:[N,P]),a.push([v.MatrixWidth,v.MatrixHeight])}}),new qJ({extent:e,origins:o,resolutions:r,matrixIds:i,tileSizes:s,sizes:a})}(h,L,a),K=[];let ce=e.requestEncoding;if(ce=void 0!==ce?ce:"","OperationsMetadata"in t&&"GetTile"in t.OperationsMetadata){const V=t.OperationsMetadata.GetTile.DCP.HTTP.Get;for(let z=0,Le=V.length;z<Le;++z)if(V[z].Constraint){const j=V[z].Constraint.find(function(B){return"GetEncoding"==B.name}).AllowedValues.Value;if(""===ce&&(ce=j[0]),"KVP"!==ce)break;j.includes("KVP")&&K.push(V[z].href)}else V[z].href&&(ce="KVP",K.push(V[z].href))}return 0===K.length&&(ce="REST",r.ResourceURL.forEach(function(V){"tile"===V.resourceType&&(l=V.format,K.push(V.template))})),{urls:K,layer:e.layer,matrixSet:s,format:l,projection:f,requestEncoding:ce,tileGrid:H,style:c,dimensions:u,wrapX:p,crossOrigin:e.crossOrigin}}(Zre.read(i),{layer:"bmapgrau",matrixSet:"google3857"});s.attributions='Grundkarte &copy; <a href="//www.basemap.at/">basemap.at</a>, Versorgungsdaten CC-BY4.0.';const a=new mT({source:new ZJ(s),opacity:1,visible:!0});this.map.getLayers().insertAt(0,a)}),this.map.on("click",i=>{let o=ea(i.coordinate,"EPSG:3857","EPSG:4326");console.log(i.coordinate,o),this.loadInformationForPoint(o)}),[100,300,1e3,3e3].forEach(i=>{setTimeout(()=>{this.map.updateSize()},i)})}loadOptions(){this.http.get(`${Ed}/settings`,{headers:{Accept:"application/vnd.pgrst.object+json"}}).subscribe(r=>{this.formOptions=r;let i=this.formOptions.filter.operators.find(o=>o.default);null===i?.operator&&(i.operator="default"),i&&(this.selectedOperator=i.operator,this.reloadMap())})}reloadMap(){let r=this.selectedOperator;(null===r||"null"===r||"default"===r)&&(r="@all");let i="";if(i=`${Ed}/tileurl?and=(operator.eq.${r})&limit=1`,console.log(this.selectedOperator),this.http.get(i,{headers:{Accept:"application/vnd.pgrst.object+json"}}).subscribe(o=>{console.log(o.url),this.selectedReference=o.reference?o.reference:null,this.changeOverlaySource(o.url)}),this.selectedObligationLayer){let o="";o=`${Ed}/tileurl?and=(operator.eq.${r})&obligation.eq.${this.selectedObligationLayer}`,console.log(this.selectedOperator),this.http.get(o,{headers:{Accept:"application/json"}}).subscribe(s=>{console.log(s)})}if(this.selectedObligationLayer&&this.operatorFilterForOperator(this.selectedOperator)){let o=this.operatorFilterForOperator(this.selectedOperator)?.obligations?.find(s=>s.type===this.selectedObligationLayer)?.source;this.changeObligationSource(o||null)}else this.changeObligationSource(null)}operatorFilterForOperator(n){return this.formOptions&&this.formOptions.filter&&this.formOptions.filter.operators&&this.formOptions.filter.operators.find(i=>i.operator===n)||null}loadInformationForPoint(n){let r={cov_longitude:n[0],cov_latitude:n[1]};null===this.selectedOperator||"null"===this.selectedOperator||"default"===this.selectedOperator||(r.cov_operator=this.selectedOperator),this.selectedReference&&(r.cov_reference=this.selectedReference);let i=new URLSearchParams(r).toString();this.http.get(`${Ed}/rpc/cov?${i}`,{headers:{Accept:"application/json"}}).subscribe(c=>{if(c.length>0){this.pointInfoCov=c;let d=c[0];null!==this.currentVectorLayer&&(this.map.removeLayer(this.currentVectorLayer),this.currentVectorLayer=null);let h=(new Pee).readFeature(d.geojson,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});var u=new iee({features:[h]});this.currentVectorLayer=new wte({source:u,style:new Op({fill:new kp({color:"rgba(255,100,50,0.5)"}),stroke:new xT({color:"rgba(80,80,80,0.5)",width:2})})}),this.map.addLayer(this.currentVectorLayer),this.map.updateSize()}else this.pointInfoCov=null,null!==this.currentVectorLayer&&(this.map.removeLayer(this.currentVectorLayer),this.currentVectorLayer=null),console.log("unset")});let a=new URLSearchParams({cov_longitude:n[0],cov_latitude:n[1]}).toString();this.http.get(`${Ed}/rpc/id?${a}`,{headers:{Accept:"application/json"}}).subscribe(c=>{if(c.length>0){this.pointInfoIds=c;let u=c[0];u.request_latitude=r.cov_latitude,u.request_longitude=r.cov_longitude}else this.pointInfoIds=null})}changeOverlaySource(n){null!=this.currentOverlay&&this.map.removeLayer(this.currentOverlay),this.currentOverlay=new mT({source:new UO({url:`${n}/{z}/{x}/{y}.png`,projection:Ge("EPSG:3857"),maxZoom:14,minZoom:7}),visible:!0,opacity:1}),this.map.addLayer(this.currentOverlay)}changeObligationSource(n){null!=this.currentObligationOverlays&&this.currentObligationOverlays.length>0&&this.currentObligationOverlays.forEach(r=>{this.map.removeLayer(r)}),this.currentObligationOverlays=[],n&&n.forEach(r=>{let o=new mT({source:new UO({url:`${r}/{z}/{x}/{y}.png`,projection:Ge("EPSG:3857"),maxZoom:14,minZoom:7}),visible:!0,opacity:1});this.map.addLayer(o),this.currentObligationOverlays.push(o)})}getOperatorByLabel(n){return this.formOptions.filter.operators.find(i=>i.operator===n)}convertDMS(n){var r=0|n,i=Math.abs(n-r),o=60*i|0;return r+"\xb0 "+o+"' "+(1e3*(3600*i-60*o)|0)/1e3+'"'}static{this.\u0275fac=function(r){return new(r||t)(x(Nx))}}static{this.\u0275cmp=yf({type:t,selectors:[["app-frqmap"]],standalone:!1,decls:18,vars:4,consts:()=>{let n,r,i,o,s,a,l,c,u,d,h,f,g,p,_,m,y,v,E,C,N,P,L,H,K,ce,V,z,Le,ae,j,B,X,Re,ke,Ct,F,Ut,be,je,Kn,gn,St,Nn,Mr,Ci,Sr,Ti,Yn,ur,Zn;return n="Mobile coverage",r="Operator",i="All operators",o="Coverage obligations",s="not displayed",a="Cadastral communities",l="Streets",c="Cities",u="Roads (cat B/L)",d="Motorways",h="Railways",f="This map informs you about the mobile network coverage in Austria.",g="" + "[\ufffd#6\ufffd|\ufffd#8\ufffd|\ufffd#9\ufffd]" + "This information is based on the " + "\ufffd#7\ufffd" + "network operators' open data " + "[\ufffd/#7\ufffd|\ufffd/#10\ufffd]" + " and is made available by them based on a license obligation. The data refers to an area of 100m x 100m (micro-grid from Statistics Austria). For questions - for example with which tariff these bandwidths can be achieved or whether production is possible for your specific location - please contact the respective network operator. These networks are also used by further providers (e.g. MVNOs)." + "[\ufffd/#6\ufffd|\ufffd/#8\ufffd|\ufffd/#9\ufffd]" + "" + "[\ufffd#6\ufffd|\ufffd#8\ufffd|\ufffd#9\ufffd]" + "The \"maximum speed\" is the speed that is reached at least once a day. The \"normally available speed\" is the speed that is reached 95% of the time during a day, so speed is below this value for 1 hour and 12 minutes." + "[\ufffd/#6\ufffd|\ufffd/#8\ufffd|\ufffd/#9\ufffd]" + "" + "[\ufffd#6\ufffd|\ufffd#8\ufffd|\ufffd#9\ufffd]" + " Information regarding coverage obligations can be found " + "\ufffd#10\ufffd" + " here" + "[\ufffd/#7\ufffd|\ufffd/#10\ufffd]" + ". " + "[\ufffd/#6\ufffd|\ufffd/#8\ufffd|\ufffd/#9\ufffd]" + "",g=Xf(g),p="Legend:",_="Quality of coverage",m="weak",y="medium",v="excellent",E="Legend:",C="Quality of coverage",N="weak",P="medium",L="excellent",H="Selected: N " + "\ufffd0\ufffd" + ", E " + "\ufffd1\ufffd" + " " + "\ufffd#4\ufffd\ufffd/#4\ufffd" + "",K="Obligation Cadastral communities",ce="Cadastral community",V="Operator: ",z="Obligation since: ",Le="Measure your speed with RTR-NetTest",ae="Coverage",j="Measure speed",B="Operator information for 100m x 100m raster:",X="Mbps",Re="Down",ke="Up",Ct="Recency",F="Normal",Ut="Maximum",be="No coverage.",je="Geo information",Kn="Cadastral community",gn="Community",St="District",Nn="Region",Mr="Permanent settlement area",Ci="Raster 100m",Sr="ID100",Ti="Raster 250m",Yn="ID250",ur="{VAR_PLURAL, plural, =1 {License} other {Licenses}}",ur=Xf(ur,{VAR_PLURAL:"\ufffd0\ufffd"}),Zn="" + ur + ":",[n,r,i,o,s,a,l,c,u,d,h,f,g,p,_,m,y,v,E,C,N,P,L,H,K,ce,V,z,ae,j,B,X,Re,ke,Ct,F,Ut,be,je,Kn,gn,St,Nn,Mr,Ci,Sr,Ti,Yn,Zn,[1,"uk-section-default","uk-section"],[1,"uk-container"],[1,"uk-container","uk-container-xlarge"],[1,"uk-form","uk-padding-remove","uk-margin-top-50"],[1,"uk-inline"],["for","statistik_type",1,"uk-margin-small-right"],["class","uk-select uk-width-auto uk-margin-medium-right","id","statistik_type","name","statistik_type",3,"ngModel","ngModelChange",4,"ngIf"],["class","uk-inline uk-margin-remove-top",4,"ngIf"],["uk-grid",""],[1,"uk-width-expand@m"],["id","map",1,"map-container"],[1,"uk-width-1-5@m"],["class","uk-flex uk-flex-column fullHeight",4,"ngIf"],["id","statistik_type","name","statistik_type",1,"uk-select","uk-width-auto","uk-margin-medium-right",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngIf"],[1,"uk-inline","uk-margin-remove-top"],["id","obligation","name","obligation",1,"uk-select","uk-width-auto",3,"ngModelChange","ngModel"],[1,"uk-flex","uk-flex-column","fullHeight"],[1,"alignToStart","uk-width-expand"],["href","/open-data/de"],["href","/obligations/de"],[1,"alignToEnd"],[1,"legendContainer"],[1,"legendGradient"],[1,"uk-grid"],[1,"uk-width-1-3"],[1,"uk-width-1-3","uk-text-center"],[1,"uk-width-1-3","uk-text-right"],["class","alignToStart uk-width-expand",4,"ngIf"],["class","alignToEnd",4,"ngIf"],[4,"ngFor","ngForOf"],["href","https://www.netztest.at","target","_blank","title",Le,1,"uk-button","uk-button-small","uk-button-default","uk-button-secondary"],[1,"uk-margin-remove-bottom"],[1,"uk-table","uk-table-small","uk-table-striped","uk-margin-remove-top"],[1,"uk-text-right"],[1,"uk-text-right","speedColumn"]]},template:function(r,i){if(1&r&&(w(0,"div",49)(1,"div",50)(2,"h2"),b(3,0),M()(),w(4,"div",51)(5,"div",50)(6,"form",52)(7,"p",53)(8,"label",54),b(9,1),M(),Jt(10,_re,2,2,"select",55),M(),Jt(11,Sre,7,3,"p",56),M()(),w(12,"div",57)(13,"div",58),fe(14,"div",59),M(),w(15,"div",60),Jt(16,Dre,28,0,"div",61)(17,Kre,23,5,"div",61),M()()()()),2&r){let o;Y(10),Te("ngIf",i.formOptions),Y(),Te("ngIf",null==(o=i.operatorFilterForOperator(i.selectedOperator))?null:o.obligations),Y(5),Te("ngIf",!i.pointInfoCov&&!i.pointInfoIds),Y(),Te("ngIf",i.pointInfoIds||i.pointInfoCov)}},styles:["#map[_ngcontent-%COMP%]{height:600px}@media(min-height:1080px){#map[_ngcontent-%COMP%]{height:1000px}}.alignToStart[_ngcontent-%COMP%]{align-self:flex-start}.alignToEnd[_ngcontent-%COMP%]{align-self:flex-end;width:100%}.fullHeight[_ngcontent-%COMP%]{height:100%}.speedColumn[_ngcontent-%COMP%]{word-break:keep-all}.legendContainer[_ngcontent-%COMP%]{max-width:400px}.legendGradient[_ngcontent-%COMP%]{width:100%;height:20px;background-image:linear-gradient(90deg,#46085c,#471063,#481769,#481d6f,#482475,#472a7a,#46307e,#453781,#433d84,#414287,#3f4889,#3d4e8a,#3a538b,#38598c,#355e8d,#33638d,#31688e,#2e6d8e,#2c718e,#2a768e,#297b8e,#27808e,#25848e,#23898e,#218e8d,#20928c,#1f978b,#1e9c89,#1fa188,#21a585,#24aa83,#28ae80,#2eb37c,#35b779,#3dbc74,#46c06f,#50c46a,#5ac864,#65cb5e,#70cf57,#7cd250,#89d548,#95d840,#a2da37,#b0dd2f,#bddf26,#cae11f,#d8e219,#e5e419,#f1e51d)}"]})}}return t})();class Qre extends Dp{constructor(e){const n=e||{};var r=document.createElement("button");r.innerHTML='<img alt="" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQuMjMzMyA0LjIzMzMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTEuMDMxIC02NikiPgogIDxjaXJjbGUgY3g9IjUzLjE0OCIgY3k9IjY4LjExNyIgcj0iMS4wNTgzIiBmaWxsPSIjZmZmIiBzdHlsZT0icGFpbnQtb3JkZXI6ZmlsbCBtYXJrZXJzIHN0cm9rZSIvPgogPC9nPgo8L3N2Zz4K" />';const i=document.createElement("div");i.className="center-user-location ol-unselectable ol-control",i.appendChild(r),super({element:i,target:n.target}),r.addEventListener("click",this.centerMapOnUserLocation.bind(this),!1),r.addEventListener("touchstart",this.centerMapOnUserLocation.bind(this),!1)}centerMapOnUserLocation(){new Promise((e,n)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(r=>{e([r.coords.longitude,r.coords.latitude])},r=>{n(r)}):n("Geolocation is not supported by this browser.")}).then(e=>{console.log("Centering map to user location ",e);let n=ea(e,"EPSG:4326","EPSG:3857");this.getMap()?.getView().setCenter(n),this.getMap()?.getView().setZoom(14)})}}let Jre=(()=>{class t{constructor(){this.title="frq-map"}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=yf({type:t,selectors:[["app-root"]],standalone:!1,decls:371,vars:0,consts:()=>{let n,r,i,o,s,a,l,c,u,d,h,f,g,p,_,m,y,v,E,C,N,P,L,H,K,ce,V,z,Le,ae,j,B,X,Re,ke,Ct,F,Ut,be,je,Kn,gn,St,Nn,Mr,Ci,Sr,Ti,Yn,ur,Zn,Q,ga,pa,io,ec,nn,kn,Qn,Dr,oo,Mi,Wr,so,_a,Kt,tc,i_,o_,Id,Rd,nc,Ad,rc,Yo,Zo,Qo,bd,Pd,pn,ao,On,wr,_n,ma,ya,rn,xn,Ir,s_,JF,eL,tL,nL,rL,iL,oL,sL,aL,lL,cL,uL,dL,hL,fL,gL,a_,pL,_L,mL,yL,vL,EL,CL,TL,ML,SL,DL,wL,IL,RL,AL,bL;return n="https://www.rtr.at/medien/startseite_medien.de.html",r="https://www.rtr.at/rtr/startseite.de.html",i="https://www.rtr.at/TKP/aktuelles/entscheidungen/Overview.en.html",o="https://www.rtr.at/TKP/aktuelles/veroeffentlichungen/Uebersichtseite.de.html",s="Legal publications",a="https://www.rtr.at/TKP/aktuelles/publikationen/Uebersichtseite.en.html",l="https://www.rtr.at/TKP/aktuelles/veranstaltungen/Uebersicht.de.html",c="https://www.rtr.at/TKP/aktuelles/neuigkeiten/Uebersicht.en.html",u="https://www.rtr.at/TKP/aktuelles/pressemitteilungen/Uebersicht.de.html",d="https://www.rtr.at/TKP/was_wir_tun/telekommunikation/telecommunications.en.html",h="https://www.rtr.at/TKP/was_wir_tun/post/postal_services.en.html",f="https://www.rtr.at/TKP/was_wir_tun/vertrauensdienste/startseite.en.html",g="https://www.rtr.at/TKP/was_wir_tun/internationales/Startseite.en.html",p="https://www.rtr.at/TKP/wer_wir_sind/telekommunikation_und_post/startseite.de.html",_="https://www.rtr.at/TKP/wer_wir_sind/tkk/TKK.en.html",m="https://www.rtr.at/TKP/wer_wir_sind/pck/Startseite.en.html",y="https://www.rtr.at/TKP/kontakt/Kontakt_und_Amtstafel/Amtstafel.de.html",v="https://www.rtr.at/TKP/kontakt/presse/Press.en.html",E="https://www.rtr.at/TKP/kontakt/ertr/eRTR.de.html",C="https://www.rtr.at/TKP/service/startseite.en.html",N="https://www.rtr.at/TKP/aktuelles/entscheidungen/Overview.en.html",P="https://www.rtr.at/TKP/aktuelles/veroeffentlichungen/Uebersichtseite.de.html",L="Legal publications",H="https://www.rtr.at/TKP/aktuelles/publikationen/Uebersichtseite.en.html",K="https://www.rtr.at/TKP/aktuelles/veranstaltungen/Uebersicht.de.html",ce="https://www.rtr.at/TKP/aktuelles/neuigkeiten/Uebersicht.en.html",V="https://www.rtr.at/TKP/aktuelles/pressemitteilungen/Uebersicht.de.html",z="https://www.rtr.at/TKP/was_wir_tun/telekommunikation/telecommunications.en.html",Le="https://www.rtr.at/TKP/was_wir_tun/post/postal_services.en.html",ae="https://www.rtr.at/TKP/was_wir_tun/vertrauensdienste/startseite.en.html",j="https://www.rtr.at/TKP/was_wir_tun/internationales/Startseite.en.html",B="https://www.rtr.at/TKP/wer_wir_sind/telekommunikation_und_post/startseite.de.html",X="https://www.rtr.at/TKP/wer_wir_sind/tkk/TKK.en.html",Re="https://www.rtr.at/TKP/wer_wir_sind/pck/Startseite.en.html",ke="https://www.rtr.at/TKP/kontakt/Kontakt_und_Amtstafel/Amtstafel.de.html",Ct="https://www.rtr.at/TKP/kontakt/presse/Press.en.html",F="https://www.rtr.at/TKP/kontakt/ertr/eRTR.de.html",Ut="https://www.rtr.at/TKP/service/startseite.en.html",be="https://www.rtr.at/TKP/Telecommunications_and_Postal_Division.en.html",je="https://www.rtr.at/TKP/was_wir_tun/telekommunikation/telecommunications.en.html",Kn="https://www.rtr.at/rtr/Kontakt/Amtstafel.de.html",gn="https://www.rtr.at/rtr/footer/impressum.de.html",St="https://www.rtr.at/rtr/footer/Datenschutz.de.html",Nn="https://www.rtr.at/rtr/footer/Barrierefreiheit.de.html",Mr="https://www.rtr.at/TKP/presse/Press.en.html",Ci="https://www.rtr.at/rtr/service/ertr/eRTR.de.html",Sr="https://www.rtr.at/rtr/service/opendata/OpenData.de.html",Ti="https://www.rtr.at/TKP/service/FAQs/FAQ-TKP.de.html",Yn="https://www.rtr.at/TKP/presse/Press.en.html",ur="https://www.rtr.at/rtr/service/ertr/eRTR.de.html",Zn="https://www.rtr.at/rtr/service/opendata/OpenData.de.html",Q="https://www.rtr.at/TKP/service/FAQs/FAQ-TKP.de.html",ga="https://www.rtr.at/rtr/Kontakt/Amtstafel.de.html",pa="https://www.rtr.at/rtr/footer/impressum.de.html",io="https://www.rtr.at/rtr/footer/Datenschutz.de.html",ec="https://www.rtr.at/rtr/footer/Barrierefreiheit.de.html",nn="Telecommunications and Postal Division",kn="Media",Qn="RTR",Dr="EN",oo="English",Mi="Deutsch",Wr="Decisions",so="Legal publications",_a="Publications",Kt="Events",tc="News",i_="Press releases",o_="About our work",Id="Telecommunications",Rd="Postal services",nc="Trust Services",Ad="International relations",rc="About us",Yo="RTR.Telekom.Post",Zo="TKK",Qo="PCK",bd="Contact",Pd="Contact",pn="Press contact",ao="eRTR",On="Our Services",wr="News",_n="Decisions",ma="Legal publications",ya="Publications",rn="Events",xn="News",Ir="Press releases",s_="About our work",JF="Telecommunications",eL="Postal services",tL="Trust Services",nL="International relations",rL="About us",iL="RTR.Telekom.Post",oL="TKK",sL="PCK",aL="Contact",lL="Contact",cL="Press contact",uL="eRTR",dL="Our Services",hL="Telecommunications and Postal Division",fL="Telecommunications",gL="Frequencies",a_="" + "\ufffd#300\ufffd" + "RUNDFUNK UND TELEKOM" + "[\ufffd#301\ufffd\ufffd/#301\ufffd|\ufffd#302\ufffd\ufffd/#302\ufffd|\ufffd#303\ufffd\ufffd/#303\ufffd|\ufffd#304\ufffd\ufffd/#304\ufffd|\ufffd#306\ufffd\ufffd/#306\ufffd]" + "REGULIERUNGS-GMBH" + "\ufffd/#300\ufffd" + "" + "[\ufffd#301\ufffd\ufffd/#301\ufffd|\ufffd#302\ufffd\ufffd/#302\ufffd|\ufffd#303\ufffd\ufffd/#303\ufffd|\ufffd#304\ufffd\ufffd/#304\ufffd|\ufffd#306\ufffd\ufffd/#306\ufffd]" + "" + "[\ufffd#301\ufffd\ufffd/#301\ufffd|\ufffd#302\ufffd\ufffd/#302\ufffd|\ufffd#303\ufffd\ufffd/#303\ufffd|\ufffd#304\ufffd\ufffd/#304\ufffd|\ufffd#306\ufffd\ufffd/#306\ufffd]" + "Austrian Regulatory Authority for Broadcasting and Telecommunications" + "[\ufffd#301\ufffd\ufffd/#301\ufffd|\ufffd#302\ufffd\ufffd/#302\ufffd|\ufffd#303\ufffd\ufffd/#303\ufffd|\ufffd#304\ufffd\ufffd/#304\ufffd|\ufffd#306\ufffd\ufffd/#306\ufffd]" + "Mariahilfer Stra\xDFe 77-79, 1060 Vienna" + "[\ufffd#301\ufffd\ufffd/#301\ufffd|\ufffd#302\ufffd\ufffd/#302\ufffd|\ufffd#303\ufffd\ufffd/#303\ufffd|\ufffd#304\ufffd\ufffd/#304\ufffd|\ufffd#306\ufffd\ufffd/#306\ufffd]" + "tel.: +" + "\ufffd#305\ufffd" + "43 1 58058-0" + "\ufffd/#305\ufffd" + "" + "[\ufffd#301\ufffd\ufffd/#301\ufffd|\ufffd#302\ufffd\ufffd/#302\ufffd|\ufffd#303\ufffd\ufffd/#303\ufffd|\ufffd#304\ufffd\ufffd/#304\ufffd|\ufffd#306\ufffd\ufffd/#306\ufffd]" + "",a_=Xf(a_),pL="Contact",_L="Imprint",mL="Privacy",yL="Accessibility",vL="Press contact",EL="eRTR",CL="Open Data",TL="Frequently asked questions",ML="Press contact",SL="eRTR",DL="Open Data",wL="Frequently asked questions",IL="Contact",RL="Imprint",AL="Privacy",bL="Accessibility",[nn,kn,Qn,Dr,oo,Mi,Wr,so,_a,Kt,tc,i_,o_,Id,Rd,nc,Ad,rc,Yo,Zo,Qo,bd,Pd,pn,ao,On,wr,_n,ma,ya,rn,xn,Ir,s_,JF,eL,tL,nL,rL,iL,oL,sL,aL,lL,cL,uL,dL,hL,fL,gL,a_,pL,_L,mL,yL,vL,EL,CL,TL,ML,SL,DL,wL,IL,RL,AL,bL,[1,"tm-toolbar","tm-toolbar-default"],["uk-navbar","mode: click;boundary-align:true;dropbar:true;dropbar-anchor:!.uk-container;dropbar-mode:slide",1,"uk-navbar-container"],[1,"w100"],[1,"uk-container","uk-container-large"],["id","icontoggle",1,"uk-grid"],[1,"uk-inline"],["type","button",1,"uk-button","uk-button-top"],["uk-icon","chevron-down",1,"uk-margin-small-right","chevdown"],["uk-icon","chevron-up",1,"uk-margin-small-right","chevup"],["uk-drop","mode:click;offset:0;duration:100;delay-show:0;boundary: !.uk-container; boundary-align: true; pos: bottom-justify;",1,"uk-navbar-dropdown"],[1,"uk-subnav","uk-list-divider"],["href",n,1,"area-switch"],["href",r,1,"area-switch"],[1,"uk-subnav","uk-list-divider","language-select"],["href","/en","data-lang-name","en"],["href","/de","data-lang-name","de"],[1,"tm-header-mobile","uk-hidden@l"],["sel-target",".uk-navbar-container"],[1,"uk-navbar-container"],["uk-navbar","",1,"uk-navbar"],[1,"uk-navbar-left"],["uk-grid","",1,"uk-grid-small","uk-text-center","logos-mobile","uk-grid","uk-grid-stack"],[1,"uk-first-column"],["href","https://www.rtr.at/"],["src","assets/logo_rtr_pck_tkk.svg","alt","Logo RTR PCK TKK","title","RTR",2,"height","50px"],[1,"uk-navbar-right"],["id","mobmenu","href","#tm-mobile","uk-toggle","animation: true;",1,"uk-navbar-toggle"],["uk-navbar-toggle-icon","",1,"toggleopen","uk-icon","uk-navbar-toggle-icon"],["width","20","height","20","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg","data-svg","navbar-toggle-icon"],["y","9","width","20","height","2"],["y","3","width","20","height","2"],["y","15","width","20","height","2"],["uk-icon","icon: close; ratio: 1.8",1,"menclose","uk-icon"],["id","tm-mobile","hidden","",1,""],[1,"uk-background-default","uk-padding"],["uk-grid","",1,"uk-child-width-1-1","uk-grid","uk-grid-stack"],["id","module-menu-mobile",1,"uk-panel"],[1,"uk-nav","uk-nav-default","uk-list","uk-list-divider"],[1,"uk-parent"],["uk-navbar","dropbar: true; dropbar-mode: push;mode: click",1,"uk-navbar-container","uk-navbar"],[1,"uk-navbar-nav","second-level-nav"],["href","#","aria-expanded","false"],["uk-icon","icon: chevron-down; ratio: 1.5",1,"icon-drop","uk-icon"],[1,"uk-navbar-dropdown"],[1,"uk-nav","uk-navbar-dropdown-nav"],["href",i,"title","Entscheidungen"],["href",o,"title",s],["href",a,"title","Publikationen"],["href",l,"title","Veranstaltungen"],["href",c,"title","Neuigkeiten"],["href",u,"title","Pressemitteilungen"],[1,"uk-parent","uk-active"],["href",d,"title","Telekommunikation"],["href",h,"title","Post"],["href",f,"title","Vertrauensdienste"],["href",g,"title","Internationales"],["href",p,"title","RTR.Telekom.Post"],["href",_,"title","TKK"],["href",m,"title","PCK"],["href",y,"title","Kontakt und Amtstafel"],["href",v,"title","Presse"],["href",E,"title","eRTR"],["href",C],["uk-grid","",1,"uk-child-width-auto","uk-grid-small","uk-grid","uk-margin-top-50","uk-grid-stack"],["rel","noreferrer","href","mailto:rtr@rtr.at","uk-icon","icon: mail;",1,"el-link","uk-icon-button","uk-icon"],["rel","noreferrer","target","_blank","href","https://github.com/rtr-tkfreq/","uk-icon","icon: github;",1,"el-link","uk-icon-button","uk-icon"],["uk-header","",1,"tm-header","uk-visible@l"],["uk-sticky","","media","@l","cls-active","uk-navbar-sticky","sel-target",".uk-navbar-container",1,"uk-sticky"],["uk-navbar","mode: click;boundary-align:true;dropbar:true;dropbar-anchor:!.uk-navbar-container;dropbar-mode:slide",1,"uk-navbar"],["uk-grid","",1,"uk-child-width-expand@s","uk-text-center","logos","uk-grid-small","uk-grid"],[1,"uk-navbar-nav"],[1,""],["uk-icon","chevron-down",1,"uk-icon"],["uk-grid","",1,"uk-navbar-dropdown-grid","uk-child-width-1-3","uk-grid","uk-grid-stack"],["href",N,"title","Entscheidungen"],["href",P,"title",L],["href",H,"title","Publikationen"],["href",K,"title","Veranstaltungen"],["href",ce,"title","Neuigkeiten"],["href",V,"title","Pressemitteilungen"],[1,"uk-active"],["href",z,"title","Telekommunikation"],["href",Le,"title","Post"],["href",ae,"title","Vertrauensdienste"],["href",j,"title","Internationales"],["href",B,"title","RTR.Telekom.Post"],["href",X,"title","TKK"],["href",Re,"title","PCK"],["href",ke,"title","Kontakt und Amtstafel"],["href",Ct,"title","Presse"],["href",F,"title","eRTR"],[1,"nav-button"],["href",Ut,1,"uk-button","uk-button-default"],["hidden","",1,"uk-sticky-placeholder",2,"height","70px","margin","0px"],["id","breadcrumbs",1,"uk-section-default","uk-section","uk-section-xsmall"],[1,"uk-breadcrumb"],["href",be,"title","Telekommunikation und Post","aria-label","Telekommunikation und Post"],["href",je,"title","Telekommunikation","aria-label","Telekommunikation"],[1,"uk-disabled"],[1,"uk-section-default","uk-section"],["id","footer",1,"uk-section-default","uk-section","uk-section-small"],["uk-grid","","uk-height-match","target: .uk-card; row: false",1,"uk-grid-margin","uk-grid","uk-grid-stack"],[1,"uk-flex-auto","uk-width-1-2@s","uk-first-column","m1","uk-grid-margin"],[1,"uk-margin"],["target","_self","href","tel:+431580580"],["uk-grid","",1,"uk-child-width-auto","uk-grid-small","uk-grid","uk-grid-stack"],["rel","noreferrer","href","mailto:rtr@rtr.at","uk-icon","icon: mail;","aria-label","Mail","title","Mail",1,"el-link","uk-icon-button","uk-icon"],[1,"uk-flex-auto","uk-width-1-2","uk-width-1-4@s","m2","uk-hidden@l","uk-first-column"],[1,"uk-list"],["href",Kn],["href",gn],["href",St],["href",Nn],[1,"uk-flex-auto","uk-width-1-2","uk-width-1-4@s","m3","uk-hidden@l","uk-grid-margin","uk-first-column"],["href",Mr],["href",Ci],["href",Sr],["href",Ti],[1,"uk-flex-auto","uk-width-1-2","uk-width-1-4@s","footer-large","uk-visible@l"],["href",Yn],["href",ur],["href",Zn],["href",Q],["href",ga],["href",pa],["href",io],["href",ec]]},template:function(r,i){1&r&&(w(0,"div",67)(1,"div",68)(2,"div",69)(3,"div",70)(4,"div",71)(5,"div",72)(6,"button",73),De(7),b(8,0),ne(),fe(9,"span",74)(10,"span",75),M(),w(11,"div",76)(12,"div",70)(13,"ul",77)(14,"li")(15,"a",78),b(16,1),M()(),w(17,"li")(18,"a",79),b(19,2),M()()()()()(),w(20,"div",72)(21,"button",73),De(22),b(23,3),ne(),fe(24,"span",74)(25,"span",75),M(),w(26,"div",76)(27,"div",70)(28,"ul",80)(29,"li")(30,"a",81),b(31,4),M()(),w(32,"li")(33,"a",82),b(34,5),M()()()()()()()()()()(),w(35,"div",83)(36,"div",84)(37,"div",85)(38,"nav",86)(39,"div",87)(40,"div",88)(41,"div",89)(42,"a",90)(43,"picture"),fe(44,"img",91),M()()()()(),w(45,"div",92)(46,"a",93)(47,"div",94),function IS(){ye.lFrame.currentNamespace="svg"}(),w(48,"svg",95),fe(49,"rect",96)(50,"rect",97)(51,"rect",98),M()(),function RS(){!function Q2(){ye.lFrame.currentNamespace=null}()}(),fe(52,"span",99),M()()()(),w(53,"div",100)(54,"div",101)(55,"div",102)(56,"div")(57,"div",103)(58,"ul",104)(59,"li",105)(60,"div",106)(61,"ul",107)(62,"li",105)(63,"a",108),Et(64,"Aktuelles "),fe(65,"span",109),M(),w(66,"div",110)(67,"ul",111)(68,"li")(69,"a",112),b(70,6),M()(),w(71,"li")(72,"a",113),b(73,7),M()(),w(74,"li")(75,"a",114),b(76,8),M()(),w(77,"li")(78,"a",115),b(79,9),M()(),w(80,"li")(81,"a",116),b(82,10),M()(),w(83,"li")(84,"a",117),b(85,11),M()()()()()()()(),w(86,"li",118)(87,"div",106)(88,"ul",107)(89,"li",105)(90,"a",108),De(91),b(92,12),ne(),fe(93,"span",109),M(),w(94,"div",110)(95,"ul",111)(96,"li")(97,"a",119),b(98,13),M()(),w(99,"li")(100,"a",120),b(101,14),M()(),w(102,"li")(103,"a",121),b(104,15),M()(),w(105,"li")(106,"a",122),b(107,16),M()()()()()()()(),w(108,"li",105)(109,"div",106)(110,"ul",107)(111,"li",105)(112,"a",108),De(113),b(114,17),ne(),fe(115,"span",109),M(),w(116,"div",110)(117,"ul",111)(118,"li")(119,"a",123),b(120,18),M()(),w(121,"li")(122,"a",124),b(123,19),M()(),w(124,"li")(125,"a",125),b(126,20),M()()()()()()()(),w(127,"li",105)(128,"div",106)(129,"ul",107)(130,"li",105)(131,"a",108),De(132),b(133,21),ne(),fe(134,"span",109),M(),w(135,"div",110)(136,"ul",111)(137,"li")(138,"a",126),b(139,22),M()(),w(140,"li")(141,"a",127),b(142,23),M()(),w(143,"li")(144,"a",128),b(145,24),M()()()()()()()(),w(146,"li")(147,"a",129),b(148,25),M()()()()()(),w(149,"div",130)(150,"div",89),fe(151,"a",131),M(),w(152,"div"),fe(153,"a",132),M()()()()()(),w(154,"div",133)(155,"div",134)(156,"div",85)(157,"div",70)(158,"nav",135)(159,"div",87)(160,"div",136)(161,"div",89)(162,"a",90)(163,"picture"),fe(164,"img",91),M()()()()(),w(165,"div",92)(166,"ul",137)(167,"li",138)(168,"a",108),De(169),b(170,26),ne(),fe(171,"span",139),M(),w(172,"div",110)(173,"div",140)(174,"div")(175,"ul",111)(176,"li")(177,"a",141),b(178,27),M()()()(),w(179,"div")(180,"ul",111)(181,"li")(182,"a",142),b(183,28),M()()()(),w(184,"div")(185,"ul",111)(186,"li")(187,"a",143),b(188,29),M()()()(),w(189,"div")(190,"ul",111)(191,"li")(192,"a",144),b(193,30),M()()()(),w(194,"div")(195,"ul",111)(196,"li")(197,"a",145),b(198,31),M()()()(),w(199,"div")(200,"ul",111)(201,"li")(202,"a",146),b(203,32),M()()()()()()(),w(204,"li",147)(205,"a",108),De(206),b(207,33),ne(),fe(208,"span",139),M(),w(209,"div",110)(210,"div",140)(211,"div")(212,"ul",111)(213,"li")(214,"a",148),b(215,34),M()()()(),w(216,"div")(217,"ul",111)(218,"li")(219,"a",149),b(220,35),M()()()(),w(221,"div")(222,"ul",111)(223,"li")(224,"a",150),b(225,36),M()()()(),w(226,"div")(227,"ul",111)(228,"li")(229,"a",151),b(230,37),M()()()()()()(),w(231,"li",138)(232,"a",108),De(233),b(234,38),ne(),fe(235,"span",139),M(),w(236,"div",110)(237,"div",140)(238,"div")(239,"ul",111)(240,"li")(241,"a",152),b(242,39),M()()()(),w(243,"div")(244,"ul",111)(245,"li")(246,"a",153),b(247,40),M()()()(),w(248,"div")(249,"ul",111)(250,"li")(251,"a",154),b(252,41),M()()()()()()(),w(253,"li",138)(254,"a",108),De(255),b(256,42),ne(),fe(257,"span",139),M(),w(258,"div",110)(259,"div",140)(260,"div")(261,"ul",111)(262,"li")(263,"a",155),b(264,43),M()()()(),w(265,"div")(266,"ul",111)(267,"li")(268,"a",156),b(269,44),M()()()(),w(270,"div")(271,"ul",111)(272,"li")(273,"a",157),b(274,45),M()()()()()()(),w(275,"li",158)(276,"a",159),b(277,46),M()()()()()()()(),fe(278,"div",160),M(),w(279,"div",161)(280,"div",70)(281,"ul",162)(282,"li")(283,"a",163),b(284,47),M()(),w(285,"li")(286,"a",164),b(287,48),M()(),w(288,"li",165)(289,"a"),b(290,49),M()()()()(),w(291,"div",166),fe(292,"app-frqmap"),M(),w(293,"div",167)(294,"div",70)(295,"div",168)(296,"div",169)(297,"div",170)(298,"p"),Os(299,50),w(300,"b"),fe(301,"br"),M(),fe(302,"br")(303,"br")(304,"br")(305,"a",171)(306,"br"),xs(),M()(),w(307,"div",170)(308,"div",172)(309,"div",89),fe(310,"a",173),M(),w(311,"div"),fe(312,"a",132),M()()()(),w(313,"div",174)(314,"ul",175)(315,"li")(316,"a",176),b(317,51),M()(),w(318,"li")(319,"a",177),b(320,52),M()(),w(321,"li")(322,"a",178),b(323,53),M()(),w(324,"li")(325,"a",179),b(326,54),M()(),fe(327,"li"),M()(),w(328,"div",180)(329,"ul",175)(330,"li")(331,"a",181),b(332,55),M()(),w(333,"li")(334,"a",182),b(335,56),M()(),w(336,"li")(337,"a",183),b(338,57),M()(),w(339,"li")(340,"a",184),b(341,58),M()()()(),w(342,"div",185)(343,"ul",175)(344,"li")(345,"a",186),b(346,59),M()(),w(347,"li")(348,"a",187),b(349,60),M()(),w(350,"li")(351,"a",188),b(352,61),M()(),w(353,"li")(354,"a",189),b(355,62),M()()(),w(356,"ul",175)(357,"li")(358,"a",190),b(359,63),M()(),w(360,"li")(361,"a",191),b(362,64),M()(),w(363,"li")(364,"a",192),b(365,65),M()(),w(366,"li")(367,"a",193),b(368,66),M()(),fe(369,"li"),M()()()()(),fe(370,"router-outlet"))},dependencies:[KE,jx],encapsulation:2})}}return t})(),eie=(()=>{class t{transform(n){return n>=10?Math.round(n).toLocaleString():n>1?(Math.round(10*n)/10).toLocaleString():(Math.round(100*n)/100).toLocaleString()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=Mn({name:"FormatBps",type:t,pure:!0,standalone:!1})}}return t})();function Xr(t,e){return function lo(t,e){const n=Object.create(Jn);n.computation=t,void 0!==e&&(n.equal=e);const r=()=>{if(dr(n),Si(n),n.value===Fn)throw n.error;return n.value};return r[ht]=n,r}(t,e?.equal)}Error,Error;let Xx=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(x(Li),x(rr))};static \u0275dir=he({type:t})}return t})(),ha=(()=>{class t extends Xx{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Lt(t)))(i||t)}})();static \u0275dir=he({type:t,features:[Ue]})}return t})();const Ei=new O(""),gie={provide:Ei,useExisting:rt(()=>JT),multi:!0},_ie=new O("");let JT=(()=>{class t extends Xx{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,null==this._compositionMode&&(this._compositionMode=!function pie(){const t=mo()?mo().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(x(Li),x(rr),x(_ie,8))};static \u0275dir=he({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Dn("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[_t([gie]),Ue]})}return t})();const hn=new O(""),qo=new O("");function nF(t){return null!=t}function rF(t){return lu(t)?tn(t):t}function iF(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function oF(t,e){return e.map(n=>n(t))}function sF(t){return t.map(e=>function yie(t){return!t.validate}(e)?e:n=>e.validate(n))}function nM(t){return null!=t?function aF(t){if(!t)return null;const e=t.filter(nF);return 0==e.length?null:function(n){return iF(oF(n,e))}}(sF(t)):null}function rM(t){return null!=t?function lF(t){if(!t)return null;const e=t.filter(nF);return 0==e.length?null:function(n){return function hie(...t){const e=$1(t),{args:n,keys:r}=V1(t),i=new Pt(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;li(n[u]).subscribe(cn(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?B1(r,a):a),o.complete())}))}});return e?i.pipe(j1(e)):i}(oF(n,e).map(rF)).pipe(vt(iF))}}(sF(t)):null}function cF(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function iM(t){return t?Array.isArray(t)?t:[t]:[]}function Up(t,e){return Array.isArray(t)?t.includes(e):t===e}function hF(t,e){const n=iM(e);return iM(t).forEach(i=>{Up(n,i)||n.push(i)}),n}function fF(t,e){return iM(e).filter(n=>!Up(t,n))}class gF{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class fn extends gF{name;get formDirective(){return null}get path(){return null}}class Ko extends gF{_parent=null;name=null;valueAccessor=null}class pF{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let _F=(()=>{class t extends pF{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(x(Ko,2))};static \u0275dir=he({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&qf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ue]})}return t})(),mF=(()=>{class t extends pF{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(x(fn,10))};static \u0275dir=he({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&qf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Ue]})}return t})();const Cd="VALID",zp="INVALID",Zl="PENDING",Td="DISABLED";class Ql{}class vF extends Ql{value;source;constructor(e,n){super(),this.value=e,this.source=n}}class aM extends Ql{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}}class lM extends Ql{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}}class Xp extends Ql{status;source;constructor(e,n){super(),this.status=e,this.source=n}}class EF extends Ql{source;constructor(e){super(),this.source=e}}class cM extends Ql{source;constructor(e){super(),this.source=e}}function uM(t){return(Wp(t)?t.validators:t)||null}function dM(t,e){return(Wp(e)?e.asyncValidators:t)||null}function Wp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class hM{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Je(this.statusReactive)}set status(e){Je(()=>this.statusReactive.set(e))}_status=Xr(()=>this.statusReactive());statusReactive=ri(void 0);get valid(){return this.status===Cd}get invalid(){return this.status===zp}get pending(){return this.status==Zl}get disabled(){return this.status===Td}get enabled(){return this.status!==Td}errors;get pristine(){return Je(this.pristineReactive)}set pristine(e){Je(()=>this.pristineReactive.set(e))}_pristine=Xr(()=>this.pristineReactive());pristineReactive=ri(!0);get dirty(){return!this.pristine}get touched(){return Je(this.touchedReactive)}set touched(e){Je(()=>this.touchedReactive.set(e))}_touched=Xr(()=>this.touchedReactive());touchedReactive=ri(!1);get untouched(){return!this.touched}_events=new hr;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(hF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fF(e,this._rawAsyncValidators))}hasValidator(e){return Up(this._rawValidators,e)}hasAsyncValidator(e){return Up(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){const n=!1===this.touched;this.touched=!0;const r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched({...e,sourceControl:r}),n&&!1!==e.emitEvent&&this._events.next(new lM(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){const n=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&!1!==e.emitEvent&&this._events.next(new lM(!1,r))}markAsDirty(e={}){const n=!0===this.pristine;this.pristine=!1;const r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty({...e,sourceControl:r}),n&&!1!==e.emitEvent&&this._events.next(new aM(!1,r))}markAsPristine(e={}){const n=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&!1!==e.emitEvent&&this._events.next(new aM(!0,r))}markAsPending(e={}){this.status=Zl;const n=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new Xp(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending({...e,sourceControl:n})}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Td,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue();const r=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new vF(this.value,r)),this._events.next(new Xp(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n},this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Cd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Cd||this.status===Zl)&&this._runAsyncValidator(r,e.emitEvent)}const n=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new vF(this.value,n)),this._events.next(new Xp(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity({...e,sourceControl:n})}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Td:Cd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Zl,this._hasOwnPendingAsyncValidator={emitEvent:!1!==n,shouldHaveEmitted:!1!==e};const r=rF(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent,this,n.shouldHaveEmitted)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Xp(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new kt,this.statusChanges=new kt}_calculateStatus(){return this._allControlsDisabled()?Td:this.errors?zp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zl)?Zl:this._anyControlsHaveStatus(zp)?zp:Cd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){const r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new aM(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new lM(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Wp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Die(t){return Array.isArray(t)?nM(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function wie(t){return Array.isArray(t)?rM(t):t||null}(this._rawAsyncValidators)}}class fM extends hM{constructor(e,n,r){super(uM(n),dM(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function TF(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new D(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function CF(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new D(1e3,"");if(!r[n])throw new D(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{...n,onlySelf:!0})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),!1!==n?.emitEvent&&this._events.next(new cM(this))}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Jl=new O("",{factory:()=>qp}),qp="always";function Md(t,e,n=qp){gM(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Aie(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&MF(t,e)})}(t,e),function Pie(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function bie(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&MF(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Rie(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Zp(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function gM(t,e){const n=function uF(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(cF(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function dF(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(cF(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Zp(e._rawValidators,i),Zp(e._rawAsyncValidators,i)}function MF(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const Fie={provide:fn,useExisting:rt(()=>Dd)},Sd=Promise.resolve();let Dd=(()=>{class t extends fn{callSetDisabledState;get submitted(){return Je(this.submittedReactive)}_submitted=Xr(()=>this.submittedReactive());submittedReactive=ri(!1);_directives=new Set;form;ngSubmit=new kt;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new fM({},nM(n),rM(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Sd.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Md(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Sd.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Sd.then(()=>{const r=this._findContainer(n.path),i=new fM({});(function SF(t,e){gM(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Sd.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Sd.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),function DF(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new EF(this.control)),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(x(hn,10),x(qo,10),x(Jl,8))};static \u0275dir=he({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Dn("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[_t([Fie]),Ue]})}return t})();function wF(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function IF(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const RF=class extends hM{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(uM(n),dM(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=IF(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,!1!==n?.emitEvent&&this._events.next(new cM(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){wF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){wF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){IF(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Bie={provide:Ko,useExisting:rt(()=>yM)},AF=Promise.resolve();let yM=(()=>{class t extends Ko{_changeDetectorRef;callSetDisabledState;control=new RF;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new kt;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function mM(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===JT?n=o:function Oie(t){return Object.getPrototypeOf(t.constructor)===ha}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function _M(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Md(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){AF.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function Cl(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);AF.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Kp(t,e){return[...e.path,t]}(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(x(fn,9),x(hn,10),x(qo,10),x(Ei,10),x(Mu,8),x(Jl,8))};static \u0275dir=he({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[_t([Bie]),Ue,Or]})}return t})(),bF=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=he({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();const Jie={provide:Ei,useExisting:rt(()=>r_),multi:!0};function jF(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let r_=(()=>{class t extends ha{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=S(Bi).injector;destroyRef=S(kr);cdr=S(Mu);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Bh({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;const i=jF(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function eoe(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Lt(t)))(i||t)}})();static \u0275dir=he({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&Dn("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[_t([Jie]),Ue]})}return t})(),BF=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(jF(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(x(rr),x(Li),x(r_,9))};static \u0275dir=he({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();const toe={provide:Ei,useExisting:rt(()=>vM),multi:!0};function GF(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let vM=(()=>{class t extends ha{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);i.push(c)}}else{const s=r.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function noe(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Lt(t)))(i||t)}})();static \u0275dir=he({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&Dn("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[_t([toe]),Ue]})}return t})(),UF=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(GF(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(GF(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(x(rr),x(Li),x(vM,9))};static \u0275dir=he({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),doe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ji({type:t});static \u0275inj=Zr({})}return t})(),hoe=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Jl,useValue:n.callSetDisabledState??qp}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ji({type:t});static \u0275inj=Zr({imports:[doe]})}return t})(),foe=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ji({type:t,bootstrap:[Jre]})}static{this.\u0275inj=Zr({providers:[dre(da(Wo.LegacyInterceptors,[{provide:Lx,useFactory:nre},{provide:vd,useExisting:Lx,multi:!0}]))],imports:[wq,oY,hoe]})}}return t})();(function Db(t,e,n){const r=t.\u0275cmp;r.directiveDefs=vf(e,W0),r.pipeDefs=vf(n,br)})(jx,[ZP,JP,bF,BF,UF,r_,_F,mF,yM,Dd],[n1,eie]),Dq().bootstrapModule(foe).catch(t=>console.error(t))},218:function(ic){ic.exports=function(){"use strict";function oc(T,R,$,q,Z){!function W(re,Se,Ae,Oe,ft){for(;Oe>Ae;){if(Oe-Ae>600){var xe=Oe-Ae+1,Dt=Se-Ae+1,Ea=Math.log(xe),Di=.5*Math.exp(2*Ea/3),Yr=.5*Math.sqrt(Ea*Di*(xe-Di)/xe)*(Dt-xe/2<0?-1:1);W(re,Se,Math.max(Ae,Math.floor(Se-Dt*Di/xe+Yr)),Math.min(Oe,Math.floor(Se+(xe-Dt)*Di/xe+Yr)),ft)}var Ar=re[Se],Fn=Ae,Jn=Oe;for(qr(re,Ae,Se),ft(re[Oe],Ar)>0&&qr(re,Ae,Oe);Fn<Jn;){for(qr(re,Fn,Jn),Fn++,Jn--;ft(re[Fn],Ar)<0;)Fn++;for(;ft(re[Jn],Ar)>0;)Jn--}0===ft(re[Ae],Ar)?qr(re,Ae,Jn):qr(re,++Jn,Oe),Jn<=Se&&(Ae=Jn+1),Se<=Jn&&(Oe=Jn-1)}}(T,R,$||0,q||T.length-1,Z||xt)}function qr(T,R,$){var q=T[R];T[R]=T[$],T[$]=q}function xt(T,R){return T<R?-1:T>R?1:0}var ze=function(T){void 0===T&&(T=9),this._maxEntries=Math.max(4,T),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function sc(T,R,$){if(!$)return R.indexOf(T);for(var q=0;q<R.length;q++)if($(T,R[q]))return q;return-1}function Kr(T,R){ht(T,0,T.children.length,R,T)}function ht(T,R,$,q,Z){Z||(Z=dr(null)),Z.minX=1/0,Z.minY=1/0,Z.maxX=-1/0,Z.maxY=-1/0;for(var W=R;W<$;W++){var re=T.children[W];J(Z,T.leaf?q(re):re)}return Z}function J(T,R){return T.minX=Math.min(T.minX,R.minX),T.minY=Math.min(T.minY,R.minY),T.maxX=Math.max(T.maxX,R.maxX),T.maxY=Math.max(T.maxY,R.maxY),T}function ac(T,R){return T.minX-R.minX}function CM(T,R){return T.minY-R.minY}function Nd(T){return(T.maxX-T.minX)*(T.maxY-T.minY)}function Rr(T){return T.maxX-T.minX+(T.maxY-T.minY)}function Si(T,R){return T.minX<=R.minX&&T.minY<=R.minY&&R.maxX<=T.maxX&&R.maxY<=T.maxY}function va(T,R){return R.minX<=T.maxX&&R.minY<=T.maxY&&R.maxX>=T.minX&&R.maxY>=T.minY}function dr(T){return{children:T,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function lc(T,R,$,q,Z){for(var W=[R,$];W.length;)if(!(($=W.pop())-(R=W.pop())<=q)){var re=R+Math.ceil(($-R)/q/2)*q;oc(T,re,R,$,Z),W.push(R,re,re,$)}}return ze.prototype.all=function(){return this._all(this.data,[])},ze.prototype.search=function(T){var R=this.data,$=[];if(!va(T,R))return $;for(var q=this.toBBox,Z=[];R;){for(var W=0;W<R.children.length;W++){var re=R.children[W],Se=R.leaf?q(re):re;va(T,Se)&&(R.leaf?$.push(re):Si(T,Se)?this._all(re,$):Z.push(re))}R=Z.pop()}return $},ze.prototype.collides=function(T){var R=this.data;if(!va(T,R))return!1;for(var $=[];R;){for(var q=0;q<R.children.length;q++){var Z=R.children[q],W=R.leaf?this.toBBox(Z):Z;if(va(T,W)){if(R.leaf||Si(T,W))return!0;$.push(Z)}}R=$.pop()}return!1},ze.prototype.load=function(T){if(!T||!T.length)return this;if(T.length<this._minEntries){for(var R=0;R<T.length;R++)this.insert(T[R]);return this}var $=this._build(T.slice(),0,T.length-1,0);if(this.data.children.length)if(this.data.height===$.height)this._splitRoot(this.data,$);else{if(this.data.height<$.height){var q=this.data;this.data=$,$=q}this._insert($,this.data.height-$.height-1,!0)}else this.data=$;return this},ze.prototype.insert=function(T){return T&&this._insert(T,this.data.height-1),this},ze.prototype.clear=function(){return this.data=dr([]),this},ze.prototype.remove=function(T,R){if(!T)return this;for(var $,q,Z,W=this.data,re=this.toBBox(T),Se=[],Ae=[];W||Se.length;){if(W||(W=Se.pop(),q=Se[Se.length-1],$=Ae.pop(),Z=!0),W.leaf){var Oe=sc(T,W.children,R);if(-1!==Oe)return W.children.splice(Oe,1),Se.push(W),this._condense(Se),this}Z||W.leaf||!Si(W,re)?q?($++,W=q.children[$],Z=!1):W=null:(Se.push(W),Ae.push($),$=0,q=W,W=W.children[0])}return this},ze.prototype.toBBox=function(T){return T},ze.prototype.compareMinX=function(T,R){return T.minX-R.minX},ze.prototype.compareMinY=function(T,R){return T.minY-R.minY},ze.prototype.toJSON=function(){return this.data},ze.prototype.fromJSON=function(T){return this.data=T,this},ze.prototype._all=function(T,R){for(var $=[];T;)T.leaf?R.push.apply(R,T.children):$.push.apply($,T.children),T=$.pop();return R},ze.prototype._build=function(T,R,$,q){var Z,W=$-R+1,re=this._maxEntries;if(W<=re)return Kr(Z=dr(T.slice(R,$+1)),this.toBBox),Z;q||(q=Math.ceil(Math.log(W)/Math.log(re)),re=Math.ceil(W/Math.pow(re,q-1))),(Z=dr([])).leaf=!1,Z.height=q;var Se=Math.ceil(W/re),Ae=Se*Math.ceil(Math.sqrt(re));lc(T,R,$,Ae,this.compareMinX);for(var Oe=R;Oe<=$;Oe+=Ae){var ft=Math.min(Oe+Ae-1,$);lc(T,Oe,ft,Se,this.compareMinY);for(var xe=Oe;xe<=ft;xe+=Se){var Dt=Math.min(xe+Se-1,ft);Z.children.push(this._build(T,xe,Dt,q-1))}}return Kr(Z,this.toBBox),Z},ze.prototype._chooseSubtree=function(T,R,$,q){for(;q.push(R),!R.leaf&&q.length-1!==$;){for(var Z=1/0,W=1/0,re=void 0,Se=0;Se<R.children.length;Se++){var Ae=R.children[Se],Oe=Nd(Ae),ft=(xe=T,Dt=Ae,(Math.max(Dt.maxX,xe.maxX)-Math.min(Dt.minX,xe.minX))*(Math.max(Dt.maxY,xe.maxY)-Math.min(Dt.minY,xe.minY))-Oe);ft<W?(W=ft,Z=Oe<Z?Oe:Z,re=Ae):ft===W&&Oe<Z&&(Z=Oe,re=Ae)}R=re||R.children[0]}var xe,Dt;return R},ze.prototype._insert=function(T,R,$){var q=$?T:this.toBBox(T),Z=[],W=this._chooseSubtree(q,this.data,R,Z);for(W.children.push(T),J(W,q);R>=0&&Z[R].children.length>this._maxEntries;)this._split(Z,R),R--;this._adjustParentBBoxes(q,Z,R)},ze.prototype._split=function(T,R){var $=T[R],q=$.children.length,Z=this._minEntries;this._chooseSplitAxis($,Z,q);var W=this._chooseSplitIndex($,Z,q),re=dr($.children.splice(W,$.children.length-W));re.height=$.height,re.leaf=$.leaf,Kr($,this.toBBox),Kr(re,this.toBBox),R?T[R-1].children.push(re):this._splitRoot($,re)},ze.prototype._splitRoot=function(T,R){this.data=dr([T,R]),this.data.height=T.height+1,this.data.leaf=!1,Kr(this.data,this.toBBox)},ze.prototype._chooseSplitIndex=function(T,R,$){for(var q,Z,W,re,Se,Ae,Oe,ft=1/0,xe=1/0,Dt=R;Dt<=$-R;Dt++){var Ea=ht(T,0,Dt,this.toBBox),Di=ht(T,Dt,$,this.toBBox),Yr=(Z=Ea,W=Di,void 0,void 0,void 0,void 0,re=Math.max(Z.minX,W.minX),Se=Math.max(Z.minY,W.minY),Ae=Math.min(Z.maxX,W.maxX),Oe=Math.min(Z.maxY,W.maxY),Math.max(0,Ae-re)*Math.max(0,Oe-Se)),lo=Nd(Ea)+Nd(Di);Yr<ft?(ft=Yr,q=Dt,xe=lo<xe?lo:xe):Yr===ft&&lo<xe&&(xe=lo,q=Dt)}return q||$-R},ze.prototype._chooseSplitAxis=function(T,R,$){var q=T.leaf?this.compareMinX:ac,Z=T.leaf?this.compareMinY:CM;this._allDistMargin(T,R,$,q)<this._allDistMargin(T,R,$,Z)&&T.children.sort(q)},ze.prototype._allDistMargin=function(T,R,$,q){T.children.sort(q);for(var Z=this.toBBox,W=ht(T,0,R,Z),re=ht(T,$-R,$,Z),Se=Rr(W)+Rr(re),Ae=R;Ae<$-R;Ae++){var Oe=T.children[Ae];J(W,T.leaf?Z(Oe):Oe),Se+=Rr(W)}for(var ft=$-R-1;ft>=R;ft--){var xe=T.children[ft];J(re,T.leaf?Z(xe):xe),Se+=Rr(re)}return Se},ze.prototype._adjustParentBBoxes=function(T,R,$){for(var q=$;q>=0;q--)J(R[q],T)},ze.prototype._condense=function(T){for(var R=T.length-1,$=void 0;R>=0;R--)0===T[R].children.length?R>0?($=T[R-1].children).splice($.indexOf(T[R]),1):this.clear():Kr(T[R],this.toBBox)},ze}()}},ic=>{ic(ic.s=146)}]);